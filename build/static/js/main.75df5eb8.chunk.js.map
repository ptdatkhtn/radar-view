{"version":3,"sources":["components/CollaborationChartSetting/edit1.svg","components/CollaborationChartSetting/edit2.svg","components/CollaborationChartSetting/fullscreen.svg","helpers.js","reducers/radarSettings.js","reducers/phenomena.js","reducers/filters.js","reducers/signals.js","reducers/index.js","actions/network.js","actions/radarSettings.js","configureStore.js","components/Phenomenon.js","env.js","components/Phenomena.js","components/AllPhenomena.js","containers/AllPhenomenaContainer.js","selectors/index.js","config.js","quill.js","components/RatingSummaryPreview.js","components/AxisPreview.js","components/ConfirmationModalForRatings/ConfirmationModalForRatings.js","components/CollaborationChartSetting/index.js","components/EmbedLinkModal.js","components/InformationModal/InformationModal.js","components/RatingModalPreviewEditMode/RatingModalPreviewEditMode.js","components/CreateRadarForm.js","containers/CreateRadarFormContainer.js","containers/SandboxPhenomenaSelectorContainer.js","components/AddPhenomenaSandbox.js","radarDataApiProxy.js","actions/phenomenaTypes.js","pptx-generator.js","actions/radarData.js","containers/AddPhenomenaSandboxContainer.js","actions/confirmDialog.js","containers/ConfirmDialogContainer.js","components/AddSignalForm.js","actions/signals.js","containers/AddSignalFormContainer.js","components/SignalList.js","containers/SignalListContainer.js","components/ShareRadarModal.js","containers/ShareRadarModalContainer.js","components/PublicLink/PublicLink.js","components/ConfirmationModal/ConfirmationModal.js","components/DeleteConfirmationModal/DeleteConfirmationModal.js","components/SharedLinkModalAfterDelete/SharedLinkModalAfterDelete.js","components/SideNav.js","containers/SideNavContainer.js","containers/ErrorModalContainer.js","components/SectorEditorForm.js","components/EditSectorMenu.js","components/RadarPage.js","actions/sectors.js","containers/RadarPageContainer.js","actions/timelines.js","components/TimerangeEditorForm.js","containers/TimeRangeEditorFormContainer.js","components/Filters.js","containers/FiltersContainer.js","serviceWorker.js","styles.js","translations.js","index.js","components/CreateRadarForm.module.css","components/PublicLink/PublicLink.module.css","polyfills.js"],"names":["module","exports","getCoordsFromAngleAndRadius","angle","radius","d3","match","slice","map","Number","detectLeftButton","evt","event","window","buttons","which","button","publicEditorRole","permissions","_","find","permission","makeGroup","group","role","id","label","radarsUsed","radarsAllowedString","radarsAllowed","accountDrupalRoles","accountPermissions","availableResources","canEditPublic","canEdit","value","hasAvailableRadars","isFpEditor","getUserRoles","paramsString","document","location","search","searchParams","URLSearchParams","get","initialState","existingRadarPage","addRadarFormOpen","addRadarFormPage","groups","radarName","mapIntro","radarLanguage","getCurrentLanguage","phenomenaSet","hideUsersFromTrial","radarImage","votingOn","ratingsOn","discussionOn","commentsOn","likingOn","votingUp","editMenuOpen","editSectorsPageOpen","editTimeRangesPageOpen","addPhenomenaVisible","editPhenomenaVisible","account","displayHaloWhenRating","enableUrlLogin","urlLoginExpire","urlLoginLink","isRadarTemplate","radarTitleImage","timelineLabelFormat","draggedPhenomenonId","filtersVisible","activeFilter","activeTagFilter","signalListVisible","signalCreateVisibility","signals","totalRadarSignals","combineReducers","sectors","filters","state","type","payload","TOGGLE_FILTERS","SET_ACTIVE_FILTER","filter","SET_ACTIVE_TAG_FILTER","includes","RESET_FILTERS","phenomena","REFETCH_DATA_SUCCESS","FETCH_RADAR_SUCCESS","UPDATE_PHENOMENON","phenomenon","UPDATE_PHENOMENON_VERSION","version","CREATE_PHENOMENA_SUCCESS","concat","DELETE_PHENOMENA_SUCCESS","item","CREATE_PHENOMENA_POSITION_SUCCESS","UPDATE_PHENOMENON_INGESTION_SUCCESS","timelines","radarSettings","SET_DRAGGED_PHENOMENON","TOGGLE_LABEL_MODE","TOGGLE_EDIT_MENU_VISIBILITY","UPDATE_RADAR_SUCCESS","CREATE_RADAR_SUCCESS","origin","pathname","href","time_ranges","length","HANDLE_ADD_FORM_VISIBILITY","setLanguage","canDeleteRadar","String","userId","ownerId","canEditRadar","isVisitor","canShareRadar","CHANGE_RADAR_SHARING","CHANGE_RADAR_SHARING_EXPIRY","CHANGE_EXISTING_RADAR_PAGE","HANDLE_EDIT_SECTOR_PAGE_VISIBILITY","HANDLE_EDIT_TIMERANGES_PAGE_VISIBILITY","CHANGE_RADAR_NAME","CHANGE_MAP_INTRO","CHANGE_RADAR_LANGUAGE","CHANGE_ADD_FORM_PAGE","CHANGE_PHENOMENA_SET","CHANGE_RADAR_GROUP","CHANGE_HIDE_USERS_FROM_TRIAL","CHANGE_RADAR_IMAGE","CHANGE_RADAR_TITLE_IMAGE","CHANGE_VOTING_ON","CHANGE_DISPLAY_HALO_WHEN_RATING","CHANGE_RATINGS_ON","CHANGE_RATINGS_SETTINGS","CHANGE_DISCUSSION_ON","CHANGE_COMMENTS_ON","CHANGE_LIKING_ON","CHANGE_VOTING_UP","GET_GROUPS_SUCCESS","HANDLE_ADD_PHENOMENA_VISIBILITY","HANDLE_EDIT_PHENOMENA_VISIBILITY","UPDATE_RADAR_VERSION","radar_version","radarSets","loading","errors","phenomenaTypes","phenomenaTypesById","HANDLE_SIGNAL_LIST_VISIBILITY","HANDLE_SIGNAL_CREATE_VISIBILITY","FETCH_SIGNALS_SUCCESS","result","total","FETCH_MORE_SIGNALS_SUCCESS","CREATE_SIGNAL_SUCCESS","confirmDialog","loadingError","component","error","defaultMessage","message","actionTypes","getNetworkMethods","successType","success","dispatch","err","toggleEditMenuVisiblity","visibilityState","getUserGroups","requestTranslation","groupRequest","drupalApi","getGroups","membershipRequest","getMemberships","Promise","all","then","memberships","membershipGroupIds","Object","values","membership","parseInt","gid","indexOf","catch","changeAddRadarFormVisibility","page","changeDisplayHaloWhenRating","rating","changeRadarName","name","changeMapIntro","changeRadarLanguage","language","changeRadarGroup","changeAddRadarFormPage","changePhenomenaSet","set","changeHideUsersFromTrial","bool","changeRadarImage","image","changeRadarTitleImage","changeVotingOn","changeRatingsOn","changeRadarSharing","changeRadarSharingExpiry","date","changeRatingsSettings","axisXTitle","axisXMax","axisXMin","axisYTitle","axisYMax","axisYMin","fourFieldsTopLeft","fourFieldsTopRight","fourFieldsBottomLeft","fourFieldsBottomRight","changeDiscussionOn","changeCommentsOn","changeLikingOn","changeVotingUp","toggleFilter","setActiveFilter","setActiveTagFilter","resetFilters","createRadar","getState","a","groupId","isObject","handleImageUploadIfNeeded","radarInput","data","updateRadar","hideForm","getRadarSets","getRadarTemplates","sectorPageHandler","timerangePageHandler","clearAllErrors","changeAddPhenomenaVisibility","changeEditPhenomenaVisibility","phenomenonUuid","console","composeEnhancers","compose","store","createStore","rootReducer","applyMiddleware","thunk","radarCallbacks","openPhenomenonEditor","uuid","Phenomenon","handleDrag","e","stopPropagation","props","onPhenomenaDrag","phenomenonRef","ref","getPhenomenonType","content","defaultValue","alias","getClassNameState","includesTag","tags","tag","getFilterClassName","tagFilter","setFilter","getClassNameDrag","dragged","deleting","this","addEventListener","removeEventListener","fill","labelWidth","phenomenaSize","cx","cy","fontSize","hidden","radarId","title","short_title","halo","style","color","hideEdit","hasGroup","hasOwnProperty","groupUrl","process","urlParams","vsid","getPhenomenonUrl","classes","classNames","left","data-href","className","size","x","y","width","height","xlinkHref","display","alignItems","justifyContent","textAnchor","verticalAnchor","PureComponent","getConstrainedValue","min","max","Phenomena","range","copyPhenomena","constraints","sector","xScale","domain","yScale","index","fy","startForce","nodes","force","stop","strength","distanceMax","on","node","setState","getNodeCoordinates","invert","nextProps","nextPhenomena","isEqual","draggedPhenomenon","phenomenaDisplayProps","key","AllPhenomena","timeRanges","getPhenomenaDisplayProps","connect","bindActionCreators","isCollaborationToolsAllowed","createSelector","g","collaboration_tools","customQuillModules","toolbar","header","font","list","indent","clipboard","matchVisual","radarLanguages","initialCommentTopics","checked","TIMELINE_TEMPLATE","position","year","description","timerangeColors","interpolate","formats","CanvasContainer","styled","div","containerWidth","h3","canvas","HeaderContainer","h2","AxisX","customHeight","axisWidth","horizontalAxisName","leftEnd","rightEnd","cellStyle","fontFamily","whiteSpace","cellPadding","cellSpacing","align","margin","border","textAlign","overflow","textOverflow","fontWeight","AxisY","axisHeight","verticalAxisName","topEnd","lowEnd","containerHeight","writingMode","transform","RatingSummaryPreview","topHeader","bottomHeader","topLeft","topRight","bottomLeft","bottomRight","useState","appContext","setAppContext","axis","axisContext","drawLine","begin","end","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","drawText","text","fillStyle","fillText","drawNormalAxis","clientHeight","clientWidth","useEffect","canvasAxis","getElementById","getContext","svgApp","background","ConfirmationModalForRatings","ConfirmationModalNote","confirmationModal","confirmationModalClose","confirmationModalHandleBtn","isOpen","contentLabel","ariaHideApp","paddingModalStyles","onClick","toUpperCase","GlobalStyle","createGlobalStyle","ButtonModalStyled","primary","marginRight","ButtonModalActions","ModalContent","EditButton","img","ModalTitle","ModalInputHint","ModalInputValue","input","SETTING_VALUE","SETTING_VALUE_TITLE","getLanguage","onEdit","marginTop","zIndex","paddingLeft","src","edit2","paddingRight","marginBottom","CollaborationChartSetting","passisCustomToRatingModalPreviewModeVertical","passisCustomToRatingModalPreviewModeHoronzal","inputSelectedX","inputSelectedY","isCustomHorozol","isCustomVertical","showModal","currentSettingIndex","inputValueModal","isEditHorizontal","setIsEditHorizontal","isVerticalEdit","setIsVerticalEdit","inputSelectedXValue","setinputSelectedXValue","inputSelectedYValue","setinputSelectedYValue","topLeftValue","topRightValue","bottomLeftValue","bottomRightValue","leftEndValue","rightEndValue","topEndValue","lowEndValue","horizontalAxisNameValue","verticalAxisNameValue","onCloseModal","prevState","onEditSetting","onSaveModal","resolve","trim","localStorage","setItem","JSON","stringify","retrievedObject","parse","getItem","clearRect","mockData","some","i","leftAttr","rightAttr","nameAxis","setCanvas","useCallback","onRequestClose","confirmDialogModalStyles","maxLength","onChange","persist","target","disabled","EmbedLinkModal","EmbedLinkModalOpen","EmbedLinkModalClose","EmbedLink","viewportHeight","innerHeight","viewportHeight065","CloseBtnWrapper","InformationModal","InfoModalHeader","InfoModalDescription","InfoModalDescription2","InfoModalDescription3","InfoModalDescription4","InfoModalDescription5","InfoModalDescription6","InfoModalDescription7","InfoModalNote","InfoModalOpen","InfoModalClose","LearnMoreLink","LearnMoreBtn","GuideBtn","GuideLink","React","openEmbedLinkModalGuideLink","setOpenEmbedLinkModalGuideLink","openEmbedLinkModalLearnMoreLink","setOpenEmbedLinkModalLearnMoreLink","marginLeft","InformationIcon","InformationUl","InformationLi","InfoCircle","ul","li","CustomModalStyles","URL","webkitURL","overlay","withStyles","theme","popover","pointerEvents","paper","padding","spacing","backgroundColor","isRatingPreviewEditOpen","axisYSelect","axisXSelect","RatingAnchorEl","RatingDescriptionDisplayed","openClearAllFields","widthContentWidth","onHoverRatingIcon","onLeaveRatingIcon","handleDisplayVericalAxisRatingChange","handleDisplayHorizontalAxisRatingChange","openClearAllFieldsModal","handleFlipHorizontalAndVerticalChange","closeClearAllFieldsModal","clearAllFieldsBtn","handleRatingPreviewEditModeClose","handleRatingOff","passCheckedCustomData","emitFlagToRefetchDataOfChart","handleUpdateStateWhenClickedDoneBtnInCreateRadarForm","isCustomVerticalProp","isCustomHorozontalProp","setIsCustomVertical","setIsCustomHorozol","setTopEnd","setLowEnd","setLeftEnd","setRightEnd","xName","setXName","yName","setYname","fourFieldsTopLeftValue","setfourFieldsTopLeftValue","fourFieldsTopRightValue","setfourFieldsTopRight","fourFieldsBottomLeftValue","setfourFieldsBottomLeftValue","fourFieldsBottomRightValue","setfourFieldsBottomRightValue","axisXSelectValue","setaxisXSelect","axisYSelectValue","setaxisYSelect","openRatingInformationModal","setOpenRatingInformationModal","handleBothClickedDoneAndPassCheckedCustomData","isVertical","isHorizontal","CustomHalfWidth","onMouseEnter","onMouseLeave","Popover","open","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","HoverBox","SpaceBetween","icons","defaultChecked","FullWidthBgContainer","paddingTop","HalfWidth","Columns","Column","searchable","styles","options","mockDataEn","sort","b","localeCompare","mockDataFin","clearable","RatingGroupBtn","RatingHandleBtnGroup","HandleRatingsBtn","prestate","pre","HandleRatingsBtnActive","HandleDoneBtn","handleDoneBtn","removeItem","p","CreateRadarForm","VotingAnchorEl","CommentingAnchorEl","DiscussionAnchorEl","VotingDescriptionDisplayed","CommentingDescriptionDisplayed","DiscussionDescriptionDisplayed","openRatingModalEditMode","openVotingInformationModal","openCommentingInformationModal","openDiscussionInformationModal","votingHaloOn","handleResize","editorMode","current","offsetWidth","setFieldError","field","hasError","validateRadarName","hasRadarNameError","validateGroup","hasGroupError","groupValue","handleRadarNameChange","handleMapIntroChange","handleValueChange","handleRadarLanguageChange","handlePhenomenaSetChange","imageUrl","radarSet","logo_image","handleDisplayHaloWhenRatingChange","handleGroupChange","handleDiscussionOnChange","handleVotingOnChange","handleVotingHaloOnChange","handleRatingsOnChange","handleLikingOnChange","handleCommentsOnChange","handleVotingSelection","handleHideUsersFromTrialClick","handleTopicChange","topicLabel","updatedTopics","commentTopics","topic","handleImageSelect","file","fileName","files","reader","FileReader","onload","Image","createObjectURL","imageFile","readAsDataURL","handleTitleImageSelect","imageTitleFile","handleTitleImageDelete","handleImageDelete","handleNextClick","validate","handleBackClick","handleCloseClick","redirectUser","replace","renderConclusionForm","paddingBottom","modules","renderBasicSettingsForm","propsRadarTitleImage","renderTitleLogoInput","radarLogoEnabled","SelectImageContainer","RadarImageContainer","RadarImage","RadarImageCloseContainer","RadarImageClose","SelectImageInputContainer","SelectImageInput","accept","placeholder","SelectImageButton","RadarTitleImage","whiteBg","renderFormPage","renderUserOptionsForm","renderHeaderAndLanguageForm","createRef","first","titleLogo","debounce","shouldSetDefaultRadarSet","push","onLeaveVotingIcon","currentTarget","onLeaveCommentingIcon","onLeaveDiscussionIcon","isCustom","inputVerticalAxisValue","inputHorozoltalAxisValue","UpVotesWrapper","times","FieldError","Input","maxWidth","renderFieldError","SelectWrapper","select","toLowerCase","phrase","firstPage","Pagination","PaginationLine","PaginationNumber","active","renderCancelButton","renderNextButton","shown","renderPagination","getRadarSetsByLanguage","PhenomenaSelector","AddPhenomenaSandbox","createModalShown","filtersShown","successfullyCreatedCallback","handlePhenomenaSelection","selectedPhenomena","handleCreateNew","handleAdd","addPublicPhenomenaToRadar","hideAddForm","bumpResetFilters","updateMouseCoords","storePhenomenon","radar","modalStyles","onSubmit","newsFeedChanges","onCancel","onDelete","placing","handle","opacity","cursor","onSelect","onCreate","onAddToRadarClick","sandbox","handleFilterChange","renderCreateModal","handler","radarApi","Error","res","updateRadarVersion","radarDataApiProxy","Proxy","radarDataApi","getPhenomenaTypes","addHeading","addTitle","addSlide","addCoverSlide","addPreviewSlide","addSectorsSlide","addSectorSummarySlide","addSectorContent","addTopVotedContentSlide","addRatedContentImageSlide","addRatedContentAxisSlide","addCommentSummarySlide","slide","tr","addText","comment_count","breakLine","radarResultsUrl","hyperlink","url","xPhenomena","yPhenomena","xOffset","forEach","w","h","bold","rows","rating_avg","phenomenonTypeTitlesById","toFixed","addTable","colW","valign","screenshot","waitFor","selector","addImage","pageNum","totalCount","vote_sum","summary","time_range","time","yearMin","yearMax","timeRangeStr","isTextBox","shrinkText","Math","trunc","toText","notes","bullet","lineSpacing","masterName","undefined","radarUrl","autoShrink","createdDate","username","opts","pptx","assign","fontFace","txt","PptxGenJS","getUsername","reportCreatedDate","Date","toLocaleDateString","phenomenonTypes","reduce","obj","getRadar","results_url","radarPhenomenaDataById","getRadarPhenomena","radarPhenomena","defineLayout","layout","defineSlideMaster","objects","sectorPhenomena","sectorId","splice","sortedPhenomena","aVoteSum","aTimestamp","bVoteSum","bTimestamp","topVotedPageCount","ceil","topVotedPageNum","axisPhenomena","aRatingAvg","bRatingAvg","aAvg","writeFile","html","htmlToText","fromString","wordwrap","ignoreImage","singleNewLineParagraphs","fetchRadar","radarData","linkEl","createElement","setAttribute","head","appendChild","phenomenaData","speech_bubble","refetchRadarData","deleteRadarPhenomenon","callback","phenomenon_uuid","deletePhenomenon","updatePhenomenonPosition","phenomenaApiErrorHandler","errorFunc","response","error_code","archived","_upload","rest","phenomenonInput","media","storePhenomenonWithNewsFeeds","storedPhenomenon","status","failedNewsFeedTitles","NEWSFEED_ERROR_PARTIAL","NEWSFEED_ERROR","updatePhenomenon","positionData","updatedPhenomenon","updatePhenomenonVersion","cloneRadar","parentRadarId","deleteRadar","generatePowerpoint","generatePPTX","toggleConfirmationDialog","ConfirmDialog","AddSignalForm","body","errorsShown","handleTitleChange","handleBodyChange","handleCreate","createSignal","changeSignalCreateVisibility","SignalImage","changeSignalListVisibility","fetchRadarSignals","searchInput","getSignals","archiveSignal","signalId","archiveDocument","TYPE_SIGNAL","signal","titleMissing","languageMissing","doc","getImageUrl","uploadFile","upsertDocument","SignalList","debounceTimeout","handleArchiveSignal","handleScroll","signalData","totalPages","scrollHeight","scrollTop","handleSearchChange","clearTimeout","setTimeout","nextState","nextPage","willBeVisible","canArchiveSignals","image_url","created","created_at","created_by_name","toJSON","SignalItem","alt","objectFit","dangerouslySetInnerHTML","__html","split","reverse","join","confirm","SearchResultsList","small","renderSignal","bind","onScroll","renderSignals","ShareRadarModal","requestClose","requestOpenPublicLink","checkPublicLinkExsited","publicLink","isPublicShareUrlEnabled","borderRadius","Component","PublicLink","isModalOpen","publicURL","openConfirmationModal","openDeleteConfirmationModal","shareInput","setShareInput","linkCopied","setLinkCopied","onRequestCloseModal","ReactModal__Content","Modal__Title","readOnly","onFocus","el","onCopy","focus","flexShrink","RegenerateBtn","SavePublicLink__Container","ConfirmationModal","regeneratePublicLink","DeleteConfirmationModal","deletePublicLink","deleteConfirmationModal","deleteConfirmationModalClose","SharedLinkModalAfterDelete","SharedLinkModalAfterDeleteClose","RadarTitle","SideNav","deletingModalOpen","sharingModalOpen","clonedModalOpen","generatingModalOpen","publicLinkModal","publicSharedLink","publicSharedUserInfo","radarShareId","publicSharedLinkExsited","radarTitle","toggleOpenEditMenu","clonedRadarCallback","newRadarHref","closeRadar","redirect","getReturnUrl","closePublicLink","openPublicLinkModal","createOrReplaceRadarPublicShare","getRadarPublicShare","onRegeneratePublicLink","regenerateRadarPublicShare","closeConfirmationModal","closeDeleteConfirmationModal","onDeletePublicLink","removeRadarPublicShare","onCloseSharedLinkModalAfterDelete","onShareRadarClick","shareQuery","publicShareUrlEnabled","returnId","signalToolEnabled","collaborationToolsAllowed","renderRadarEditor","Edit","EditMenu","EditTriangle","EditMenuHeader","lineHeight","EditMenuItem","CloseButton","Container","span","returnUri","ErrorModal","SectorEditorForm","titleInput","descriptionInput","handleDescriptionChange","updateSector","Title","SubTitle","ButtonsContainer","EditSectorMenu","timeranges","addSector","deleteSector","handleEditSectorForm","top","RadarPage","zoomed","phenomenaDragged","isZoomable","zoomTransform","handleResultsRedirect","isEditorPageOpen","hideSectorMenuEdit","editMenuPosition","showSectorEditMenu","pageX","pageY","handleEditPhenomenonFormClose","renderRadar","k","shouldRadarRender","xmlns","svgRef","radarRef","renderTimelines","renderSectors","renderTimelineTooltip","renderLogo","renderPhenomena","renderDragMarker","renderMenuLink","scaled","r","icon","renderEditabilityTooltip","offset","middleOfSectorAngle","startAngle","endAngle","toolTipOffset","renderSectorEditor","last","lastSectors","lastRadius","outerRadius","editSector","zoomExtent","newlyCreated","setDraggedPhenomenon","documentElement","updatingPhenomena","longpressTimeout","onPhenomenaDragEnd","handleMouseAction","radarRadius","radians","atan2","PI","sqrt","pow","isOutside","timeRange","innerRadius","outerTimeRange","boundaryRadius","boundaryTime","endYear","startYear","outerSector","scale","mouseCoords","deleteRadarPhenomenonOpen","preventDefault","svg","labelHeight","iconSize","handleWebsocketUpdate","update","toast","getParentByTag","elem","lookingFor","parentNode","tagName","handleFullscreen","isInFullScreen","fullScreenElement","mozFullScreen","webkitIsFullScreen","ReactDOM","findDOMNode","docElm","exitFullscreen","log","requestFullscreen","mozRequestFullScreen","alert","webkitRequestFullScreen","svgDimensions","containerSize","zoom","scaleExtent","isIconImgLoading","sectorDescriptionModal","elmRadar","attachEvents","prevProps","call","scaleBy","isLast","strokeWidth","strokeDasharray","selectedKey","arc","d","radarLogoLinkDisabled","logoRadius","tooltipHeight","tooltipY","line","isPlaceholder","getTimerangeLabelPath","dy","startOffset","topics","onMessage","headers","Authorization","getSessionToken","hideInfoButton","RadarTitleLogo","direction","renderTitle","renderBottomLeftNav","renderEditSectorMenu","renderSandbox","radarWidth","baseVal","renderEditPhenomenonForm","renderSockJsClient","renderCreateRadarModal","renderSectorDescriptionModal","renderDeleteRadarPhenomenonModal","Fullscreen","h1","placement","selectedSector","isEmpty","next","previous","createSector","affectedSectors","s","resultData","deletedSectorId","radarVersion","getPhenomena","getSectorPhenomena","phenomenas","getTimelineSectors","getTimeRanges","timeLineBoundaries","getRadarData","createTimeRanges","getDraggedPhenomenon","Dimensions","WrappedComponent","thisRadius","centerRadius","previousRadius","band","keys","sectorIndex","step","phenomenonRadius","getCreateTimeRanges","createPhenomenon","createPhenomenonWithPosition","roundToX","num","X","round","updateTimerange","timerange","updateRadarTimeRange","timeRangeData","updateTimerangePosition","newTimelinePositions","oldTimelinePositions","newPosition","difference","timelineToUpdate","updatePositions","removeTimeline","deleteRadarTimeRange","positions","timeline","updateTimelinePositions","timelineYearRangeValues","addTimeline","newTimelines","newTimelineIndex","sortedIndexBy","timelinePosition","addRadarTimeRange","newTimelineState","toggleLabelMode","timerangeEditModal","updateTimerangeBlock","oldPositions","calculateModalDisplacement","MODAL_TO_RADAR_MARGIN","availableWidth","innerWidth","MODAL_WIDTH","cancelEvents","blurHandles","handleYearChange","handleLabelChange","handleLabelPositionChange","generateLabelPositionOptions","nextPosition","option","validateTimerangeInput","firstYear","lastYear","isNaN","nextTimeline","previousTimeline","RANGE_BOUNDARY","previousYear","nextYear","findIndex","resetTimerangeEditModal","renderTimeRangeModal","edit","disabledText","LabelInput","InputContainer","YearInput","renderHandles","handleProps","dragging","isDisabled","toString","DragIconContainer","data-toggle","onMouseDown","onMouseUp","aria-labelledby","upperFirst","toLower","savePreviousPosition","handles","getElementsByClassName","blur","orientation","navigator","userAgent","TimeRangeEditorContainer","isMobileDevice","RangeStyles","onBeforeChange","onAfterChange","newPositions","allowCross","pushable","RANGE_MAX","Z_INDEX_MODAL","TimerangeEditorForm","OptionsListItem","LegendContainer","FiltersButton","StateContainer","PhenomenaState","HubLink","ActiveFiltersIndicator","useTags","fpTags","groupTags","activeFilters","rel","isArray","uri","renderTags","phenomenaType","groupType","borderBottom","Boolean","hostname","RadarStyles","initTranslations","pptxTimestamp","en","fi","pptxCommentsTitle","pptxCommentsText","count","download","downloadPPTXDescription","pptxGenerateReport","generatingPPTXError","pptxNotVoted","pptxReportBy","pptxSectorListTitle","pptxRatedContent","pptxReportTitle","pptxSector","pptxSectorContent","pptxTopVotedContent","timelineModeTitle","timelineModeSubtitle","timelineDeleteTitle","timelineDeleteSubtitle","addTimelineButton","deleteSignalConfirmation","add","timerangeBoundaryError","timerangeSpaceError","timerangeAmountError","timerangeError","timerangeSmallerYearError","timerangeLargerYearError","timerangeCurrentYearError","currentYear","timelineEditor","updatingTimelinesPositionError","removingTimelineError","addingTimelineError","timerangeExistsError","typeLabel","labelPosition","afterLabel","previousLabel","consecutiveYearError","filterPhenomena","goToHub","moreInfoHub","toggleTimelineMode","done","cancel","filterByType","filterByTag","openPublicLink","createPublicLink","publicLinkNote","publicLinkURL","regeneratePublicLinkNote","deletePublicLinkBtn","sharePublicLinkConfirmation","sharePublicLinkConfirmationNote","deletePublicLinkConfirmation","deletePublicLinkConfirmationNote","copyToClipboard","publicLinkCopied","shareRadarFromUsrMngmt","publicLinkExisted","checkPublicLinkAlreadyExisted","goToManagement","ok","sharedLinkDeletedNote","upvotesForHaloDescription","createFormDiscussionDescription","HorizontalAxisName","IntructionsForNamingAxis","FlipHorizontalVertical","editManuallyBtn","InfoIconHoverVoting","InfoIconHoverRating","InfoIconHoverCommenting","InfoIconHoverDiscussion","InfoModalVotingNote","InfoModalVotingContent","InfoModalVotingContent2","InfoModalVotingContent3","InfoModalVotingContent4","InfoModalVotingContent5","InfoModalVotingContent6","InfoModalVotingContent7","LearnMoreFromHUB","LearnMoreVotingBtn","GuideVotingBtn","InfoModalRatingNote","InfoModalRatingContent","InfoModalRatingContent2","InfoModalRatingContent3","InfoModalRatingContent4","InfoModalRatingContent5","InfoModalRatingContent6","LearnMoreRatingBtn","GuideRatingBtn","InfoModalCommentingNote","InfoModalCommentingContent","InfoModalCommentingContent2","InfoModalCommentingContent3","InfoModalCommentingContent4","LearnMoreCommentingBtn","GuideCommentingBtn","InfoModalDiscussionNote","InfoModalDiscussionContent","InfoModalDiscussionContent2","InfoModalDiscussionContent3","LearnMoreDiscussionBtn","GuideDiscussionBtn","commenting","CommentingTool","RatingTool","VotingTool","DiscussionAreaTool","discussion","activateUsers","createFormVotingDescription","upvotesForHalo","createFormRatingDescription","selectValue","manualEditLeftEnd","manualEditRightEnd","manualEditLowEnd","manualEditHighEnd","manualEditTopLeft","manualEditTopRight","manualEditBottomLeft","manualEditBottomRight","createFormCommentingDescription","allowLikeCommenting","GotItBtn","DoneBtn","appElement","startSession","render","getAttribute","toastClassName","progressClassName","serviceWorker","ready","registration","unregister","prototype","start"],"mappings":"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","file":"static/js/main.75df5eb8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/edit1.faccf3a6.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit2.de35a092.svg\";","module.exports = __webpack_public_path__ + \"static/media/fullscreen.b2a504f8.svg\";","import * as d3 from 'd3'\nimport {\n    PUBLIC_URL\n} from './env'\nimport _ from 'lodash'\nimport { getUserRoles } from '@sangre-fp/connectors/session'\n\nexport const getCoordsFromAngleAndRadius = (angle, radius) => d3.radialLine()([[angle, radius]])\n    .match(/^M(.+),(.+)Z$/)\n    .slice(1)\n    .map(Number)\n\nexport const detectLeftButton = evt => {\n    const event = evt || window.event\n    if ('buttons' in evt) {\n        return event.buttons === 1\n    }\n    const button = event.which || event.button\n    return button === 1\n}\n\nexport const getPhenomenonUrl = (radarId = false, phenomenon, hideEdit = false) => {\n    const { group, id } = phenomenon\n    const hasGroup = phenomenon.hasOwnProperty('group')\n    const groupUrl = hasGroup ? `group=${group}` : ''\n\n    if (!radarId) {\n        return `${PUBLIC_URL}/fp-phenomena/${id}${groupUrl.length ? `/?${groupUrl}` : ''}`\n    }\n\n    const urlParams = new URLSearchParams(window.location.search)\n    const vsid = urlParams.get('vsid')\n\n    // eslint-disable-next-line\n    return `${PUBLIC_URL}/node/${radarId}?issue=${id}&map_id=${radarId}&source_position=right&source_page=radar-view${groupUrl.length ? `&${groupUrl}` : ''}${hideEdit ? '&hideEdit=true' : ''}${vsid ? `&vsid=${vsid}` : ''}`\n}\n\nexport const editorRole = role =>  role === 'manager' || role === 'owner' || role === 'editor'\n\nexport const publicEditorRole = permissions => !!_.find(permissions, permission => permission === 'fp editor')\n\nexport const makeGroup = group => {\n    const {\n        id,\n        label,\n        radarsUsed,\n        radarsAllowed: radarsAllowedString,\n        accountDrupalRoles,\n        accountPermissions,\n        availableResources\n    } = group\n\n    // backend is returning this as a string for whatever reason\n    const radarsAllowed = Number(radarsAllowedString)\n\n    // not sure why this info is in the group\n    const canEditPublic = accountDrupalRoles && publicEditorRole(accountDrupalRoles[0])\n    const canEdit = accountPermissions && editorRole(accountPermissions.role)\n\n    return {\n        ...group,\n        id,\n        value: id,\n        label,\n        radarsAllowed,\n        radarsUsed,\n        hasAvailableRadars: radarsUsed < radarsAllowed,\n        availableResources,\n        canEditPublic,\n        canEdit\n    }\n}\n\nexport const isFpEditor = publicEditorRole(getUserRoles())\n\nexport const arrayMoveMutate = (array, from, to) => {\n    array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0])\n}\n\nexport const arrayMove = (array, from, to) => {\n    const arr = array.slice()\n    arrayMoveMutate(arr, from, to)\n    return arr\n}\n","import _ from 'lodash'\nimport { makeGroup, isFpEditor } from '../helpers'\nimport { getCurrentLanguage, setLanguage } from '@sangre-fp/i18n'\nimport {\n    HANDLE_ADD_FORM_VISIBILITY,\n    CHANGE_ADD_FORM_PAGE,\n    CHANGE_RADAR_NAME,\n    CHANGE_MAP_INTRO,\n    CHANGE_RADAR_LANGUAGE,\n    CHANGE_PHENOMENA_SET,\n    CHANGE_HIDE_USERS_FROM_TRIAL,\n    CHANGE_RADAR_IMAGE,\n    CHANGE_RADAR_TITLE_IMAGE,\n    CHANGE_VOTING_ON,\n    CHANGE_RATINGS_ON,\n    CHANGE_RATINGS_SETTINGS,\n    CHANGE_DISCUSSION_ON,\n    CHANGE_COMMENTS_ON,\n    CHANGE_LIKING_ON,\n    CHANGE_VOTING_UP,\n    CHANGE_EXISTING_RADAR_PAGE,\n    HANDLE_EDIT_SECTOR_PAGE_VISIBILITY,\n    HANDLE_EDIT_TIMERANGES_PAGE_VISIBILITY,\n    HANDLE_ADD_PHENOMENA_VISIBILITY,\n    GET_GROUPS_SUCCESS,\n    CHANGE_RADAR_GROUP,\n    HANDLE_EDIT_PHENOMENA_VISIBILITY,\n    CHANGE_DISPLAY_HALO_WHEN_RATING,\n    CHANGE_RADAR_SHARING,\n    CHANGE_RADAR_SHARING_EXPIRY,\n    CREATE_RADAR_SUCCESS,\n    FETCH_RADAR_SUCCESS,\n    UPDATE_RADAR_SUCCESS,\n    UPDATE_RADAR_VERSION,\n    TOGGLE_EDIT_MENU_VISIBILITY,\n    TOGGLE_LABEL_MODE,\n    SET_DRAGGED_PHENOMENON\n} from '@sangre-fp/reducers/actionTypes'\n\n// polyfill fix for edge\nconst paramsString = document.location.search\nconst searchParams = new URLSearchParams(paramsString)\nconst id = Number(searchParams.get('node'))\n\nconst initialState = {\n    id: id || false,\n    existingRadarPage: !!id,\n    addRadarFormOpen: !id,\n    addRadarFormPage: 1,\n    groups: [],\n    group: false,\n    radarName: '',\n    mapIntro: null,\n    radarLanguage: getCurrentLanguage(),\n    phenomenaSet: false,\n    hideUsersFromTrial: false,\n    radarImage: false,\n    votingOn: false,\n    ratingsOn: false,\n    discussionOn: false,\n    commentsOn: false,\n    likingOn: false,\n    votingUp: true,\n    editMenuOpen: false,\n    editSectorsPageOpen: false,\n    editTimeRangesPageOpen: false,\n    addPhenomenaVisible: false,\n    editPhenomenaVisible: null,\n    account: false,\n    displayHaloWhenRating: null,\n    enableUrlLogin: false,\n    urlLoginExpire: null,\n    urlLoginLink: '',\n    isRadarTemplate: false,\n    radarTitleImage: false,\n    timelineLabelFormat: false,\n    draggedPhenomenonId: false\n}\n\nexport default (state = initialState, { type, payload }) => {\n    switch (type) {\n        case SET_DRAGGED_PHENOMENON:\n            return {\n                ...state,\n                draggedPhenomenonId: payload\n            }\n        case TOGGLE_LABEL_MODE:\n            return {\n                ...state,\n                timelineLabelFormat: !state.timelineLabelFormat\n            }\n        case TOGGLE_EDIT_MENU_VISIBILITY:\n            return {\n                ...state,\n                editMenuOpen: payload\n            }\n        case UPDATE_RADAR_SUCCESS:\n            return {\n                ...state,\n                ...payload\n            }\n        case CREATE_RADAR_SUCCESS:\n            const { origin, pathname } = window.location\n            window.location.href = origin + pathname + `?node=${payload.id}`\n\n            return {\n                ...state,\n                ...payload,\n                editSectorsPageOpen: !payload.time_ranges.length\n            }\n        case HANDLE_ADD_FORM_VISIBILITY:\n            return {\n                ...state,\n                addRadarFormOpen: !state.addRadarFormOpen,\n                addRadarFormPage: payload || 1\n            }\n        case FETCH_RADAR_SUCCESS:\n            setLanguage(payload.radarLanguage)\n            const account = payload.account\n            const role = account ? account.role : false\n            const canDeleteRadar = role === 'owner' || role === 'manager' || String(account.userId) === String(payload.ownerId)\n            const canEditRadar = role === 'owner' || role === 'editor' || role === 'manager' || isFpEditor\n            const isVisitor = role === 'visitor'\n            const canShareRadar = role === 'owner' || role === 'manager'\n\n            return {\n                ...state,\n                ...payload,\n                canDeleteRadar,\n                canEditRadar,\n                isVisitor,\n                canShareRadar\n            }\n        case CHANGE_RADAR_SHARING:\n            return {\n                ...state,\n                enableUrlLogin: payload\n            }\n        case CHANGE_RADAR_SHARING_EXPIRY:\n            return {\n                ...state,\n                urlLoginExpire: payload\n            }\n        case CHANGE_EXISTING_RADAR_PAGE:\n            return {\n                ...state,\n                existingRadarPage: payload\n            }\n        case HANDLE_EDIT_SECTOR_PAGE_VISIBILITY:\n            return {\n                ...state,\n                editSectorsPageOpen: !state.editSectorsPageOpen\n            }\n        case HANDLE_EDIT_TIMERANGES_PAGE_VISIBILITY:\n            return {\n                ...state,\n                editTimeRangesPageOpen: !state.editTimeRangesPageOpen\n            }\n        case CHANGE_RADAR_NAME:\n            return {\n                ...state,\n                radarName: payload\n            }\n        case CHANGE_MAP_INTRO:\n            return {\n                ...state,\n                mapIntro: payload\n            }\n        case CHANGE_RADAR_LANGUAGE:\n            setLanguage(payload)\n\n            return {\n                ...state,\n                radarLanguage: payload\n            }\n        case CHANGE_ADD_FORM_PAGE:\n            return {\n                ...state,\n                addRadarFormPage: payload\n            }\n        case CHANGE_PHENOMENA_SET:\n            return {\n                ...state,\n                phenomenaSet: payload\n            }\n        case CHANGE_RADAR_GROUP:\n            return {\n                ...state,\n                group: payload\n            }\n        case CHANGE_HIDE_USERS_FROM_TRIAL:\n            return {\n                ...state,\n                hideUsersFromTrial: payload\n            }\n        case CHANGE_RADAR_IMAGE:\n            return {\n                ...state,\n                radarImage: payload\n            }\n        case CHANGE_RADAR_TITLE_IMAGE:\n            return {\n                ...state,\n                radarTitleImage: payload\n            }\n        case CHANGE_VOTING_ON:\n            return {\n                ...state,\n                votingOn: payload\n            }\n        case CHANGE_DISPLAY_HALO_WHEN_RATING:\n            return {\n                ...state,\n                displayHaloWhenRating: payload\n            }\n        case CHANGE_RATINGS_ON:\n            return {\n                ...state,\n                ratingsOn: payload\n            }\n        case CHANGE_RATINGS_SETTINGS:\n            return {\n                ...state,\n                ...payload\n            }\n        case CHANGE_DISCUSSION_ON:\n            return {\n                ...state,\n                discussionOn: payload\n            }\n        case CHANGE_COMMENTS_ON:\n            return {\n                ...state,\n                commentsOn: payload\n            }\n        case CHANGE_LIKING_ON:\n            return {\n                ...state,\n                likingOn: payload\n            }\n        case CHANGE_VOTING_UP:\n            return {\n                ...state,\n                votingUp: payload\n            }\n        case GET_GROUPS_SUCCESS:\n            // filter out groups without ids\n            const groups = _.filter(\n                _.map(payload, makeGroup),\n                group => group.id\n            )\n\n            return {\n                ...state,\n                groups\n            }\n        case HANDLE_ADD_PHENOMENA_VISIBILITY:\n            return {\n                ...state,\n                addPhenomenaVisible: !state.addPhenomenaVisible\n            }\n        case HANDLE_EDIT_PHENOMENA_VISIBILITY:\n            return {\n                ...state,\n                editPhenomenaVisible: payload\n            }\n        case UPDATE_RADAR_VERSION:\n            return {\n                ...state,\n                radar_version: payload\n            }\n        default:\n            return state\n    }\n}\n","import {\n    FETCH_RADAR_SUCCESS,\n    UPDATE_PHENOMENON,\n    CREATE_PHENOMENA_SUCCESS,\n    DELETE_PHENOMENA_SUCCESS,\n    CREATE_PHENOMENA_POSITION_SUCCESS,\n    UPDATE_PHENOMENON_INGESTION_SUCCESS,\n    UPDATE_PHENOMENON_VERSION,\n    REFETCH_DATA_SUCCESS\n} from '@sangre-fp/reducers/actionTypes'\n\nconst initialState = []\n\nexport default (state = initialState, { type, payload }) => {\n    switch (type) {\n        case REFETCH_DATA_SUCCESS:\n            return payload.phenomena\n\n        case FETCH_RADAR_SUCCESS:\n            return payload.phenomena\n\n        case UPDATE_PHENOMENON:\n            return state.map(phenomenon => {\n                if (phenomenon.id === payload.id) {\n                    return {\n                        ...phenomenon,\n                        ...payload\n                    }\n                }\n\n                return phenomenon\n            })\n\n        case UPDATE_PHENOMENON_VERSION: {\n            return state.map(phenomenon => {\n                if (phenomenon.id === payload.id) {\n                    return {\n                        ...phenomenon,\n                        version: payload.version\n                    }\n                }\n\n                return phenomenon\n            })\n        }\n\n        case CREATE_PHENOMENA_SUCCESS:\n            return state.concat(payload)\n\n        case DELETE_PHENOMENA_SUCCESS:\n            return state.filter(item => item.id !== payload.id)\n\n        case CREATE_PHENOMENA_POSITION_SUCCESS:\n            return state.map(phenomenon => {\n                if (phenomenon.id === payload.id) {\n                    return {\n                        ...phenomenon,\n                        ...payload\n                    }\n                }\n\n                return phenomenon\n            })\n\n        case UPDATE_PHENOMENON_INGESTION_SUCCESS:\n            return state.map(phenomenon => {\n                if (phenomenon.id === payload.id) {\n                    return {\n                        ...phenomenon,\n                        ...payload\n                    }\n                }\n\n                return phenomenon\n            })\n\n        default:\n            return state\n    }\n}\n","import _ from 'lodash'\nimport {\n    TOGGLE_FILTERS,\n    SET_ACTIVE_FILTER,\n    RESET_FILTERS,\n    SET_ACTIVE_TAG_FILTER\n} from '@sangre-fp/reducers/actionTypes'\n\nconst initialState = {\n    filtersVisible: false,\n    activeFilter: [],\n    activeTagFilter: []\n}\n\nexport default (state = initialState, { type, payload }) => {\n    switch (type) {\n        case TOGGLE_FILTERS:\n            return {\n                ...state,\n                filtersVisible: !state.filtersVisible\n            }\n        case SET_ACTIVE_FILTER:\n            return {\n                ...state,\n                activeFilter: _.find(state.activeFilter, payload) ? state.activeFilter.filter(filter => filter !== payload) : [...state.activeFilter, payload]\n            }\n        case SET_ACTIVE_TAG_FILTER:\n            return {\n                ...state,\n                activeTagFilter: _.includes(state.activeTagFilter, payload) ? state.activeTagFilter.filter(filter => filter !== payload) : [...state.activeTagFilter, payload]\n            }\n        case RESET_FILTERS:\n            return {\n                ...state,\n                activeFilter: [],\n                activeTagFilter: []\n            }\n        default:\n            return state\n    }\n}\n","import {\n    HANDLE_SIGNAL_LIST_VISIBILITY,\n    FETCH_SIGNALS_SUCCESS,\n    HANDLE_SIGNAL_CREATE_VISIBILITY,\n    CREATE_SIGNAL_SUCCESS,\n    FETCH_MORE_SIGNALS_SUCCESS\n} from '@sangre-fp/reducers/actionTypes'\n\nconst initialState = {\n    signalListVisible: false,\n    signalCreateVisibility: false,\n    signals: [],\n    totalRadarSignals: false\n}\n\nexport default (state = initialState, { type, payload }) => {\n    switch (type) {\n        case HANDLE_SIGNAL_LIST_VISIBILITY:\n            return {\n                ...state,\n                signalListVisible: !state.signalListVisible\n            }\n        case HANDLE_SIGNAL_CREATE_VISIBILITY:\n            return {\n                ...state,\n                signalCreateVisibility: !state.signalCreateVisibility\n            }\n        case FETCH_SIGNALS_SUCCESS:\n            return {\n                ...state,\n                signals: payload.result,\n                totalRadarSignals: payload.total\n            }\n        case FETCH_MORE_SIGNALS_SUCCESS:\n            return {\n                ...state,\n                signals: [...state.signals, ...payload.result],\n                totalRadarSignals: payload.total\n            }\n        case CREATE_SIGNAL_SUCCESS:\n            return {\n                ...state,\n                signals: [{ ...payload }, ...state.signals],\n                totalRadarSignals: state.totalRadarSignals + 1\n            }\n        default:\n            return state\n    }\n}\n","import { combineReducers } from 'redux'\nimport radarSettings from './radarSettings'\nimport phenomena from './phenomena'\nimport timelines from '@sangre-fp/reducers/timelines'\nimport filters from './filters'\nimport signals from './signals'\n\nimport {\n    loading,\n    errors,\n    radarSets,\n    phenomenaTypes,\n    phenomenaTypesById,\n    confirmDialog,\n    sectors\n} from '@sangre-fp/reducers'\n\nexport default combineReducers({\n    sectors,\n    filters,\n    phenomena,\n    timelines,\n    radarSettings,\n    radarSets,\n    loading,\n    errors,\n    phenomenaTypes,\n    phenomenaTypesById,\n    signals,\n    confirmDialog\n})\n","import * as actionTypes from '@sangre-fp/reducers/actionTypes'\n\nexport const loadingStart = component => ({\n    type: `${actionTypes.LOADING}/${component}`,\n    payload: { component }\n})\n\nexport const loadingSuccess = component => ({\n    type: `${actionTypes.LOADING_SUCCESS}/${component}`,\n    payload: { component }\n})\n\nexport const loadingError = (component, error, defaultMessage, message) => ({\n    type: `${actionTypes.LOADING_ERROR}/${component}`,\n    payload: { component, error, defaultMessage, message }\n})\n\nexport const getNetworkMethods = (type, successType, defaultMessage) => {\n    const loading = () => loadingStart(type)\n    const success = payload => dispatch => {\n        dispatch(loadingSuccess(type))\n        return dispatch({\n            type: successType,\n            payload\n        })\n    }\n    const error = (err, message) => dispatch =>\n        dispatch(loadingError(type, err, defaultMessage, message))\n    return {\n        loading,\n        success,\n        error\n    }\n}\n\n","import _ from 'lodash'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { getNetworkMethods } from './network'\nimport drupalApi from '@sangre-fp/connectors/drupal-api'\nimport { handleImageUploadIfNeeded } from '@sangre-fp/connectors/media-api'\n\nexport const toggleEditMenuVisiblity = (visibilityState = false) => dispatch => (\n    dispatch({ type: actionTypes.TOGGLE_EDIT_MENU_VISIBILITY , payload: visibilityState })\n)\n\nexport const getUserGroups = () => dispatch => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.GET_GROUPS,\n        actionTypes.GET_GROUPS_SUCCESS,\n        requestTranslation('fetchingGroupsError')\n    )\n\n    dispatch(loading())\n\n    const groupRequest = drupalApi.getGroups()\n    const membershipRequest = drupalApi.getMemberships()\n\n    return Promise.all([groupRequest, membershipRequest]).then(([groups, memberships]) => {\n        const membershipGroupIds = memberships ? Object.values(memberships).map(membership => parseInt(membership.gid, 10)) : []\n        dispatch(success(groups ? Object.values(groups).filter(group => membershipGroupIds.indexOf(group.id) !== -1) : []))\n    })\n    .catch(err => {\n        dispatch(error(err))\n    })\n}\n\nexport const changeAddRadarFormVisibility = (page = false) => dispatch => {\n    if (page) {\n        dispatch({ type: actionTypes.HANDLE_ADD_FORM_VISIBILITY, payload: page })\n    } else {\n        dispatch({ type: actionTypes.HANDLE_ADD_FORM_VISIBILITY })\n    }\n}\n\nexport const changeDisplayHaloWhenRating = rating => dispatch => dispatch({ type: actionTypes.CHANGE_DISPLAY_HALO_WHEN_RATING, payload: rating })\nexport const changeRadarName = name => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_NAME, payload: name })\nexport const changeMapIntro = mapIntro => dispatch => dispatch({ type: actionTypes.CHANGE_MAP_INTRO, payload: mapIntro })\nexport const changeRadarLanguage = language => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_LANGUAGE, payload: language })\nexport const changeRadarGroup = group => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_GROUP, payload: group })\nexport const changeAddRadarFormPage = page => dispatch => dispatch({ type: actionTypes.CHANGE_ADD_FORM_PAGE, payload: page })\nexport const changePhenomenaSet = set => dispatch => dispatch({ type: actionTypes.CHANGE_PHENOMENA_SET, payload: set })\nexport const changeHideUsersFromTrial = bool => dispatch => dispatch({ type: actionTypes.CHANGE_HIDE_USERS_FROM_TRIAL, payload: bool })\nexport const changeRadarImage = image => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_IMAGE, payload: image })\nexport const changeRadarTitleImage = image => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_TITLE_IMAGE, payload: image })\nexport const changeVotingOn = bool => dispatch => dispatch({ type: actionTypes.CHANGE_VOTING_ON, payload: bool })\nexport const changeRatingsOn = bool => dispatch => dispatch({ type: actionTypes.CHANGE_RATINGS_ON, payload: bool })\nexport const changeRadarSharing = bool => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_SHARING, payload: bool })\n\nexport const changeRadarSharingExpiry = date => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_SHARING_EXPIRY, payload: date })\n\nexport const changeRatingsSettings = ({\n    axisXTitle,\n    axisXMax,\n    axisXMin,\n    axisYTitle,\n    axisYMax,\n    axisYMin,\n    fourFieldsTopLeft,\n    fourFieldsTopRight,\n    fourFieldsBottomLeft,\n    fourFieldsBottomRight\n}) => dispatch => dispatch({\n    type: actionTypes.CHANGE_RATINGS_SETTINGS,\n    payload: {\n        axisXTitle,\n        axisXMax,\n        axisXMin,\n        axisYTitle,\n        axisYMax,\n        axisYMin,\n        fourFieldsTopLeft,\n        fourFieldsTopRight,\n        fourFieldsBottomLeft,\n        fourFieldsBottomRight\n    }\n})\n\nexport const changeDiscussionOn = bool => dispatch =>\n    dispatch({ type: actionTypes.CHANGE_DISCUSSION_ON, payload: bool })\n\nexport const changeCommentsOn = bool => dispatch =>\n    dispatch({ type: actionTypes.CHANGE_COMMENTS_ON, payload: bool })\n\nexport const changeLikingOn = bool => dispatch =>\n    dispatch({ type: actionTypes.CHANGE_LIKING_ON, payload: bool })\n\nexport const changeVotingUp = bool => dispatch =>\n    dispatch({ type: actionTypes.CHANGE_VOTING_UP, payload: bool })\n\nexport const toggleFilter = () => dispatch => dispatch({ type: actionTypes.TOGGLE_FILTERS })\n\nexport const setActiveFilter = filter => dispatch => dispatch({ type: actionTypes.SET_ACTIVE_FILTER, payload: filter })\n\nexport const setActiveTagFilter = filter => dispatch => dispatch({ type: actionTypes.SET_ACTIVE_TAG_FILTER, payload: filter })\n\nexport const resetFilters = () => dispatch => dispatch({ type: actionTypes.RESET_FILTERS })\n\nexport const createRadar = () => async (dispatch, getState) => {\n    const radarSettings = getState().radarSettings\n    const {\n        group,\n        radarImage,\n        radarTitleImage\n    } = radarSettings\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.CREATE_RADAR,\n        actionTypes.CREATE_RADAR_SUCCESS,\n        requestTranslation('creatingRadarError')\n    )\n\n    dispatch(loading())\n\n    try {\n        const groupId = _.isObject(group) ? _.get(group, 'id', 0) : group\n\n        const radarInput = {\n            ...radarSettings,\n            radarImage: await handleImageUploadIfNeeded(radarImage, groupId),\n            radarTitleImage: await handleImageUploadIfNeeded(radarTitleImage, groupId)\n        }\n\n        const data = await drupalApi.createRadar(radarInput)\n\n        dispatch(success(data))\n    } catch (err) {\n        dispatch(error(err))\n    }\n}\n\nexport const updateRadar = (hideForm = true) => async (dispatch, getState) => {\n    const radarSettings = getState().radarSettings\n\n    const {\n        group,\n        radarImage,\n        radarTitleImage,\n        id\n    } = radarSettings\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.UPDATE_RADAR,\n        actionTypes.UPDATE_RADAR_SUCCESS,\n        requestTranslation('updatingRadarError')\n    )\n\n    dispatch(loading())\n\n    try {\n        const groupId = _.isObject(group) ? _.get(group, 'id', 0) : group\n\n        const radarInput = {\n            ...radarSettings,\n            radarImage: await handleImageUploadIfNeeded(radarImage, groupId),\n            radarTitleImage: await handleImageUploadIfNeeded(radarTitleImage, groupId)\n        }\n\n        const data = await drupalApi.updateRadar(id, radarInput)\n\n        if (hideForm) {\n            dispatch({ type: actionTypes.HANDLE_ADD_FORM_VISIBILITY })\n        }\n\n        dispatch(success(data))\n    } catch (e) {\n        dispatch(error(e))\n    }\n}\n\nexport const getRadarSets = () => (dispatch) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.GET_RADAR_SETS,\n        actionTypes.GET_RADAR_SETS_SUCCESS,\n        requestTranslation('fetchingSetsError')\n    )\n\n    dispatch(loading())\n\n    return drupalApi.getRadarTemplates()\n        .then(data => dispatch(success(data)))\n        .catch(err => dispatch(error(err)))\n}\n\nexport const sectorPageHandler = () => dispatch =>\n    dispatch({ type: actionTypes.HANDLE_EDIT_SECTOR_PAGE_VISIBILITY })\n\nexport const timerangePageHandler = () => dispatch =>\n    dispatch({ type: actionTypes.HANDLE_EDIT_TIMERANGES_PAGE_VISIBILITY })\n\nexport const clearAllErrors = () => dispatch =>\n    dispatch({ type: actionTypes.CLEAR_ALL_ERRORS })\n\nexport const changeAddPhenomenaVisibility = () => ({ type: actionTypes.HANDLE_ADD_PHENOMENA_VISIBILITY })\n\nexport const changeEditPhenomenaVisibility = phenomenonUuid => (dispatch, getState) => {\n    const { phenomena } = getState()\n\n    const phenomenon = phenomenonUuid\n        ? _.find(phenomena, { id: phenomenonUuid })\n        : null\n\n    if (phenomenonUuid && !phenomenon) {\n        console.error('Invalid phenomenonUuid', phenomenonUuid)\n    }\n\n    return dispatch({\n        type: actionTypes.HANDLE_EDIT_PHENOMENA_VISIBILITY,\n        payload: phenomenon\n    })\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from './reducers'\nimport {changeEditPhenomenaVisibility} from \"./actions/radarSettings\";\n\nconst composeEnhancers = process.env.NODE_ENV !== 'production' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\n\n\nwindow.radarCallbacks = {\n    ...(window.radarCallbacks || {}),\n    openPhenomenonEditor: uuid => store.dispatch(changeEditPhenomenaVisibility(uuid))\n}\n\nexport default store\n","import _ from 'lodash'\nimport React, { PureComponent } from 'react'\nimport Text from 'react-svg-text'\nimport { getPhenomenonUrl } from '../helpers'\nimport classNames from 'classnames'\nimport { PhenomenonType } from '@sangre-fp/ui'\n\n\nexport default class Phenomenon extends PureComponent {\n    handleDrag = e => {\n        // turning off prevent default because it didn't allow phenomena to open on ipad\n        // e.preventDefault()\n        e.stopPropagation()\n        const { onPhenomenaDrag, phenomenon } = this.props\n        onPhenomenaDrag(e, phenomenon)\n    }\n\n    componentDidMount() {\n        const { onPhenomenaDrag } = this.props\n\n        if (onPhenomenaDrag) {\n            this.phenomena.addEventListener('mousedown', this.handleDrag)\n            this.phenomena.addEventListener('touchstart', this.handleDrag)\n            this.phenomena.addEventListener('ontouchstart', this.handleDrag)\n        }\n    }\n\n    componentWillUnmount() {\n        const onPhenomenaDrag = this.props\n\n        if (onPhenomenaDrag) {\n            this.phenomena.removeEventListener('mousedown', this.handleDrag)\n            this.phenomena.addEventListener('touchstart', this.handleDrag)\n            this.phenomena.addEventListener('ontouchstart', this.handleDrag)\n        }\n    }\n\n    phenomenonRef = ref => {\n        this.phenomena = ref\n    }\n\n    getPhenomenonType = () => {\n        const { phenomenaTypesById, phenomenon: { content: { type: id } } } = this.props\n\n        const defaultValue =  _.find(phenomenaTypesById, type => type.alias === 'undefined')\n\n        return phenomenaTypesById[id] || defaultValue\n    }\n\n    getClassNameState = () => {\n        const { alias } = this.getPhenomenonType()\n\n        return alias\n    }\n\n    includesTag = (tags, filter) => {\n        let includes = false\n\n        _.map(tags, tag => {\n            if (_.includes(filter, tag)) {\n                includes = true\n            }\n        })\n\n        return includes\n    }\n\n    getFilterClassName = () => {\n        const { id } = this.getPhenomenonType()\n        const { filter, tagFilter, phenomenon: { tags } } = this.props\n\n        if (\n            filter\n            && filter.length\n            && !(_.find(filter, setFilter => setFilter.id === id))\n        ) {\n            return 'phenomenon-disabled'\n        }\n\n        if (\n            tagFilter\n            && tagFilter.length\n            && !this.includesTag(tags, tagFilter)\n        ) {\n            return 'phenomenon-disabled'\n        }\n\n        return null\n    }\n\n    getClassNameDrag = (dragged, deleting) => {\n        if (dragged && deleting) {\n            return 'deleting'\n        }\n\n        if (dragged) {\n            return 'dragged'\n        }\n\n        return ''\n    }\n\n    render() {\n        const {\n            deleting,\n            labelWidth,\n            phenomenaSize,\n            cx,\n            cy,\n            fontSize,\n            dragged,\n            hidden,\n            radarId,\n            phenomenon,\n            votingOn\n        } = this.props\n\n        const { content: { title, short_title }, group, halo } = phenomenon\n\n        // todo change to use project URL\n        // eslint-disable-next-line\n        const watermarkLink = 'https://go.futuresplatform.com/sites/all/themes/AltFutures_theme/images/watermark-fp.png?v=2'\n\n        let fill\n        if (dragged) {\n            if (deleting) {\n                fill = 'rgba(229, 104, 105, 1)'\n            } else {\n               fill = 'rgba(43, 201, 143, 0.3)'\n            }\n        } else if (this.getPhenomenonType().style) {\n            fill = this.getPhenomenonType().style.color\n        } else {\n            fill = 'rgba(43, 201, 143, 1)'\n        }\n\n        const radius = phenomenaSize / 2\n        const style = {\n            fontSize: `${fontSize}px`\n        }\n        const href = getPhenomenonUrl(radarId, phenomenon)\n\n        const classes = classNames(\n            'phenomenon',\n            this.getClassNameState(),\n            this.getClassNameDrag(dragged, deleting),\n            this.getFilterClassName(),\n            {\n                left: typeof radarId !== 'undefined',\n                hidden\n            }\n        )\n\n        return (\n            <g data-href={href}\n               ref={this.phenomenonRef}\n               className={classes}\n            >\n                <PhenomenonType phenomenon={phenomenon}\n                                type={this.getPhenomenonType().alias}\n                                size={phenomenaSize}\n                                x={cx}\n                                halo={votingOn && halo}\n                                y={cy}\n                                fill={fill} />\n                { group === 0 && !deleting &&\n                    <image\n                        x={cx - radius}\n                        y={cy - radius}\n                        width={radius * 2}\n                        height={radius * 2}\n                        xlinkHref={watermarkLink}\n                    />\n                }\n                { deleting &&\n                    <foreignObject\n                        x={cx - radius}\n                        y={cy - radius}\n                        width={phenomenaSize}\n                        height={phenomenaSize}\n                        style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center'\n                        }}\n                    >\n                        <div\n                            className={'material-icons'}\n                            style={{\n                                color: 'rgba(255, 255, 255, 0.4)',\n                                fontSize: '35px',\n                                width: '100%',\n                                height: '100%',\n                                display: 'flex',\n                                justifyContent: 'center',\n                                alignItems: 'center'\n                            }}\n                            textAnchor={'middle'}\n                        >\n                            delete\n                        </div>\n                    </foreignObject>\n                }\n                <Text textAnchor={'middle'}\n                      verticalAnchor={'start'}\n                      x={cx}\n                      y={cy + (radius * 1.4)}\n                      width={labelWidth}\n                      className={'phenomena-label noselect'}\n                      style={style}>\n                    {short_title || title}\n                </Text>\n            </g>\n        )\n    }\n}\n","export const PUBLIC_URL = process.env.REACT_APP_PUBLIC_URL\nexport const MEDIA_API_URL = process.env.REACT_APP_MEDIA_API_URL\nexport const DRUPAL_API_URL = process.env.REACT_APP_DRUPAL_API_URL\nexport const SEARCH_API_URL = process.env.REACT_APP_SEARCH_API_URL\nexport const RADAR_DATA_API_URL = process.env.REACT_APP_RADAR_DATA_API_URL\nexport const RADAR_DATA_WEBSOCKET_URL = process.env.REACT_APP_RADAR_DATA_WEBSOCKET_URL\nexport const NEWS_FEED_API_URL = process.env.REACT_APP_NEWS_FEED_API_URL\nexport const PHENOMENA_STATISTICS_API_URL = process.env.REACT_APP_PHENOMENA_STATISTICS_API_URL\nexport const TAG_SERVICE_API_URL = process.env.REACT_APP_TAG_SERVICE_API_URL\n","import React, { PureComponent } from 'react'\nimport * as d3 from 'd3'\nimport Phenomenon from './Phenomenon'\nimport { getCoordsFromAngleAndRadius } from '../helpers'\nimport isEqual from 'lodash/isEqual'\n\nconst getConstrainedValue = ([min, max], value) => {\n    if (value < min) {\n        return min\n    }\n    if (value > max) {\n        return max\n    }\n    return value\n}\n\nexport default class Phenomena extends PureComponent {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            nodes: this.copyPhenomena()\n        }\n    }\n\n    // TODO check if this should be variable based on the actual sector size\n    range = [0, 100]\n    copyPhenomena = (phenomena = this.props.phenomena) => {\n        const { sector: { constraints } } = this.props\n        this.xScale = d3.scaleLinear().domain(constraints.angle).range(this.range)\n        this.yScale = d3.scaleLinear().domain(constraints.radius).range(this.range)\n        return phenomena.map(({ angle, radius, size }, index) => ({\n            index,\n            x: this.xScale(angle),\n            y: this.yScale(radius),\n            fy: this.yScale(radius),\n            size\n        }))\n    }\n\n    startForce = () => {\n        // const {centroid} = this.props\n        // const [x, y] = centroid\n        const { nodes } = this.state\n\n        if (this.force) {\n            this.force.stop()\n        }\n\n        if (nodes.length > 1) {\n            this.force =\n                d3.forceSimulation(nodes)\n                // TODO check if forceCollide or distanceMin could be used to prevent overlays\n                    .force('charge', d3\n                            .forceManyBody()\n                            .strength(-5)\n                            // TODO check scaling distances based on the actual arc length\n                            .distanceMax(this.range[1] / nodes.length)\n                        // TODO check scaling distanceMin based on the actual arc length\n                        // .distanceMin(d => d.size)\n                    )\n                    // TODO check scaling radius based on the actual arc length\n                    // .force('collision', d3.forceCollide().radius(d => d.size))\n                    .on('tick', () => {\n                        // eslint-disable-next-line\n                        nodes.map(node => {\n                            node.x = getConstrainedValue(this.range, node.x)\n                            node.y = getConstrainedValue(this.range, node.y)\n                        })\n                        this.setState({ nodes: nodes.slice() })\n                    })\n        }\n    }\n\n    componentDidMount() {\n        this.startForce()\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const { phenomena: nextPhenomena } = nextProps\n        const { phenomena } = this.props\n\n        if (!isEqual(nextPhenomena, phenomena)) {\n            this.setState({ nodes: this.copyPhenomena(nextPhenomena) }, this.startForce)\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.force) {\n            this.force.stop()\n        }\n    }\n\n    getNodeCoordinates = (index) => {\n        const { nodes } = this.state\n\n        const node = nodes[index]\n\n        const angle = this.xScale.invert(node.x)\n        const radius = this.yScale.invert(node.y)\n\n        const [cx, cy] = getCoordsFromAngleAndRadius(angle, radius)\n\n        return { cx, cy }\n    }\n\n    render() {\n        const { phenomena, draggedPhenomenon, phenomenaDisplayProps } = this.props\n\n        return (\n            <g>\n                {phenomena.map((phenomenon, index) => {\n                    const { id } = phenomenon\n                    const dragged = draggedPhenomenon\n                        && draggedPhenomenon.id === id\n\n                    return (\n                        <Phenomenon\n                            {...this.props}\n                            {...this.getNodeCoordinates(index)}\n                            key={index}\n                            hidden={dragged}\n                            phenomenon={phenomenon}\n                            {...phenomenaDisplayProps}\n                        />\n                    )\n                })}\n            </g>\n        )\n    }\n}\n","import React, { PureComponent } from 'react'\nimport Phenomena from './Phenomena'\n\nexport default class AllPhenomena extends PureComponent {\n    render() {\n        const { timeRanges, getPhenomenaDisplayProps } = this.props\n        const phenomenaDisplayProps = getPhenomenaDisplayProps()\n\n        return (\n            <g className={'phenomena'}>\n                {timeRanges.map((({ value, sectors }) =>\n                    sectors.filter(({ phenomena }) => !!phenomena.length).map(sector => (\n                        <Phenomena\n                            {...this.props}\n                            key={`${sector.id}-${value}`}\n                            sector={sector}\n                            phenomena={sector.phenomena}\n                            phenomenaDisplayProps={phenomenaDisplayProps}\n                        />\n                    )))\n                )}\n            </g>\n        )\n    }\n}\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport AllPhenomena from '../components/AllPhenomena'\nimport { } from '../actions/radarSettings'\n\nexport default connect(\n    state => {\n        const {\n            radarSettings: {\n                id,\n                canEditRadar,\n                votingOn\n            },\n            filters: {\n                activeFilter,\n                activeTagFilter\n            }\n        } = state\n\n        return {\n            radarId: id,\n            canEdit: canEditRadar,\n            filter: activeFilter,\n            tagFilter: activeTagFilter,\n            votingOn\n        }\n    },\n    dispatch => bindActionCreators({\n    }, dispatch)\n)(AllPhenomena)\n","import { createSelector } from 'reselect'\nimport { find } from 'lodash'\n\nconst getRadarSettingsGroups = (state) => state.radarSettings && state.radarSettings.groups\n\nexport const isCollaborationToolsAllowed = createSelector([ getRadarSettingsGroups ], (groups) => {\n    return (groupId) => {\n        const group = find(groups, g => groupId === g.id)\n        if (group) {\n            if (group.availableResources.hasOwnProperty('collaboration_tools')) {\n                return !!group.availableResources.collaboration_tools\n            }\n            // Allowed for legacy accounts\n            return true\n        }\n        return false\n    }\n})\n","import * as d3 from 'd3'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { getSessionToken } from '@sangre-fp/connectors/session'\n\nexport const customQuillModules = {\n    toolbar: [\n        [{ header: ['1', '2', '3', '4', '5'] }, { font: [] }],\n        ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n        [{ list: 'ordered' }, { list: 'bullet' },\n            { indent: '-1' }, { indent: '+1' }],\n        ['link'],\n        ['clean']\n    ],\n    clipboard: {\n        // toggle to add extra line breaks when pasting HTML:\n        matchVisual: false\n    }\n}\n\nexport const centerRadiusPercentage = 0.15\nexport const radarBorderWidth = 80\n\nexport const ALL_GROUP_VALUE = -1\n\nexport const radarLanguages = () => [\n    { value: 'en', label: requestTranslation('english') },\n    { value: 'fi', label: requestTranslation('finnish') }\n]\n\nexport const radarLanguagesWithAll = () => [\n    { value: 'all', label: requestTranslation('all') },\n    ...radarLanguages()\n]\n\nexport const initialCommentTopics = [\n    { label: 'Opportunities', checked: false },\n    { label: 'Threats', checked: false },\n    { label: 'Actions', checked: false }\n]\n\nexport const getWebSocketHeaders = () => ({ Authorization: `Bearer ${getSessionToken()}` })\n\nexport const RANGE_MIN = 0\nexport const RANGE_MAX = 1\nexport const MAX_TIMELINES = 10\nexport const RANGE_BOUNDARY = RANGE_MAX / MAX_TIMELINES\nexport const TIMELINE_TEMPLATE = {\n    position: null,\n    year: '',\n    description: '',\n    label: ''\n}\n\nexport const timerangeColors = d3.scaleLinear()\n    .domain([30, 2, 1, 0])\n    .range(['#333334', '#E7E7E8', '#F3F3F4', '#FBFBFC'])\n    .interpolate(d3.interpolateRgb)\n","export const modules = {\n    toolbar: [\n        [{ header: ['1', '2', '3', '4', '5'] }, { font: [] }],\n        ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n        [{ list: 'ordered' }, { list: 'bullet' },\n            { indent: '-1' }, { indent: '+1' }],\n        ['link', 'video'],\n        ['clean']\n    ],\n    clipboard: {\n        // toggle to add extra line breaks when pasting HTML:\n        matchVisual: false\n    }\n}\n\nexport const formats = [\n    'header', 'font', 'size',\n    'bold', 'italic', 'underline', 'strike', 'blockquote',\n    'list', 'bullet', 'indent',\n    'link', 'video'\n]","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport AxisPreview from './AxisPreview'\nimport { requestTranslation } from \"@sangre-fp/i18n\";\nconst LABEL_WIDTH = 16\n\nconst CanvasContainer = styled.canvas`\n  border: 1px solid #979797;\n`\n\nexport const HeaderContainer = styled.h2`\n  &&{\n    font-weight: normal;\n    font-size: 16px;\n  }\n`\nexport const Spacing = styled.div`\n  background-color: #f1f3f3;\n  width: 100%;\n  height: ${({ customHeight }) => `${customHeight}px`};\n`\n\nconst AxisX = ({\n  axisWidth,\n  horizontalAxisName,\n  leftEnd,\n  rightEnd,\n  containerWidth\n}) => {\n  const cellStyle = { fontSize: 12, height: 16, fontFamily: 'L10',whiteSpace: 'nowrap', color: '#637282' }\n  return (\n    <>\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth, margin: 0, border: 'none' }}>\n        <tbody style={{ border: 'none' }}>\n          <tr style={{ border: 'none' }}>\n            <td style={{ ...cellStyle, textAlign: 'left' }}>\n              <div style={{ width: containerWidth / 2, overflow: 'hidden', textOverflow: 'ellipsis', fontFamily: 'L10' }}>{leftEnd}</div>\n            </td>\n            <td style={{ ...cellStyle, textAlign: 'right' }}>\n              <div style={{ width: containerWidth / 2, overflow: 'hidden', textOverflow: 'ellipsis', fontFamily: 'L10' }}>{rightEnd}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth, margin: 0 }}>\n        <tbody style={{ border: 'none' }}>\n          <tr style={{ ...cellStyle, border: 'none', fontSize: 16, fontWeight: 500 }}>\n            <td style={{ ...cellStyle, textAlign: 'center', fontSize: 16, fontWeight: 500 }}>\n              <div style={{ width: containerWidth, overflow: 'hidden', textOverflow: 'ellipsis', fontFamily: 'L10' }}>{horizontalAxisName}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  )\n}\n\nconst AxisY = ({\n  axisHeight,\n  verticalAxisName,\n  topEnd,\n  lowEnd,\n  containerHeight\n}) => {\n  const cellStyle = {\n    fontSize: 12,\n    whiteSpace: 'nowrap',\n    color: '#637282',\n    fontFamily: 'L10'\n  }\n  return (\n    <>\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight }}>\n        <tbody style={{ border: 'none' }}>\n          <tr style={{ ...cellStyle, border: 'none', fontSize: 16, fontWeight: 500 }}>\n            <td style={{ border: 'none' }}>\n              <div style={{ width: 18, writingMode: 'vertical-lr', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight, textAlign: 'center', fontFamily: 'L10' }}>{verticalAxisName}</div>\n            </td>\n          </tr>\n          \n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight, border: 'none' }}>\n        <tbody style={{ border: 'none' }}>\n          <tr style={{ ...cellStyle, border: 'none' }}>\n            <td style={{ border: 'none' }}>\n              <div style={{ width: 16, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 10, textAlign: 'right', fontFamily: 'L10' }}>{topEnd}</div>\n            </td>\n          </tr>\n\n          <tr style={{ ...cellStyle, border: 'none' }}>\n            <td style={{ border: 'none' }}>\n              <div style={{ width: 16, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 10, textAlign: 'left', fontFamily: 'L10' }}>{lowEnd}</div>\n            </td>\n          </tr>\n          \n        </tbody>\n      </table>\n    </>\n  )\n}\n\nconst RatingSummaryPreview = ({\n  topHeader = 'Preview for content cards:',\n  bottomHeader = '',\n  containerWidth = 400,\n  containerHeight = 400,\n  topLeft = requestTranslation('topLeft'),\n  topRight = requestTranslation('topRight'),\n  bottomLeft = requestTranslation('bottomLeft'),\n  bottomRight = requestTranslation('bottomRight'),\n  horizontalAxisName = requestTranslation('HorizontalAxisName'),\n  leftEnd = requestTranslation('leftEnd'),\n  rightEnd = requestTranslation('rightEnd'),\n  verticalAxisName = requestTranslation('verticalAxisName'),\n  topEnd = requestTranslation('highEnd'),\n  lowEnd = requestTranslation('lowEnd')\n}) => {\n  const [appContext, setAppContext] = useState({})\n  // areaDraw 1, 2 from the first row left to right\n  // areaDraw 3, 4 from the second row left to right\n  const { axis, axisContext } = appContext\n\n  const drawLine = ({ begin, end }) => {\n    axisContext.lineWidth = 1\n    axisContext.strokeStyle = 'rgb(37 37 37)'\n    axisContext.beginPath()\n    axisContext.moveTo(...begin)\n    axisContext.lineTo(...end)\n    axisContext.stroke()\n  }\n\n  const drawText = ({ x, y, text }) => {\n    axisContext.font = 'italic 14px L10'\n    axisContext.strokeStyle = 'rgb(224, 222, 222)'\n    axisContext.fillStyle = 'rgb(224, 222, 222)'\n    axisContext.textAlign = 'center'\n    axisContext.fillText(text, x, y)\n  }\n\n  const drawTexts = () => {\n    drawText({ x: containerWidth / 4, y: containerHeight / 4, text: topLeft })\n    drawText({ x: containerWidth * 0.75, y: containerHeight / 4, text: topRight })\n    drawText({ x: containerWidth * 0.25, y: containerHeight * 0.75, text: bottomLeft })\n    drawText({ x: containerWidth * 0.75, y: containerHeight * 0.75, text: bottomRight })\n  }\n\n  const drawNormalAxis = () => {\n    axis.width = containerWidth\n    axis.height = containerHeight\n    \n    drawLine({ begin: [0, axis.clientHeight / 2], end: [axis.clientWidth, axis.clientHeight / 2] })\n    drawLine({ begin: [axis.clientWidth / 2, 0], end: [axis.clientWidth / 2, axis.clientHeight] })\n    drawTexts()\n  }\n\n  useEffect(() => {\n    if (appContext.axis) {\n      drawNormalAxis()\n    }\n  }, [appContext, topLeft, topRight, bottomLeft, bottomRight, containerWidth])\n\n  useEffect(() => {\n    const canvasAxis = document.getElementById('axis')\n\n    setAppContext({\n      axis: canvasAxis,\n      axisContext: canvasAxis.getContext('2d'),\n      svgApp: document.getElementById('svg-app')\n    })\n  }, [])\n\n  return (\n    <>\n      <HeaderContainer>{bottomHeader}</HeaderContainer>\n      {/* <Spacing customHeight={10}/> */}\n      <div style={{ display: 'flex', width: `${containerWidth}px`, fontFamily: 'L10' }}>\n        <AxisY containerHeight={containerHeight} axisHeight={containerHeight} verticalAxisName={verticalAxisName} topEnd={topEnd} lowEnd={lowEnd}/>\n        <div style={{ width: containerWidth, height: containerHeight, fontFamily: 'L10' }}>\n          <div style={{ position: 'relative', width: containerWidth, height: containerHeight, background: 'white', fontFamily: 'L10' }}>\n            <CanvasContainer id='axis'/>\n          </div>\n          <AxisX containerWidth={containerWidth} axisWidth={containerWidth} horizontalAxisName={horizontalAxisName} leftEnd={leftEnd} rightEnd={rightEnd}/>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default RatingSummaryPreview","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  width: ${({ containerWidth }) => `${containerWidth}px`};\n`\n\nconst TitleWrapper = styled.h3`\n  &&{\n    font-size: 14px;\n    font-weight: bold;\n    color: #121212;\n    margin-bottom: 20px;\n  }\n`\nconst AxisLabelContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n  font-size: 14px;\n`\n\nconst BarContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 20px;\n`\nconst Line = styled.div`\n  position: absolute;\n  background-color: #979797;\n  border-radius: 6px;\n  height: 6px;\n  width: 100%;\n`\nconst Circle = styled.div`\n  position: absolute;\n  background-color: #979797;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  left: 50%;\n  top: -35%;\n`\n\nconst AxisPreview = ({\n  containerWidth,\n  title,\n  leftLabel,\n  rightLabel\n}) => {\n  return (\n    <Container containerWidth={containerWidth}>\n      <TitleWrapper>{title}</TitleWrapper>\n      <AxisLabelContainer>\n        <div>{leftLabel}</div>\n        <div>{rightLabel}</div>\n      </AxisLabelContainer>\n      <BarContainer>\n        <Line/>\n        <Circle/>\n      </BarContainer>\n    </Container>\n  )\n}\n\nexport default AxisPreview","import React from \"react\";\nimport { Modal, paddingModalStyles } from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nconst ConfirmationModalForRatings = ({\n  ConfirmationModalNote,\n  confirmationModal,\n  confirmationModalClose,\n  confirmationModalHandleBtn\n}) => {\n  return (\n    <Modal\n      isOpen={confirmationModal}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <h3 className=\"confirmation-modal-title\">\n          {ConfirmationModalNote}\n        </h3>\n        {/* <p style={{textAlign: 'center'}}>{requestTranslation(\"sharePublicLinkConfirmationNote\")}</p> */}\n        <div className=\"confirmation-modal-actions\">\n          <button\n            onClick={confirmationModalClose}\n            className=\"btn btn-lg btn-plain-gray\"\n          >\n            {requestTranslation(\"cancel\").toUpperCase()}\n          </button>\n          <button\n            className=\"btn btn-lg btn-primary\"\n            onClick={confirmationModalHandleBtn}\n          >\n            {requestTranslation(\"clear\").toUpperCase()}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ConfirmationModalForRatings;\n","import React, { useEffect, useState, useCallback } from 'react'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport edit1 from './edit1.svg'\nimport edit2 from './edit2.svg'\nimport { requestTranslation, getLanguage } from '@sangre-fp/i18n'\nimport {\n    Loading,\n    Radiobox,\n    Checkbox,\n    Modal, \n    confirmDialogModalStyles\n} from '@sangre-fp/ui'\n\nimport { mockData } from '../CreateRadarForm'\n\nconst GlobalStyle = createGlobalStyle`\n  .ReactModal__Overlay--after-open {\n    background-color: rgba(0,0,0,.77)!important;\n    z-index: 100;\n  }\n`\n\nconst CanvasContainer = styled.canvas`\n  border: 1px solid #979797;\n`\nconst ButtonModalStyled = styled.button`\n  cursor: pointer;\n  height: 46px;\n  background-color: ${({ primary }) => !!primary ? '#6FBF40' : 'rgba(0,0,0,0)'};\n  border: none;\n  border-radius: 26px;\n  width: 86px;\n  color: ${({ primary }) => !!primary ? 'white' : '#666'};\n  font-weight: 700;\n  font-size: 16px;\n  margin-right: ${({ marginRight }) => !!marginRight ? marginRight : 0}px;\n  :hover {\n    opacity: 0.9;\n  }\n  :disabled {\n    opacity: 0.5;\n    cursor: unset;\n  }\n`\nconst ButtonModalActions = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`\nconst ModalContent = styled.div`\n  padding: 12px 16px;\n`\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    width: 450,\n    height: 276,\n    boxSizing: 'border-box',\n    zIndex: 10\n  },\n}\nconst EditButton = styled.img`\n  cursor: pointer;\n  :hover {\n    opacity: 0.8;\n  }\n`\nconst ModalTitle = styled.h2`\n  color: #121212;\n  font-weight: 700;\n  font-size: 20px;\n  margin: 0;\n  margin-bottom: 24px;\n`\nconst ModalInputHint = styled.div`\n  color: #121212;\n  font-weight: 400;\n  font-size: 14px;\n  margin: 24px 0;\n`\nconst ModalInputValue = styled.input`\n  width: 100%;\n  height: 44px;\n  border: 1px solid #bababa;\n  box-sizing: border-box;\n  padding: 12px;\n`\n\nconst SETTING_VALUE = {\n  TOP_LEFT: 'topLeftValue',\n  TOP_RIGHT: 'topRightValue',\n  BOTTOM_LEFT: 'bottomLeftValue',\n  BOTTOM_RIGHT: 'bottomRightValue',\n  LEFT_END: 'leftEndValue',\n  RIGHT_END: 'rightEndValue',\n  TOP_END: 'topEndValue',\n  LOW_END: 'lowEndValue',\n  HORIZONTAL: 'horizontalAxisNameValue',\n  VERTICAL: 'verticalAxisNameValue'\n}\nconst SETTING_VALUE_TITLE = {\n  [SETTING_VALUE.TOP_LEFT]: getLanguage() === 'en' ? 'Fourfold table – top left' : 'Nelikenttä – vasen yläosa',\n  [SETTING_VALUE.TOP_RIGHT]: getLanguage() === 'en' ? 'Fourfold table – top right' : 'Nelikenttä – oikea yläosa',\n  [SETTING_VALUE.BOTTOM_LEFT]: getLanguage() === 'en' ? 'Fourfold table – bottom left' : 'Nelikenttä – vasen alaosa',\n  [SETTING_VALUE.BOTTOM_RIGHT]:  getLanguage() === 'en' ? 'Fourfold table – bottom right' : 'Nelikenttä – oikea alaosa',\n  [SETTING_VALUE.LEFT_END]:  getLanguage() === 'en' ? 'Horizontal axis – Left end' : 'Vaaka-akseli – vasen',\n  [SETTING_VALUE.RIGHT_END]: getLanguage() === 'en' ? 'Horizontal axis – Right end' : 'Vaaka-akseli – oikea',\n  [SETTING_VALUE.TOP_END]: getLanguage() === 'en' ? 'Vertical axis – High end' : 'Pystyakseli –  ylä',\n  [SETTING_VALUE.LOW_END]: getLanguage() === 'en' ? 'Vertical axis – Low end' : 'Pystyakseli – ala',\n  [SETTING_VALUE.HORIZONTAL]:  getLanguage() === 'en'? 'Horizontal axis - horizontal': 'Vaaka-akseli',\n  [SETTING_VALUE.VERTICAL]:  getLanguage() === 'en'? 'Vertical axis - vertical':'Pystyakseli',\n}\n\nconst ICON_SPACING = 30\n\nconst AxisX = ({\n  axisWidth,\n  horizontalAxisName,\n  leftEnd,\n  rightEnd,\n  containerWidth,\n  onEdit\n}) => {\n  const cellStyle = { fontSize: 12, height: 16, whiteSpace: 'nowrap', color: 'rgb(99, 114, 130)' }\n\n  return (\n    <>\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth + 2, margin: 0, marginTop: -17, zIndex: 10, position: 'relative' }}>\n      <tbody style={{border: 'none'}}>\n        <tr style={{border: 'none'}}>\n            <td style={{ ...cellStyle, fontSize: 16, fontWeight: 500, paddingLeft: ICON_SPACING }}>\n              <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.LEFT_END)} />\n            </td>\n            <td style={{ ...cellStyle, textAlign: 'center', fontSize: 16, fontWeight: 500 }}>\n              <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.HORIZONTAL)} />\n            </td>\n            <td style={{ ...cellStyle, textAlign: 'right', fontSize: 16, fontWeight: 500, paddingRight: ICON_SPACING }}>\n              <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.RIGHT_END)} />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth, margin: 0, marginTop: 2 }}>\n        <tbody style={{border: 'none'}}>\n          <tr style={{border: 'none'}}>\n            <td style={{ ...cellStyle, textAlign: 'left' }}>\n              <div style={{ width: containerWidth / 2, overflow: 'hidden', textOverflow: 'ellipsis' }}>{leftEnd}</div>\n            </td>\n            <td style={{ ...cellStyle, textAlign: 'right' }}>\n              <div style={{ width: containerWidth / 2, overflow: 'hidden', textOverflow: 'ellipsis' }}>{rightEnd}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth, margin: 0, marginTop: 12 }}>\n      <tbody style={{border: 'none'}}>\n          <tr style={{border: 'none'}}>\n            <td style={{ ...cellStyle, textAlign: 'center', fontSize: 16, fontWeight: 500 }}>\n              <div style={{ width: containerWidth, overflow: 'hidden', textOverflow: 'ellipsis' }}>{horizontalAxisName}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  )\n}\n\nconst AxisY = ({\n  axisHeight,\n  verticalAxisName,\n  topEnd,\n  lowEnd,\n  containerHeight,\n  onEdit\n}) => {\n  const cellStyle = {\n    fontSize: 12,\n    whiteSpace: 'nowrap',\n    color: '#637282'\n  }\n  return (\n    <>\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight, marginRight: 10 }}>\n        <tbody style={{border: 'none'}}>\n          <tr style={{ ...cellStyle, fontSize: 16, fontWeight: 500, border: 'none' }}>\n            <td style={{border: 'none'}}>\n              <div style={{ width: 18, writingMode: 'vertical-lr', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight, textAlign: 'center' }}>{verticalAxisName}</div>\n            </td>\n          </tr>\n\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight, marginRight: 8 }}>\n        <tbody style={{border: 'none'}}>\n          <tr style={{ ...cellStyle, border: 'none' }}>\n          <td style={{border: 'none'}}>\n              <div style={{ width: 16, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 10, textAlign: 'right' }}>{topEnd}</div>\n            </td>\n          </tr>\n\n          <tr style={{ ...cellStyle, border: 'none' }}>\n          <td style={{border: 'none'}}>\n              <div style={{ width: 16, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 10, textAlign: 'left' }}>{lowEnd}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight + 2, marginRight: -17, zIndex: 1 }}>\n        <tbody style={{border: 'none'}}>\n          <tr style={{ ...cellStyle, border: 'none' }}>\n            <td style={{ textAlign: 'right', border: 'none' }}>\n              <div style={{ width: 34, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 24 - ICON_SPACING, textAlign: 'right', marginTop: ICON_SPACING }}>\n                <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.TOP_END)} />\n              </div>\n            </td>\n          </tr>\n\n          <tr style={{ ...cellStyle, border: 'none' }}>\n          <td style={{border: 'none'}}>\n              <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.VERTICAL)} />\n            </td>\n          </tr>\n\n          <tr style={{ ...cellStyle, border: 'none' }}>\n            <td style={{ textAlign: 'left', border: 'none' }}>\n              <div style={{ width: 34, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 24 - ICON_SPACING, textAlign: 'left', marginBottom: ICON_SPACING }}>\n                <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.LOW_END)} />\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  )\n}\n\nconst CollaborationChartSetting = ({\n  containerWidth = 664,\n  containerHeight = 424,\n  topLeft = 'Top left',\n  topRight = 'Top right',\n  bottomLeft = 'Bottom left',\n  bottomRight = 'Bottom right',\n  horizontalAxisName = 'Horizontal axis name',\n  leftEnd = 'Left end',\n  rightEnd = 'Right end',\n  verticalAxisName = 'Vertical axis name',\n  topEnd = 'Top end',\n  lowEnd = 'Low end',\n  passisCustomToRatingModalPreviewModeVertical,\n  passisCustomToRatingModalPreviewModeHoronzal,\n  inputSelectedX,\n  inputSelectedY,\n  isCustomHorozol,\n  isCustomVertical\n}) => {\n  const [appContext, setAppContext] = useState({})\n  const [state, setState] = useState({\n    showModal: false,\n    currentSettingIndex: null,\n    inputValueModal: '',\n    [SETTING_VALUE.TOP_LEFT]: topLeft,\n    [SETTING_VALUE.TOP_RIGHT]: topRight,\n    [SETTING_VALUE.BOTTOM_LEFT]: bottomLeft,\n    [SETTING_VALUE.BOTTOM_RIGHT]: bottomRight,\n    [SETTING_VALUE.LEFT_END]: leftEnd,\n    [SETTING_VALUE.RIGHT_END]: rightEnd,\n    [SETTING_VALUE.TOP_END]: topEnd,\n    [SETTING_VALUE.LOW_END]: lowEnd,\n    [SETTING_VALUE.HORIZONTAL]: horizontalAxisName,\n    [SETTING_VALUE.VERTICAL]: verticalAxisName\n  })\n\n  const [isEditHorizontal, setIsEditHorizontal] = useState(isCustomHorozol)\n  const [isVerticalEdit, setIsVerticalEdit] = useState(isCustomVertical)\n  const [inputSelectedXValue, setinputSelectedXValue] = useState(inputSelectedX)\n  const [inputSelectedYValue, setinputSelectedYValue] = useState(inputSelectedY)\n\n  const { showModal, inputValueModal, currentSettingIndex, topLeftValue, topRightValue, bottomLeftValue, bottomRightValue, leftEndValue, rightEndValue, topEndValue, lowEndValue, horizontalAxisNameValue, verticalAxisNameValue } = state\n  // areaDraw 1, 2 from the first row left to right\n  // areaDraw 3, 4 from the second row left to right\n  const { axis, axisContext } = appContext\n\n  const onCloseModal = () => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        showModal: false,\n        currentSettingIndex: null\n      }\n    })\n  }\n\n  const onEditSetting = (value) => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        showModal: true,\n        currentSettingIndex: value,\n        inputValueModal: state[value]\n      }\n    })\n  }\n\n  const onSaveModal = async() => {\n    Promise.resolve()\n      .then(() => { setState(prevState => {\n      return {\n        ...prevState,\n        showModal: false,\n        [currentSettingIndex]: inputValueModal.trim()\n      }\n    })})\n      .then(() => {\n        if (currentSettingIndex === 'topEndValue' \n          || currentSettingIndex === 'lowEndValue'\n          || currentSettingIndex === 'verticalAxisNameValue') {\n            // setIsVerticalEdit(true)\n          passisCustomToRatingModalPreviewModeVertical(true)\n        }\n        if (currentSettingIndex === 'leftEndValue'\n        || currentSettingIndex === 'rightEndValue'\n        || currentSettingIndex === 'horizontalAxisNameValue') {\n          // setIsEditHorizontal(true)\n          passisCustomToRatingModalPreviewModeHoronzal(true)\n        }\n      })\n\n    \n\n    \n\n    // localStorage.setItem('chartData', JSON.stringify({\n    //   leftEndValue, \n    //   rightEndValue, \n    //   topEndValue, \n    //   lowEndValue, \n    //   horizontalAxisNameValue, \n    //   verticalAxisNameValue,\n    //   topLeftValue, \n    //   topRightValue, \n    //   bottomLeftValue, \n    //   bottomRightValue,\n    //   inputSelectedXValue: inputSelectedXValue,\n    //   inputSelectedYValue: inputSelectedYValue\n    // }));\n  }\n\n  useEffect (() => {\n    localStorage.setItem('chartData', JSON.stringify({\n      leftEndValue, \n      rightEndValue, \n      topEndValue, \n      lowEndValue, \n      horizontalAxisNameValue, \n      verticalAxisNameValue,\n      topLeftValue, \n      topRightValue, \n      bottomLeftValue, \n      bottomRightValue,\n      inputSelectedXValue: inputSelectedXValue,\n      inputSelectedYValue: inputSelectedYValue,\n      isEditHorizontal,\n      isVerticalEdit\n    }));\n  }, [\n    leftEndValue, \n    rightEndValue, \n    topEndValue, \n    lowEndValue, \n    horizontalAxisNameValue, \n    verticalAxisNameValue,\n    topLeftValue, \n    topRightValue, \n    bottomLeftValue, \n    bottomRightValue,\n    inputSelectedXValue,\n    inputSelectedYValue,\n    isVerticalEdit,\n    isEditHorizontal\n  ])\n\n  useEffect (() => {\n    const retrievedObject = JSON.parse(localStorage.getItem('chartData'))\n    \n    setState(prevState => {\n      return {\n        ...prevState,\n        [SETTING_VALUE.LEFT_END]: retrievedObject ? retrievedObject.leftEndValue : leftEnd,\n        [SETTING_VALUE.RIGHT_END]: retrievedObject ? retrievedObject.rightEndValue : rightEnd,\n        [SETTING_VALUE.TOP_END]: retrievedObject ? retrievedObject.topEndValue : topEnd,\n        [SETTING_VALUE.LOW_END]: retrievedObject ? retrievedObject.lowEndValue : lowEnd,\n        [SETTING_VALUE.HORIZONTAL]: retrievedObject ? retrievedObject.horizontalAxisNameValue : horizontalAxisName,\n        [SETTING_VALUE.VERTICAL]: retrievedObject ? retrievedObject.verticalAxisNameValue : verticalAxisName,\n        [SETTING_VALUE.TOP_LEFT]: retrievedObject ? retrievedObject.topLeftValue : topLeft,\n        [SETTING_VALUE.TOP_RIGHT]: retrievedObject ? retrievedObject.topRightValue : topRight,\n        [SETTING_VALUE.BOTTOM_LEFT]: retrievedObject ? retrievedObject.bottomLeftValue : bottomLeft,\n        [SETTING_VALUE.BOTTOM_RIGHT]: retrievedObject ? retrievedObject.bottomRightValue : bottomRight,\n      }\n    })\n    setIsEditHorizontal(isCustomHorozol)\n    setIsVerticalEdit(isCustomVertical)\n    setinputSelectedXValue(inputSelectedX)\n    setinputSelectedYValue(inputSelectedY)\n\n    // localStorage.setItem('chartData', JSON.stringify({\n    //   leftEndValue: leftEnd, \n    //   rightEndValue: rightEnd, \n    //   topEndValue: topEnd, \n    //   lowEndValue: lowEnd, \n    //   horizontalAxisNameValue: horizontalAxisName, \n    //   verticalAxisNameValue: verticalAxisName,\n    //   topLeftValue: topLeft, \n    //   topRightValue: topRight, \n    //   bottomLeftValue: bottomLeft, \n    //   bottomRightValue: bottomRight,\n    //   inputSelectedXValue: inputSelectedX,\n    //   inputSelectedYValue: inputSelectedY\n    // }));\n  }, [\n    horizontalAxisName,\n    leftEnd,\n    rightEnd,\n    verticalAxisName,\n    topEnd,\n    lowEnd,\n    topLeft,\n    topRight,\n    bottomLeft,\n    bottomRight,\n    inputSelectedX,\n    inputSelectedY,\n    isCustomHorozol,\n    isCustomVertical,\n    setState,\n    setIsEditHorizontal,\n    setIsVerticalEdit,\n    setinputSelectedXValue,\n    setinputSelectedYValue\n  ])\n\n  \n  const onChangeInputModal = (e) => {\n    e.persist()\n    setState(prevState => {\n      return {\n        ...prevState,\n        inputValueModal: e.target.value\n      }\n    })\n  }\n\n  const drawLine = ({ begin, end }) => {\n    axisContext.strokeStyle = '#979797'\n    axisContext.beginPath()\n    axisContext.moveTo(...begin)\n    axisContext.lineTo(...end)\n    axisContext.stroke()\n  }\n\n  const drawText = ({ x, y, text }) => {\n    axisContext.font = 'italic 16px L10'\n    axisContext.fillStyle = 'rgb(224, 222, 222)'\n    axisContext.textAlign = 'center'\n    axisContext.fillText(text, x, y)\n  }\n\n  const drawTexts = () => {\n    drawText({ x: containerWidth / 4, y: containerHeight / 4, text: topLeftValue })\n    drawText({ x: containerWidth * 0.75, y: containerHeight / 4, text: topRightValue })\n    drawText({ x: containerWidth * 0.25, y: containerHeight * 0.75, text: bottomLeftValue })\n    drawText({ x: containerWidth * 0.75, y: containerHeight * 0.75, text: bottomRightValue })\n  }\n\n  const drawNormalAxis = () => {\n    // clear before redrawing\n    axisContext.clearRect(0, 0, containerWidth, containerHeight)\n\n    drawLine({ begin: [0, axis.clientHeight / 2 + 0.5], end: [axis.clientWidth + 0.5, axis.clientHeight / 2 + 0.5] })\n    drawLine({ begin: [axis.clientWidth / 2 + 0.5, 0], end: [axis.clientWidth / 2 + 0.5, axis.clientHeight + 0.5] })\n    drawTexts()\n  }\n\n  useEffect(() => {\n    if (appContext.axis) {\n      drawNormalAxis()\n    }\n  }, [appContext, topLeftValue, topRightValue, bottomLeftValue, bottomRightValue])\n\n  useEffect(() => {\n    const canvasAxis = document.getElementById('setting-app-axis')\n    if (canvasAxis) {\n      canvasAxis.width = containerWidth\n      canvasAxis.height = containerHeight\n\n      setAppContext({\n        axis: canvasAxis,\n        axisContext: canvasAxis.getContext('2d')\n      })\n    }\n  }, [])\n  useEffect(() => {\n    mockData.some(i => {\n      if(String(inputSelectedX) === String(i.title) \n        && String(leftEnd) === String(i.leftAttr)\n        && String(rightEnd) === String(i.rightAttr)\n        && !isCustomHorozol) {\n          setState(prevState => {\n            return {\n              ...prevState,\n              [SETTING_VALUE.LEFT_END]: i.leftAttr,\n              [SETTING_VALUE.RIGHT_END]: i.rightAttr,\n              [SETTING_VALUE.HORIZONTAL]: i.nameAxis,\n            }\n          })\n\n          return true\n      } else if (String(inputSelectedX) === String(i.title) && isCustomHorozol) {\n        setState(prevState => {\n          return {\n            ...prevState,\n            [currentSettingIndex]: inputValueModal.trim()\n          }\n        })\n\n        return true\n      }\n  })\n  }, [inputSelectedX] )\n\n  useEffect(() => {\n    mockData.some(i => {\n      if(String(inputSelectedY) === String(i.title) \n        && String(lowEnd) === String(i.leftAttr)\n        && String(topEnd) === String(i.rightAttr)\n        && !isCustomVertical) {\n          setState(prevState => {\n            return {\n              ...prevState,\n              [SETTING_VALUE.LOW_END]: i.leftAttr,\n              [SETTING_VALUE.TOP_END]: i.rightAttr,\n              [SETTING_VALUE.VERTICAL]: i.nameAxis,\n            }\n          })\n          return true\n      } else if (String(inputSelectedY) === String(i.title) && isCustomVertical) {\n        setState(prevState => {\n          return {\n            ...prevState,\n            [currentSettingIndex]: inputValueModal.trim()\n          }\n        })\n\n        return true\n      }\n  })\n  }, [inputSelectedY] )\n  const setCanvas = useCallback((node) => {\n    // set one time only\n    if (node && !axisContext) {\n      node.width = containerWidth\n      node.height = containerHeight\n      setAppContext({\n        axis: node,\n        axisContext: node.getContext('2d')\n      })\n    }\n  }, [])\n\n  return (\n    <>\n      <GlobalStyle />\n      {showModal && (\n        <Modal\n          isOpen={showModal}\n          onRequestClose={onCloseModal}\n          style={confirmDialogModalStyles}\n          ariaHideApp={false}\n        >\n          <ModalContent style={{ zIndex: 2 }}>\n            <ModalTitle>{SETTING_VALUE_TITLE[currentSettingIndex]}</ModalTitle>\n            <ModalInputValue value={inputValueModal} maxLength={20} onChange={onChangeInputModal} />\n            <ModalInputHint>(max. 20 characters)</ModalInputHint>\n\n            <ButtonModalActions>\n              <ButtonModalStyled marginRight={12} onClick={onCloseModal}>Cancel</ButtonModalStyled>\n              <ButtonModalStyled primary disabled={!inputValueModal} onClick={onSaveModal}>SAVE</ButtonModalStyled>\n            </ButtonModalActions>\n          </ModalContent>\n        </Modal>\n      )}\n\n      <div style={{ display: 'flex', width: `${containerWidth}px` }}>\n        <AxisY onEdit={onEditSetting} containerHeight={containerHeight} axisHeight={containerHeight} verticalAxisName={verticalAxisNameValue} topEnd={topEndValue} lowEnd={lowEndValue} />\n        <div style={{ width: containerWidth, height: containerHeight }}>\n          <div style={{ position: 'relative', width: containerWidth, height: containerHeight, background: 'white' }}>\n            <svg id='svg-app' style={{ position: 'absolute', width: containerWidth + 2, height: containerHeight + 2 }}>\n              <foreignObject x={containerWidth / 2 - 80} y={containerHeight / 2 - 80} width='34' height='34'>\n                <EditButton src={edit2} onClick={() => onEditSetting(SETTING_VALUE.TOP_LEFT)} />\n              </foreignObject>\n              <foreignObject x={containerWidth / 2 - 80} y={containerHeight / 2 + 40} width='34' height='34'>\n                <EditButton src={edit2} onClick={() => onEditSetting(SETTING_VALUE.BOTTOM_LEFT)} />\n              </foreignObject>\n\n              <foreignObject x={containerWidth / 2 + 40} y={containerHeight / 2 - 80} width='34' height='34'>\n                <EditButton src={edit2} onClick={() => onEditSetting(SETTING_VALUE.TOP_RIGHT)} />\n              </foreignObject>\n              <foreignObject x={containerWidth / 2 + 40} y={containerHeight / 2 + 40} width='34' height='34'>\n                <EditButton src={edit2} onClick={() => onEditSetting(SETTING_VALUE.BOTTOM_RIGHT)} />\n              </foreignObject>\n            </svg>\n            <CanvasContainer ref={setCanvas} id='setting-app-axis' style={{ width: containerWidth, height: containerHeight }} />\n          </div>\n          <AxisX onEdit={onEditSetting} containerWidth={containerWidth} axisWidth={containerWidth} horizontalAxisName={horizontalAxisNameValue} leftEnd={leftEndValue} rightEnd={rightEndValue} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default CollaborationChartSetting","import React from \"react\";\nimport { Modal, paddingModalStyles } from \"@sangre-fp/ui\";\nimport { requestTranslation } from \"@sangre-fp/i18n\";\nimport { InfoCircle } from \"@styled-icons/boxicons-regular\";\nimport styled from \"styled-components\";\n\nconst EmbedLinkModal = ({\n    \n    EmbedLinkModalOpen,\n    EmbedLinkModalClose,\n    EmbedLink\n    \n  }) => {\n    const handleClick = (link) => {\n      window.open(link);\n    };\n\n    // const viewportWidth = window.innerWidth  + \"px\";\n    const viewportHeight = window.innerHeight ;\n    const viewportHeight065 = window.innerHeight * 0.9 - 12 ;\n    return (\n      <Modal\n        onRequestClose={EmbedLinkModalClose}\n        isOpen={EmbedLinkModalOpen}\n        contentLabel=\"radar-modal\"\n        ariaHideApp={false}\n        style={paddingModalStyles}\n      >\n        <div className=\"confirmation-modal-content pt-4 pb-4\" style={{position: \"relative\", height: viewportHeight}}>\n            <div style={{width:\"100%\", height: (+viewportHeight065) }}>\n                <embed \n                    type=\"text/html\" src={EmbedLink}\n                    width={\"100%\" } \n                    height={(viewportHeight065 -12 )} \n                    // style ={{marginBottom: '40px'}}\n                    />\n            </div>\n            <CloseBtnWrapper>\n                <button className=\"btn btn-primary \" onClick={EmbedLinkModalClose}>GOT IT</button>\n            </CloseBtnWrapper>\n         \n        </div>\n      </Modal>\n    );\n  };\n  \n  export default EmbedLinkModal;\n\n  const CloseBtnWrapper = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    bottom: 0;\n    right: 12; \n    position: sticky;\n    padding-right: 20px;\n`;","import React from \"react\";\nimport { Modal, paddingModalStyles } from \"@sangre-fp/ui\";\nimport { requestTranslation } from \"@sangre-fp/i18n\";\nimport { InfoCircle } from \"@styled-icons/boxicons-regular\";\nimport styled from \"styled-components\";\nimport EmbedLinkModal from \"../EmbedLinkModal\";\nconst InformationModal = ({\n  InfoModalHeader,\n  InfoModalDescription,\n  InfoModalDescription2,\n  InfoModalDescription3,\n  InfoModalDescription4,\n  InfoModalDescription5,\n  InfoModalDescription6,\n  InfoModalDescription7,\n  InfoModalNote,\n  InfoModalOpen,\n  InfoModalClose,\n  LearnMoreBtn,\n  GuideBtn,\n  LearnMoreLink,\n  GuideLink,\n}) => {\n  const [openEmbedLinkModalGuideLink, setOpenEmbedLinkModalGuideLink ] = React.useState(false)\n  const [openEmbedLinkModalLearnMoreLink, setOpenEmbedLinkModalLearnMoreLink] = React.useState(false)\n  const handleOpenGuideLinkModal = (link) => {\n    setOpenEmbedLinkModalGuideLink(true)\n    // window.open(link);\n  };\n  const handleOpenLearnMoreLinkModal = (link) => {\n    setOpenEmbedLinkModalLearnMoreLink(true)\n    // window.open(link);\n  };\n  return (\n    <Modal\n      onRequestClose={InfoModalClose}\n      isOpen={InfoModalOpen}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <div\n          className=\"modal-form-section modal-form-header\"\n          style={{ marginLeft: \"10px\" }}\n        >\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            <InformationIcon />\n            <h3 style={{ marginLeft: \"20px\", marginBottom: \"0\" }}>\n              {InfoModalHeader}\n            </h3>\n          </div>\n          <p className=\"mt-4\">\n            {InfoModalNote}\n          </p>\n          \n            <InformationUl>\n              {InfoModalDescription && <InformationLi>{InfoModalDescription}</InformationLi>}\n              {InfoModalDescription2 && <InformationLi>{InfoModalDescription2}</InformationLi>}\n              {InfoModalDescription3 && <InformationLi>{InfoModalDescription3}</InformationLi>}\n              {InfoModalDescription4 && <InformationLi>{InfoModalDescription4}</InformationLi>}\n              {InfoModalDescription5 && <InformationLi>{InfoModalDescription5}</InformationLi>}\n              {InfoModalDescription6 && <InformationLi>{InfoModalDescription6}</InformationLi>}\n              {InfoModalDescription7 && <InformationLi>{InfoModalDescription7}</InformationLi>}\n\n            </InformationUl>\n\n          {/* <div style={{ marginTop: \"48px\", display: 'flex', flexDirection:'column', width: '60%' }}>\n            <p>{requestTranslation('LearnMoreFromHUB')}</p>\n            <div style={{display: 'flex', flexDirection: 'column'}}>\n              <button handleOpenLearnMoreLinkModal\n                onClick={() => handleOpenLearnMoreLinkModal(LearnMoreLink)}\n                className=\"btn btn-sm btn-outline-secondary\"\n              >\n                {LearnMoreBtn}\n              </button>\n              <button\n                className=\"btn btn-sm btn-outline-secondary\"\n                style={{marginTop: '17px'}}\n                onClick={() => handleOpenGuideLinkModal(GuideLink)}\n              >\n                {GuideBtn}\n              </button>\n            </div>\n          </div> */}\n          <div style={{display: 'flex', justifyContent: 'flex-end'}}>\n            <button className='btn btn-sm btn-primary' onClick={InfoModalClose}>{requestTranslation('GotItBtn')}</button>\n          </div>\n        </div>\n      </div>\n      <EmbedLinkModal \n        EmbedLinkModalOpen= {openEmbedLinkModalGuideLink}\n        EmbedLinkModalClose= {() => setOpenEmbedLinkModalGuideLink(false)}\n        EmbedLink={GuideLink}\n      />\n      <EmbedLinkModal \n        EmbedLinkModalOpen= {openEmbedLinkModalLearnMoreLink}\n        EmbedLinkModalClose= {() => setOpenEmbedLinkModalLearnMoreLink(false)}\n        EmbedLink={LearnMoreLink}\n      />\n    </Modal>\n  );\n};\n\nexport default InformationModal;\n\nconst InformationIcon = styled(InfoCircle)`\n  background-color: white;\n  color: #00C3FF;\n  width: 45px;\n  height: 45px;\n`;\nconst InformationUl = styled.ul`\n  line-height: 2\n`;\nconst InformationLi = styled.li`\n  line-height: 1.5\n`;\n","import React, { useState, useRef, useLayoutEffect, useEffect } from 'react'\nimport styled from 'styled-components'\nimport _ from 'lodash'\nimport Select from 'react-select'\nimport Toggle from 'react-toggle'\nimport {\n    Loading,\n    Radiobox,\n    Checkbox,\n    Modal, \n    paddingModalStyles\n} from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { radarLanguages, initialCommentTopics, customQuillModules } from '../../config'\nimport { PUBLIC_URL } from '../../env'\nimport ReactQuill from 'react-quill'\nimport filter from 'lodash/filter'\nimport find from 'lodash/find'\nimport first from 'lodash/first'\nimport times from 'lodash/times'\nimport { formats } from '../../quill'\nimport classNames from 'classnames'\nimport {InfoCircle} from '@styled-icons/boxicons-regular'\nimport Popover from '@material-ui/core/Popover';\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from '../CreateRadarForm.module.css'\nimport ConfirmationModalForRatings from '../ConfirmationModalForRatings/ConfirmationModalForRatings'\nimport CollaborationChartSetting from '../CollaborationChartSetting'\nimport {mockDataEn, mockDataFin, mockData} from '../CreateRadarForm'\nimport InformationModal from '../InformationModal/InformationModal'\nimport { getLanguage } from '@sangre-fp/i18n'\n\nconst URL = window.URL || window.webkitURL\n\nexport const PAGE_HEADER_AND_LANGUAGE = 1\nexport const PAGE_BASIC_SETTINGS = 2\nexport const PAGE_USER_OPTIONS = 3\nexport const PAGE_CONCLUSIONS = 4\n\n// TODO enable when implemented\nconst COMMENT_TOPICS_ENABLED = false\nconst RATING_ARROWS_ENABLED = false\n\nexport const CustomModalStyles = { content: { ...paddingModalStyles.content}, overlay: { ...paddingModalStyles.overlay} }\n// export const mockData= [\n//     {\n//         title: 'Time',\n//         label: 'Time',\n//         leftAttr: 'near term',\n//         rightAttr: 'long term'\n//     },\n//     {\n//         title: 'Probability',\n//         label: 'Probability',\n//         leftAttr: 'low',\n//         rightAttr: 'high'\n//     },\n//     {\n//         title: 'Fit with current strategy',\n//         label: 'Fit with current strategy',\n//         leftAttr: 'near term',\n//         rightAttr: 'long term'\n//     },\n//     {\n//         title: 'Fit with new strategy',\n//         label: 'Fit with new strategy',\n//         leftAttr: 'weak',\n//         rightAttr: 'strong'\n//     },\n//     {\n//         title: 'Direction of the trend',\n//         label: 'Direction of the trend',\n//         leftAttr: 'weakening',\n//         rightAttr: 'increasing'\n//     },\n//     {\n//         title: 'Importance',\n//         label: 'Importance',\n//         leftAttr: 'low',\n//         rightAttr: 'high'\n//     },\n//     {\n//         title: 'Impact1',\n//         label: 'Impact',\n//         leftAttr: 'moderate',\n//         rightAttr: 'huge'\n//     },\n//     {\n//         title: 'Impact2',\n//         label: 'Impact',\n//         leftAttr: 'local',\n//         rightAttr: 'global'\n//     },\n//     {\n//         title: 'Nature1',\n//         label: 'Nature',\n//         leftAttr: 'threat',\n//         rightAttr: 'opportunity'\n//     },\n//     {\n//         title: 'Nature2',\n//         label: 'Nature',\n//         leftAttr: 'long term trend',\n//         rightAttr: 'emergent'\n//     },\n//     {\n//         title: 'Speed of change',\n//         label: 'Speed of change',\n//         leftAttr: 'gradual',\n//         rightAttr: 'tsunami'\n//     },\n//     {\n//         title: 'Size of threat/risk',\n//         label: 'Size of threat/risk',\n//         leftAttr: 'moderate',\n//         rightAttr: 'huge'\n//     },\n//     {\n//         title: 'Size of opportunity',\n//         label: 'Size of opportunity',\n//         leftAttr: 'moderate',\n//         rightAttr: 'huge'\n//     },\n//     {\n//         title: 'Nature3',\n//         label: 'Nature',\n//         leftAttr: 'non-disrupting',\n//         rightAttr: 'disrupting'\n//     },\n//     {\n//         title: 'Fit with existing capabilities',\n//         label: 'Fit with existing capabilities',\n//         leftAttr: 'weak',\n//         rightAttr: 'strong'\n//     },\n//     {\n//         title: 'Magnitude of actions required',\n//         label: 'Magnitude of actions required',\n//         leftAttr: 'minor',\n//         rightAttr: 'huge'\n//     },\n//     {\n//         title: 'Custom',\n//         label: 'Custom',\n//         leftAttr: 'x',\n//         rightAttr: 'y'\n//     },\n// ]\n\n\nconst useStyles = theme => ({\n    popover: {\n      pointerEvents: 'none',\n      width: '40%'\n    },\n    paper: {\n      padding: theme.spacing(1),\n      backgroundColor: '#424242',\n      color: '#fff',\n      width: 'fit-content'\n    },\n  });\n\nconst  RatingModalPreviewEditMode = ({\n    isRatingPreviewEditOpen,\n    ratingsOn,\n    axisXTitle,\n    axisXMin,\n    axisXMax,\n    axisYTitle,\n    axisYMin,\n    axisYMax,\n    fourFieldsTopLeft,\n    fourFieldsTopRight,\n    fourFieldsBottomLeft,\n    fourFieldsBottomRight,\n    axisYSelect,\n    axisXSelect,\n    RatingAnchorEl,\n    RatingDescriptionDisplayed,\n    openClearAllFields,\n    widthContentWidth,\n    onHoverRatingIcon,\n    onLeaveRatingIcon,\n    handleDisplayVericalAxisRatingChange,\n    handleDisplayHorizontalAxisRatingChange,\n    handleFlipHorizontalAndVerticalChange,\n    openClearAllFieldsModal,\n    closeClearAllFieldsModal,\n    clearAllFieldsBtn,\n    classes,\n    // handleRatingsOnChange,\n    handleRatingPreviewEditModeClose,\n    handleRatingOff,\n    passCheckedCustomData,\n    emitFlagToRefetchDataOfChart,\n    handleUpdateStateWhenClickedDoneBtnInCreateRadarForm,\n    isCustomVerticalProp,\n    isCustomHorozontalProp\n}) => {\n        // const { classes } = props;\n        \n        const handleRatingsOnChange = (e) => {\n            handleRatingOff(e)\n        }\n        \n        const [isCustomVertical, setIsCustomVertical] = React.useState(isCustomVerticalProp)\n        const [isCustomHorozol, setIsCustomHorozol] = React.useState(isCustomHorozontalProp)\n\n        const [topEnd, setTopEnd] = React.useState(axisYMax)\n        const [lowEnd, setLowEnd] = React.useState(axisYMin)\n        const [leftEnd, setLeftEnd] = React.useState(axisXMin)\n        const [rightEnd, setRightEnd] = React.useState(axisXMax)\n        const [xName, setXName] = React.useState(axisXTitle)\n        const [yName, setYname] = React.useState(axisYTitle)\n        const [fourFieldsTopLeftValue, setfourFieldsTopLeftValue] = React.useState(fourFieldsTopLeft)\n        const [fourFieldsTopRightValue, setfourFieldsTopRight] = React.useState(fourFieldsTopRight)\n        const [fourFieldsBottomLeftValue, setfourFieldsBottomLeftValue] = React.useState(fourFieldsBottomLeft)\n        const [fourFieldsBottomRightValue, setfourFieldsBottomRightValue] = React.useState(fourFieldsBottomRight)\n        const [axisXSelectValue, setaxisXSelect] = React.useState(axisXSelect)\n        const [axisYSelectValue, setaxisYSelect] = React.useState(axisYSelect)\n        const [openRatingInformationModal, setOpenRatingInformationModal] = React.useState(false)\n\n\n        const openRatingInformationModalHandle = () => {\n            setOpenRatingInformationModal(true)\n        }\n    \n        const closeRatingInformationModalHandle = () => {\n            setOpenRatingInformationModal(false)\n        } \n        const getDataFromLocalStorageThenSaveToLocalState = () => {\n            const retrievedObject = JSON.parse(localStorage.getItem('chartData'))\n\n            Promise.resolve()\n            .then(() => {\n                const {\n                    leftEndValue, \n                    rightEndValue, \n                    topEndValue, \n                    lowEndValue, \n                    horizontalAxisNameValue, \n                    verticalAxisNameValue,\n                    topLeftValue, \n                    topRightValue, \n                    bottomLeftValue, \n                    bottomRightValue,\n                    inputSelectedXValue,\n                    inputSelectedYValue,\n                    isEditHorizontal,\n                    isVerticalEdit\n            } = retrievedObject\n\n                if (retrievedObject) {\n                    setLowEnd(retrievedObject.lowEndValue)\n                    setTopEnd(retrievedObject.topEndValue)\n                    setLeftEnd(retrievedObject.leftEndValue)\n                    setRightEnd(retrievedObject.rightEndValue)\n                    setXName(retrievedObject.horizontalAxisNameValue)\n                    setYname(retrievedObject.verticalAxisName)\n                    setfourFieldsTopLeftValue(() => retrievedObject.topLeftValue)\n                    setfourFieldsTopRight((() => retrievedObject.topRightValue))\n                    setfourFieldsBottomLeftValue(() => retrievedObject.bottomLeftValue)\n                    setfourFieldsBottomRightValue(() => retrievedObject.bottomRightValue)\n                    setaxisXSelect(prestate => retrievedObject.inputSelectedXValue)\n                    setaxisYSelect(prestate => retrievedObject.inputSelectedYValue)\n                    setIsCustomVertical(pre => isVerticalEdit)\n                    setIsCustomHorozol( pre => isEditHorizontal)\n                }\n            }\n            )\n        }\n\n        const receivedCheckDataFromCollaborationChartSettingVertical = (isVertical) => {\n            setIsCustomVertical(isVertical)\n            // getDataFromLocalStorageThenSaveToLocalState()\n            \n        }\n\n        const receivedCheckDataFromCollaborationChartSettingHoronzal = (isHorizontal) => {\n            setIsCustomHorozol(isHorizontal)\n            // getDataFromLocalStorageThenSaveToLocalState()\n            \n        }\n\n        const handleBothClickedDoneAndPassCheckedCustomData = async(isVertical, isHorizontal) => {\n            passCheckedCustomData(isVertical, isHorizontal)\n            // Retrieve the object from storage\n            const retrievedObject = await localStorage.getItem('chartData');\n            retrievedObject && emitFlagToRefetchDataOfChart(JSON.parse(retrievedObject));\n            handleRatingPreviewEditModeClose()\n        }\n\n        const handleOpenClearAllFieldsModal = () => {\n            Promise.resolve()\n            .then(() => { \n                \n                // localStorage.removeItem(\"chartData\")\n                setLowEnd(() => requestTranslation('lowEnd'))\n                setTopEnd(() => requestTranslation('highEnd'))\n                setLeftEnd(() => requestTranslation('leftEnd'))\n                setRightEnd(() =>requestTranslation('rightEnd'))\n                setXName(() => requestTranslation('HorizontalAxisName'))\n                setYname(() => requestTranslation('verticalAxisName'))\n                setfourFieldsTopLeftValue(() => requestTranslation('topLeft'))\n                setfourFieldsTopRight((() => requestTranslation('topRight')))\n                setfourFieldsBottomLeftValue(() => requestTranslation('bottomLeft'))\n                setfourFieldsBottomRightValue(() => requestTranslation('bottomRight'))\n                setaxisXSelect(()=> '')\n                setaxisYSelect(() => '')\n                \n                setIsCustomHorozol(false)\n                setIsCustomVertical(false)\n\n                }\n            )\n            .then(() => {\n                localStorage.removeItem(\"chartData\")\n                clearAllFieldsBtn()\n            })\n            \n           \n        }\n\n        const handleDisplayVericalAxisRatingChangeOnRatingModalPreviewEditMode = ({value}) => {\n            // handleDisplayVericalAxisRatingChange({value})\n            mockData.some(i => {\n                if ((String(value) === 'Custom') || (String(value) === 'Muokattui')  ) {\n                    setIsCustomVertical(true)\n                    handleDisplayVericalAxisRatingChange({value}, true)\n                    return true\n                }\n                else if(String(value) === String(i.title)) {\n                    setTopEnd(i.rightAttr)\n                    setLowEnd(i.leftAttr)\n                    setYname(i.nameAxis)\n                    setaxisYSelect(i.title)\n                    setIsCustomVertical(false)\n                    handleDisplayVericalAxisRatingChange({value}, false)\n                    return true\n                }\n            })\n            \n        }\n\n        const handleDisplayHorizontalAxisRatingChangeOnRatingModalPreviewEditMode = ({value}) => {\n            // handleDisplayHorizontalAxisRatingChange({value})\n            mockData.some(i => {\n                if ((String(value) === 'Custom') || (String(value) === 'Muokattui')  ) {\n                    setIsCustomHorozol(true)\n                    handleDisplayHorizontalAxisRatingChange({value}, true)\n                    return true\n                }\n                else if(String(value) === String(i.title)) {\n                    setRightEnd(i.rightAttr)\n                    setLeftEnd(i.leftAttr)\n                    setXName(i.nameAxis)\n                    setaxisXSelect(i.title)\n                    setIsCustomHorozol(false)\n                    handleDisplayHorizontalAxisRatingChange({value}, false)\n                    return true\n                }\n            })\n            \n        }\n\n        const handleFlipHorizontalAndVerticalChangeInRatingEditChartMode = () => {\n            const retrievedObject = JSON.parse(localStorage.getItem('chartData'))\n            const {\n                    leftEndValue, \n                    rightEndValue, \n                    topEndValue, \n                    lowEndValue, \n                    horizontalAxisNameValue, \n                    verticalAxisNameValue,\n                    topLeftValue, \n                    topRightValue, \n                    bottomLeftValue, \n                    bottomRightValue,\n                    inputSelectedXValue,\n                    inputSelectedYValue,\n                    isEditHorizontal,\n                    isVerticalEdit\n            } = retrievedObject\n\n            localStorage.setItem('chartData', JSON.stringify({\n                leftEndValue: lowEndValue, \n                rightEndValue: topEndValue, \n                topEndValue: rightEndValue, \n                lowEndValue: leftEndValue, \n                horizontalAxisNameValue: verticalAxisNameValue, \n                verticalAxisNameValue: horizontalAxisNameValue,\n                topLeftValue, \n                topRightValue, \n                bottomLeftValue, \n                bottomRightValue,\n                inputSelectedXValue: inputSelectedYValue,\n                inputSelectedYValue: inputSelectedXValue,\n                isVerticalEdit: isEditHorizontal,\n                isEditHorizontal: isVerticalEdit\n              }));\n\n            \n\n            Promise.resolve()\n            .then(() => { \n                if (retrievedObject) {\n                    setLowEnd(retrievedObject.leftEndValue)\n                    setTopEnd(retrievedObject.rightEndValue)\n                    setLeftEnd(retrievedObject.lowEndValue)\n                    setRightEnd(retrievedObject.topEndValue)\n                    setXName(retrievedObject.verticalAxisNameValue)\n                    setYname(retrievedObject.horizontalAxisNameValue)\n                    setfourFieldsTopLeftValue(() => retrievedObject.topLeftValue)\n                    setfourFieldsTopRight((() => retrievedObject.topRightValue))\n                    setfourFieldsBottomLeftValue(() => retrievedObject.bottomLeftValue)\n                    setfourFieldsBottomRightValue(() => retrievedObject.bottomRightValue)\n                    setaxisXSelect(prestate => retrievedObject.inputSelectedYValue)\n                    setaxisYSelect(prestate => retrievedObject.inputSelectedXValue)\n                    setIsCustomVertical(pre => isEditHorizontal)\n                    setIsCustomHorozol( pre => isVerticalEdit)\n                }\n            }\n            )\n        }\n\n        const handleDoneBtn = (isCustomVertical, isCustomHorozol) => {\n            handleBothClickedDoneAndPassCheckedCustomData(isCustomVertical, isCustomHorozol)\n            handleUpdateStateWhenClickedDoneBtnInCreateRadarForm()\n        }\n\n        useEffect(() => {\n            setRightEnd(axisXMax)\n        }, [axisXMax])\n        useEffect(() => {\n            setLeftEnd(axisXMin)\n        }, [axisXMin])\n        useEffect(() => {\n            setLowEnd(axisYMin)\n        }, [axisYMin])\n        useEffect(() => {\n            setTopEnd(axisYMax)\n        }, [axisYMax])\n        useEffect(() => {\n            setXName(axisXTitle)\n        }, [axisXTitle])\n        useEffect(() => {\n            setYname(axisYTitle)\n        }, [axisYTitle])\n\n        useEffect(() => {\n            setfourFieldsTopLeftValue(fourFieldsTopLeft)\n        }, [fourFieldsTopLeft])\n        useEffect(() => {\n            setfourFieldsTopRight(fourFieldsTopRight)\n        }, [fourFieldsTopRight])\n        useEffect(() => {\n            setfourFieldsBottomLeftValue(fourFieldsBottomLeft)\n        }, [fourFieldsBottomLeft])\n        useEffect(() => {\n            setfourFieldsBottomRightValue(fourFieldsBottomRight)\n        }, [fourFieldsBottomRight])\n\n        useEffect(() => {\n            setaxisXSelect(axisXSelect)\n        }, [axisXSelect])\n        useEffect(() => {\n            setaxisYSelect(axisYSelect)\n        }, [axisYSelect])\n        useEffect(() => {\n            setIsCustomVertical(isCustomVerticalProp)\n        }, [isCustomVerticalProp])\n        useEffect(() => {\n            setIsCustomHorozol(isCustomHorozontalProp)\n        }, [isCustomHorozontalProp])\n\n        return (\n        ratingsOn && (\n            <Modal\n                isOpen={isRatingPreviewEditOpen}\n                contentLabel=\"radar-modal\"\n                ariaHideApp={false}\n                style={CustomModalStyles}\n                    >\n                            {/* <div className='modal-form-sections'> */}\n                                <div \n                                    className='modal-form-section' \n                                    style={{background: '#f1f3f3'}}\n                                    id=\"modal-form-section-chartEditMode\"\n                                    >\n                                    <CustomHalfWidth>\n                                        <div style={{display: 'flex'}}>\n                                            <h3>\n                                                {requestTranslation('rating')}\n                                            </h3>\n                                            <InformationIcon \n                                                onMouseEnter={onHoverRatingIcon}\n                                                onMouseLeave={onLeaveRatingIcon}\n                                                onClick={openRatingInformationModalHandle}\n                                            />\n                                            <Popover \n                                                className={classes.popover}\n                                                classes={{\n                                                    paper: classes.paper,\n                                                }}\n                                                open={RatingDescriptionDisplayed || false}\n                                                anchorEl={RatingAnchorEl} \n                                                anchorOrigin={{\n                                                    vertical: 'bottom',\n                                                    horizontal: 'left',\n                                                }}\n                                                transformOrigin={{\n                                                vertical: 'top',\n                                                horizontal: 'left',\n                                                }}\n                                                onClose={onLeaveRatingIcon}\n                                                disableRestoreFocus\n                                            >\n                                                <HoverBox>{requestTranslation('InfoIconHoverRating')}</HoverBox>\n                                            </Popover> \n                                            <InformationModal \n                                    InfoModalHeader={requestTranslation('RatingTool')}\n                                    InfoModalNote={requestTranslation('InfoModalRatingNote')}\n                                    InfoModalOpen={openRatingInformationModal}\n                                    InfoModalClose={closeRatingInformationModalHandle}\n                                    LearnMoreBtn={requestTranslation('LearnMoreRatingBtn')}\n                                    GuideBtn={requestTranslation('GuideRatingBtn')}\n                                    LearnMoreLink='https://info.futuresplatform.com/hub/how-to-rate'\n                                    GuideLink='https://info.futuresplatform.com/hub/most-commonly-used-axis-for-rating'\n                                    InfoModalDescription={requestTranslation('InfoModalRatingContent')}\n                                    InfoModalDescription2={requestTranslation('InfoModalRatingContent2')}\n                                    InfoModalDescription3={requestTranslation('InfoModalRatingContent3')}\n                                    InfoModalDescription4={requestTranslation('InfoModalRatingContent4')}\n                                    InfoModalDescription5={requestTranslation('InfoModalRatingContent5')}\n                                    InfoModalDescription6={requestTranslation('InfoModalRatingContent6')}\n                                />\n                                        </div>\n                                        <SpaceBetween>\n                                            <p>\n                                                {requestTranslation('createFormRatingDescription')}\n                                            </p>\n                                            <Toggle icons={false}\n                                                    defaultChecked={ratingsOn}\n                                                    onChange={() => handleRatingsOnChange(!ratingsOn)}\n                                            />\n                                        </SpaceBetween>\n                                        {/* <SpaceBetween> */}\n                                            {/* <p style={{marginTop: '12px'}}>{requestTranslation('IntructionsForNamingAxis')}</p> */}\n                                        {/* </SpaceBetween> */}\n                                    </CustomHalfWidth>\n                                    \n\n                                    {ratingsOn && (\n                                    <FullWidthBgContainer style={{ paddingTop: 0, paddingRight: 0, paddingLeft: 0, marginTop: '20px' }}>\n                                        <SpaceBetween>\n                                            <HalfWidth>\n                                                <h4>\n                                                    {requestTranslation('verticalAxis')}\n                                                </h4>\n                                                <Columns>\n                                                    <Column>\n                                                        <Select\n                                                            defaultValue='Select'\n                                                            searchable={false}\n                                                            name='group'\n                                                            className= {`${styles['custom-react-select-margin-bottom-att']}` }\n                                                            onChange={handleDisplayVericalAxisRatingChangeOnRatingModalPreviewEditMode}\n                                                            value={isCustomVertical ? getLanguage() === 'en' ?'Custom':'Muokattui' : axisYSelectValue}\n                                                            options={\n                                                                getLanguage() === 'en' ?\n                                                                    (mockDataEn?.sort((a, b) => a.label.localeCompare(b.label)).map(i => ({\n                                                                        label: i.label, value: i.title\n                                                                    }))) : \n                                                                    (mockDataFin?.sort((a, b) => a.label.localeCompare(b.label)).map(i => ({\n                                                                        label: i.label, value: i.title\n                                                                    })))\n                                                            }\n                                                            clearable={false}\n                                                        />\n                                                    </Column>\n                                                </Columns>   \n                                            </HalfWidth>\n                                            <HalfWidth>\n                                                <h4>\n                                                    {requestTranslation('horizontalAxis')}\n                                                </h4>\n                                                <Columns>\n                                                    <Column>\n                                                        <Select\n                                                            searchable={false}\n                                                            name='group'\n                                                            className= {`${styles['custom-react-select-margin-bottom-att']}` }\n                                                            value={isCustomHorozol ? getLanguage() === 'en' ?'Custom':'Muokattui' : axisXSelectValue}\n                                                            onChange={handleDisplayHorizontalAxisRatingChangeOnRatingModalPreviewEditMode}\n                                                            options={\n                                                                getLanguage() === 'en' ?\n                                                                    (mockDataEn?.sort((a, b) => a.label.localeCompare(b.label)).map(i => ({\n                                                                        label: i.label, value: i.title\n                                                                    }))) : \n                                                                    (mockDataFin?.sort((a, b) => a.label.localeCompare(b.label)).map(i => ({\n                                                                        label: i.label, value: i.title\n                                                                    })))\n                                                            }\n                                                            clearable={false}\n                                                        />\n                                                    </Column>\n                                                </Columns>\n                                            </HalfWidth>\n                                        </SpaceBetween>\n                                    </FullWidthBgContainer>\n                                )}\n\n                                {ratingsOn && (\n                                    <FullWidthBgContainer style={{ paddingTop: 0, paddingRight: 0, paddingLeft: 0 }}> \n                                        <SpaceBetween>\n                                            <CollaborationChartSetting \n                                                containerWidth = {widthContentWidth}\n                                                containerHeight = {widthContentWidth * 0.65}\n                                                topLeft = {fourFieldsTopLeftValue}\n                                                topRight = {fourFieldsTopRightValue}\n                                                bottomLeft = {fourFieldsBottomLeftValue}\n                                                bottomRight = {fourFieldsBottomRightValue}\n                                                horizontalAxisName = {xName}\n                                                leftEnd = {leftEnd}\n                                                rightEnd = {rightEnd}\n                                                verticalAxisName = {yName}\n                                                topEnd = {topEnd}\n                                                lowEnd = {lowEnd}\n                                                passisCustomToRatingModalPreviewModeVertical={receivedCheckDataFromCollaborationChartSettingVertical}\n                                                passisCustomToRatingModalPreviewModeHoronzal={receivedCheckDataFromCollaborationChartSettingHoronzal}\n                                                inputSelectedX={isCustomHorozol? getLanguage() === 'en' ?'Custom':'Muokattui' : axisXSelectValue}\n                                                inputSelectedY={isCustomVertical? getLanguage() === 'en' ?'Custom':'Muokattui' : axisYSelectValue}\n                                                isCustomHorozol={isCustomHorozol}\n                                                isCustomVertical={isCustomVertical}\n                                                // passDataFromPreviewEditModeToPreivewMore={passDataFromPreviewEditModeToPreivewMore}\n                                                />\n                                        </SpaceBetween>\n                                        <RatingGroupBtn style={{marginTop: '150px'}}>\n                                            <RatingHandleBtnGroup>\n                                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={openClearAllFieldsModal} >{requestTranslation('clearAllFieldsBtn')}</HandleRatingsBtn>\n                                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={handleFlipHorizontalAndVerticalChangeInRatingEditChartMode}>{requestTranslation('FlipHorizontalVertical')}</HandleRatingsBtn>\n                                                <HandleRatingsBtnActive className=\"btn btn-outline-secondary\">{requestTranslation('editManuallyBtn')}</HandleRatingsBtnActive>   \n                                            </RatingHandleBtnGroup>\n                                        <HandleDoneBtn className=\"btn btn-primary \" onClick={() => handleDoneBtn(isCustomVertical, isCustomHorozol)}>{requestTranslation('DoneBtn')}</HandleDoneBtn>\n                                            \n                                        </RatingGroupBtn>\n                                        <ConfirmationModalForRatings \n                                            ConfirmationModalNote= 'Are you sure to clear all fields?'\n                                            confirmationModal= {openClearAllFields}\n                                            confirmationModalClose = {closeClearAllFieldsModal}\n                                            confirmationModalHandleBtn = {handleOpenClearAllFieldsModal}\n                                        />\n                                    </FullWidthBgContainer>\n                                )}\n                                </div>\n                            {/* </div> */}\n                            </Modal>\n                        )\n                    )\n    }\nexport default withStyles(useStyles)(RatingModalPreviewEditMode)\n\n\nconst FullWidthBgContainer = styled.div`\n    width: 100%;\n    background-color: #f1f3f3;\n    box-sizing: border-box;\n    padding: 30px 50px;\n    &:after {\n      content: \"\";\n      display: table;\n      clear: both;\n    }\n`\n\nconst breakpoint = '767px'\nconst HalfWidth = styled.div`\n    @media (min-width: ${breakpoint}) {\n        width: 45%;\n        display: flex;\n        flex-direction: column;\n    }\n`\n\nconst SpaceBetween = styled.div`\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        flex-direction: row;\n    }\n`\n\nconst columnPadding = 10\nconst Columns = styled.div`\n    width: ${({ width }) => width ? width : 'auto'};\n    display: flex;\n    margin: 0 -${columnPadding}px 10px -${columnPadding}px;\n`\n\nconst Column = styled.div`\n    flex: 1 1 ${({ width }) => width ? width : '0%'};\n    padding: 0 ${columnPadding}px;\n`\nconst InformationIcon = styled(InfoCircle)`\n    background-color: '#f1f3f3'\n    color: black;\n    width: 18px;\n    height: 18px;\n    margin-top: 4px;\n    margin-left: 18px;\n    &:hover {\n        cursor: pointer;\n    }\n`\n\nconst HoverBox = styled.p`\n    display: flex;\n    flex-wrap: wrap;\n    width: fit-content;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    margin: auto; \n`\nconst HandleRatingsBtn = styled.button`\n    &:hover {\n        background: #006998 !important;\n        color: white !important;\n    }\n    margin-bottom: 10px;\n`\n\nconst HandleDoneBtn = styled.button`\n    margin-bottom: 10px;\n`\n\nconst HandleRatingsBtnActive = styled.button`\n    background: #006998 !important;\n    color: white !important;\n    margin-bottom:import InformationModal from '../InformationModal/InformationModal';\n 10px;\n`\nconst RatingGroupBtn = styled.div`\ndisplay: flex;\nflex-direction: column;\n\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n        justify-content: space-between;\n        // align-items: flex-start;\n        flex-direction: row;\n    }\n`\nconst CustomHalfWidth = styled.div`\n@media (min-width: ${breakpoint}) {\n    width: 80%;\n    display: flex;\n    flex-direction: column;\n}\n`\n\nconst RatingHandleBtnGroup = styled.div`\ndisplay: flex;\nflex-direction: column;\n\n    @media (min-width: ${breakpoint}) {\n        width: 83%;\n        display: flex;\n        justify-content: space-between;\n        flex-direction: row;\n    }   \n\n`","import React, { PureComponent } from 'react'\nimport styled from 'styled-components'\nimport _ from 'lodash'\nimport Select from 'react-select'\nimport Toggle from 'react-toggle'\nimport {\n    Loading,\n    Radiobox,\n    Checkbox\n} from '@sangre-fp/ui'\nimport { requestTranslation,getLanguage } from '@sangre-fp/i18n'\nimport { radarLanguages, initialCommentTopics, customQuillModules } from '../config'\nimport { PUBLIC_URL } from '../env'\nimport ReactQuill from 'react-quill'\nimport filter from 'lodash/filter'\nimport find from 'lodash/find'\nimport first from 'lodash/first'\nimport times from 'lodash/times'\nimport { formats } from '../quill'\nimport classNames from 'classnames'\nimport {InfoCircle} from '@styled-icons/boxicons-regular'\nimport Popover from '@material-ui/core/Popover';\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from './CreateRadarForm.module.css'\nimport RatingSummaryPreview from './RatingSummaryPreview';\nimport AxisPreview from './AxisPreview';\nimport debounce from 'lodash/debounce'\nimport ConfirmationModalForRatings from './ConfirmationModalForRatings/ConfirmationModalForRatings'\nimport {HeaderContainer, Spacing} from './RatingSummaryPreview';\nimport RatingModalPreviewEditMode from './RatingModalPreviewEditMode/RatingModalPreviewEditMode'\nimport InformationModal from './InformationModal/InformationModal'\nimport CollaborationChartSetting from './CollaborationChartSetting/index';\n\nconst URL = window.URL || window.webkitURL\n\nexport const PAGE_HEADER_AND_LANGUAGE = 1\nexport const PAGE_BASIC_SETTINGS = 2\nexport const PAGE_USER_OPTIONS = 3\nexport const PAGE_CONCLUSIONS = 4\n\n// TODO enable when implemented\nconst COMMENT_TOPICS_ENABLED = false\nconst RATING_ARROWS_ENABLED = false\n\n//mock data\n// export const mockDataOption = [\n//     {value: 'Time', label: 'Time'},\n//     {value: 'Probability', label: 'Probability'},\n//     {value: 'Fit with current strategy', label: 'Fit with current strategy'},\n//     {value: 'Direction of the trend', label: 'Direction of the trend'},\n//     {value: 'Importance', label: 'Importance'},\n//     {value: 'Impact1', label: 'Impact'},\n//     {value: 'Impact2', label: 'Impact'},\n//     {value: 'Nature1', label: 'Nature'},\n//     {value: 'Nature2', label: 'Nature'},\n//     {value: 'Speed of change', label: 'Speed of change'},\n//     {value: 'Size of threat/risk', label: 'Size of threat/risk'},\n//     {value: 'Size of opportunity', label: 'Size of opportunity'},\n//     {value: 'Nature3', label: 'Nature'},\n//     {value: 'Fit with existing capabilities', label: 'Fit with existing capabilities'},\n//     {value: 'Magnitude of actions required', label: 'Magnitude of actions required'},\n//     {value: 'Custom', label: 'Custom'}\n// ]\nexport const mockData= [\n    {\n        title: getLanguage() === 'en' ? 'Time: Near term/Long term' : 'Aikajakso: Lyhyt tähtäin/Pitkä tähtäin',\n        label: getLanguage() === 'en' ? 'Time: Near term/Long term' : 'Aikajakso: Lyhyt tähtäin/Pitkä tähtäin',\n        nameAxis: getLanguage() === 'en' ? 'Time' : 'Aikajakso',\n        leftAttr: getLanguage() === 'en' ? 'Near term' : 'Lyhyt tähtäin',\n        rightAttr: getLanguage() === 'en' ? 'Long term' : 'Pitkä tähtäin',\n    },\n    {\n        title: getLanguage() === 'en' ? 'Probability: Low/High' : 'Todennäköisyys: Matala/Korkea',\n        label: getLanguage() === 'en' ? 'Probability: Low/High' : 'Todennäköisyys: Matala/Korkea',\n        nameAxis: getLanguage() === 'en' ? 'Probability': 'Todennäköisyys',\n        leftAttr: getLanguage() === 'en' ? 'Low': 'Matala',\n        rightAttr: getLanguage() === 'en' ? 'High': 'Korkea'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Fit with current strategy: Near term/Long term' : 'Sopii nykyiseen strategiaan: Lyhyt tähtäin/Pitkä tähtäin',\n        label: getLanguage() === 'en' ? 'Fit with current strategy: Near term/Long term' : 'Sopii nykyiseen strategiaan: Lyhyt tähtäin/Pitkä tähtäin',\n        nameAxis: getLanguage() === 'en' ?'Fit with current strategy':'Sopii nykyiseen strategiaan',\n        leftAttr: getLanguage() === 'en' ?'Near term':'Lyhyt tähtäin',\n        rightAttr: getLanguage() === 'en' ?'Long term':'Pitkä tähtäin'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Fit with new strategy: Weak/Strong' : 'Sopii nykyiseen strategiaan: Huonosti/Hyvin',\n        label: getLanguage() === 'en' ? 'Fit with new strategy: Weak/Strong' : 'Sopii nykyiseen strategiaan: Huonosti/Hyvin',\n        nameAxis: getLanguage() === 'en'? 'Fit with new strategy':'Sopii nykyiseen strategiaan',\n        leftAttr: getLanguage() === 'en'? 'Weak':'Huonosti',\n        rightAttr: getLanguage() === 'en'? 'Strong':'Hyvin'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Direction of the trend: Weakening/Increasing' : 'Trendin kehityssuunta: Heikkenevä/Vahvistuva',\n        label: getLanguage() === 'en' ? 'Direction of the trend: Weakening/Increasing' : 'Trendin kehityssuunta: Heikkenevä/Vahvistuva',\n        nameAxis: getLanguage() === 'en' ?'Direction of the trend': 'Trendin kehityssuunta',\n        leftAttr: getLanguage() === 'en' ?'Weakening': 'Heikkenevä',\n        rightAttr: getLanguage() === 'en' ?'Increasing':'Vahvistuva'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Importance: Low/High' : 'Tärkeys: Matala/Korkea',\n        label: getLanguage() === 'en' ? 'Importance: Low/High' : 'Tärkeys: Matala/Korkea',\n        nameAxis: getLanguage() === 'en' ?'Importance': 'Tärkeys',\n        leftAttr: getLanguage() === 'en' ?'Low' : 'Matala',\n        rightAttr: getLanguage() === 'en' ?'High': 'Korkea'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Impact1: Moderate/Huge' : 'Vaikutus1: Maltillinen/Valtava',\n        label: getLanguage() === 'en' ? 'Impact: Moderate/Huge' : 'Vaikutus: Maltillinen/Valtava',\n        nameAxis: getLanguage() === 'en' ? 'Impact':'Vaikutus',\n        leftAttr: getLanguage() === 'en' ? 'Moderate':'Maltillinen',\n        rightAttr: getLanguage() === 'en' ? 'Huge':'Valtava'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Impact2: Local/Global' : 'Vaikutus2: Paikallinen/Globaali',\n        label: getLanguage() === 'en' ? 'Impact: Local/Global' : 'Vaikutus: Paikallinen/Globaali',\n        nameAxis: getLanguage() === 'en' ? 'Impact': 'Vaikutus',\n        leftAttr: getLanguage() === 'en' ? 'Local': 'Paikallinen',\n        rightAttr: getLanguage() === 'en' ? 'Global':'Globaali'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Nature1: Threat/Opportunity' : 'Luonne1: Uhka/Mahdollisuus',\n        label: getLanguage() === 'en' ? 'Nature: Threat/Opportunity' : 'Luonne: Uhka/Mahdollisuus',\n        nameAxis: getLanguage() === 'en' ?'Nature': 'Luonne',\n        leftAttr: getLanguage() === 'en' ?'Threat': 'Uhka',\n        rightAttr: getLanguage() === 'en' ?'Opportunity': 'Mahdollisuus'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Nature2: long term Trend/Emergent' : 'Luonne2: Pitkä tähtäin/Kehittyvä',\n        label: getLanguage() === 'en' ? 'Nature: long term Trend/Emergent' : 'Luonne: Pitkä tähtäin/Kehittyvä',\n        nameAxis: getLanguage() === 'en' ?'Nature':'Luonne',\n        leftAttr: getLanguage() === 'en' ?'Long term trend':'Pitkä tähtäin',\n        rightAttr: getLanguage() === 'en' ?'Emergent':'Kehittyvä'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Speed of change: Gradual/Tsunami' : 'Muutoksen nopeus: Asteittainen/Yhdellä kertaa',\n        label: getLanguage() === 'en' ? 'Speed of change: Gradual/Tsunami' : 'Muutoksen nopeus: Asteittainen/Yhdellä kertaa',\n        nameAxis: getLanguage() === 'en' ?'Speed of change':'Muutoksen nopeus',\n        leftAttr:getLanguage() === 'en' ? 'Gradual':'Asteittainen',\n        rightAttr: getLanguage() === 'en' ?'Tsunami':'Yhdellä kertaa'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Size of threat/risk: Moderate/Huge' : 'Uhka: Maltillinen/Suuri',\n        label: getLanguage() === 'en' ? 'Size of threat/risk: Moderate/Huge' : 'Uhka: Maltillinen/Suuri',\n        nameAxis: getLanguage() === 'en' ?'Size of threat/risk':'Uhka',\n        leftAttr: getLanguage() === 'en' ?'Moderate':'Maltillinen',\n        rightAttr:getLanguage() === 'en' ? 'Huge':'Suuri'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Size of opportunity: Moderate/Huge':'Mahdollisuus: Maltillinen/Suuri',\n        label:getLanguage() === 'en' ? 'Size of opportunity: Moderate/Huge':'Mahdollisuus: Maltillinen/Suuri',\n        nameAxis:getLanguage() === 'en' ? 'Size of opportunity': 'Mahdollisuus',\n        leftAttr:getLanguage() === 'en' ? 'Moderate':'Maltillinen',\n        rightAttr:getLanguage() === 'en' ? 'Huge':'Suuri'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Nature3: Non-disrupting/Disrupting':'Luonne3: Häiriötön/Häiriöitä aiheuttava',\n        label: getLanguage() === 'en' ? 'Nature: Non-disrupting/Disrupting':'Luonne: Häiriötön/Häiriöitä aiheuttava',\n        nameAxis: getLanguage() === 'en' ?'Nature':'Luonne3',\n        leftAttr: getLanguage() === 'en' ?'Non-disrupting':'Häiriötön',\n        rightAttr:getLanguage() === 'en' ? 'Disrupting':'Häiriöitä aiheuttava'\n    },\n    {\n        title: getLanguage() === 'en' ? 'Fit with existing capabilities: Weak/Strong':'Sopii nykyisiin kyvykkyyksiin: Huonosti/Hyvin',\n        label: getLanguage() === 'en' ? 'Fit with existing capabilities: Weak/Strong':'Sopii nykyisiin kyvykkyyksiin: Huonosti/Hyvin',\n        nameAxis: getLanguage() === 'en' ?'Fit with existing capabilities':'Sopii nykyisiin kyvykkyyksiin',\n        leftAttr: getLanguage() === 'en' ?'Weak':'Huonosti',\n        rightAttr: getLanguage() === 'en' ?'Strong':'Hyvin'\n    },\n    {\n        //Vaadittu toimenpiteiden taso: Vähäinen/Suuri\n        title: getLanguage() === 'en' ?'Magnitude of actions required: Minor/Huge':'Vaadittu toimenpiteiden taso: Vähäinen/Suuri',\n        label: getLanguage() === 'en' ?'Magnitude of actions required: Minor/Huge':'Vaadittu toimenpiteiden taso: Vähäinen/Suuri',\n        nameAxis: getLanguage() === 'en' ?'Magnitude of actions required':'Vaadittu toimenpiteiden taso',\n        leftAttr: getLanguage() === 'en' ?'Minor':'Vähäinen',\n        rightAttr: getLanguage() === 'en' ?'Huge':'Suuri'\n    },\n    {\n        title: getLanguage() === 'en' ?'Custom':'Muokattui',\n        label: getLanguage() === 'en' ?'Custom':'Muokattui',\n        nameAxis: getLanguage() === 'en' ?'Custom':'Muokattui',\n        leftAttr: 'X',\n        rightAttr: 'Y'\n    },\n]\n\nexport const mockDataEn= [\n    {\n        title: 'Time: Near term/Long term',\n        label: 'Time: Near term/Long term' ,\n        nameAxis: 'Time',\n        leftAttr: 'Near term',\n        rightAttr: 'Long term',\n    },\n    {\n        title: 'Probability: Low/High',\n        label: 'Probability: Low/High',\n        nameAxis: 'Probability',\n        leftAttr: 'Low',\n        rightAttr: 'High'\n    },\n    {\n        title: 'Fit with current strategy: Near term/Long term',\n        label:  'Fit with current strategy: Near term/Long term' ,\n        nameAxis: 'Fit with current strategy',\n        leftAttr: 'Near term',\n        rightAttr: 'Long term'\n    },\n    {\n        title:  'Fit with new strategy: Weak/Strong',\n        label:  'Fit with new strategy: Weak/Strong',\n        nameAxis:  'Fit with new strategy',\n        leftAttr:  'Weak',\n        rightAttr:  'Strong'\n    },\n    {\n        title:  'Direction of the trend: Weakening/Increasing',\n        label:  'Direction of the trend: Weakening/Increasing',\n        nameAxis: 'Direction of the trend',\n        leftAttr: 'Weakening',\n        rightAttr: 'Increasing'\n    },\n    {\n        title:  'Importance: Low/High',\n        label:  'Importance: Low/High',\n        nameAxis: 'Importance',\n        leftAttr: 'Low',\n        rightAttr: 'High'\n    },\n    {\n        title:  'Impact1: Moderate/Huge' ,\n        label:  'Impact: Moderate/Huge',\n        nameAxis:  'Impact',\n        leftAttr:  'Moderate',\n        rightAttr:  'Huge'\n    },\n    {\n        title:  'Impact2: Local/Global',\n        label:  'Impact: Local/Global',\n        nameAxis:  'Impact',\n        leftAttr:  'Local',\n        rightAttr:  'Global'\n    },\n    {\n        title:  'Nature1: Threat/Opportunity',\n        label:  'Nature: Threat/Opportunity' ,\n        nameAxis: 'Nature',\n        leftAttr: 'Threat',\n        rightAttr: 'Opportunity'\n    },\n    {\n        title:  'Nature2: long term Trend/Emergent' ,\n        label:  'Nature: long term Trend/Emergent',\n        nameAxis: 'Nature',\n        leftAttr: 'Long term trend',\n        rightAttr: 'Emergent'\n    },\n    {\n        title:  'Speed of change: Gradual/Tsunami',\n        label:  'Speed of change: Gradual/Tsunami',\n        nameAxis: 'Speed of change',\n        leftAttr: 'Gradual',\n        rightAttr: 'Tsunami'\n    },\n    {\n        title:  'Size of threat/risk: Moderate/Huge',\n        label:  'Size of threat/risk: Moderate/Huge',\n        nameAxis: 'Size of threat/risk',\n        leftAttr: 'Moderate',\n        rightAttr: 'Huge'\n    },\n    {\n        title:  'Size of opportunity: Moderate/Huge',\n        label: 'Size of opportunity: Moderate/Huge',\n        nameAxis: 'Size of opportunity',\n        leftAttr: 'Moderate',\n        rightAttr: 'Huge'\n    },\n    {\n        title:  'Nature3: Non-disrupting/Disrupting',\n        label:  'Nature: Non-disrupting/Disrupting',\n        nameAxis: 'Nature',\n        leftAttr: 'Non-disrupting',\n        rightAttr: 'Disrupting'\n    },\n    {\n        title:  'Fit with existing capabilities: Weak/Strong',\n        label:  'Fit with existing capabilities: Weak/Strong',\n        nameAxis: 'Fit with existing capabilities',\n        leftAttr: 'Weak',\n        rightAttr: 'Strong'\n    },\n    {\n        //Vaadittu toimenpiteiden taso: Vähäinen/Suuri\n        title: 'Magnitude of actions required: Minor/Huge',\n        label: 'Magnitude of actions required: Minor/Huge',\n        nameAxis: 'Magnitude of actions required',\n        leftAttr: 'Minor',\n        rightAttr: 'Huge'\n    },\n    {\n        title: 'Custom',\n        label: 'Custom',\n        nameAxis: 'Custom',\n        leftAttr: 'X',\n        rightAttr: 'Y'\n    },\n]\n\nexport const mockDataFin= [\n    {\n        title: 'Aikajakso: Lyhyt tähtäin/Pitkä tähtäin',\n        label: 'Aikajakso: Lyhyt tähtäin/Pitkä tähtäin',\n        nameAxis: 'Aikajakso',\n        leftAttr:'Lyhyt tähtäin',\n        rightAttr: 'Pitkä tähtäin',\n    },\n    {\n        title:   'Todennäköisyys: Matala/Korkea',\n        label:   'Todennäköisyys: Matala/Korkea',\n        nameAxis: 'Todennäköisyys',\n        leftAttr:   'Matala',\n        rightAttr:  'Korkea'\n    },\n    {\n        title:  'Sopii nykyiseen strategiaan: Lyhyt tähtäin/Pitkä tähtäin',\n        label:  'Sopii nykyiseen strategiaan: Lyhyt tähtäin/Pitkä tähtäin',\n        nameAxis: 'Sopii nykyiseen strategiaan',\n        leftAttr: 'Lyhyt tähtäin',\n        rightAttr: 'Pitkä tähtäin'\n    },\n    {\n        title:  'Sopii nykyiseen strategiaan: Huonosti/Hyvin',\n        label:  'Sopii nykyiseen strategiaan: Huonosti/Hyvin',\n        nameAxis:  'Sopii nykyiseen strategiaan',\n        leftAttr:  'Huonosti',\n        rightAttr:  'Hyvin'\n    },\n    {\n        title:  'Trendin kehityssuunta: Heikkenevä/Vahvistuva',\n        label:  'Trendin kehityssuunta: Heikkenevä/Vahvistuva',\n        nameAxis: 'Trendin kehityssuunta',\n        leftAttr:'Heikkenevä',\n        rightAttr: 'Vahvistuva'\n    },\n    {\n        title:  'Tärkeys: Matala/Korkea',\n        label:  'Tärkeys: Matala/Korkea',\n        nameAxis: 'Tärkeys',\n        leftAttr: 'Matala',\n        rightAttr:  'Korkea'\n    },\n    {\n        title:   'Vaikutus1: Maltillinen/Valtava',\n        label:  'Vaikutus: Maltillinen/Valtava',\n        nameAxis:  'Vaikutus',\n        leftAttr:  'Maltillinen',\n        rightAttr:  'Valtava'\n    },\n    {\n        title:   'Vaikutus2: Paikallinen/Globaali',\n        label:   'Vaikutus: Paikallinen/Globaali',\n        nameAxis:   'Vaikutus',\n        leftAttr:  'Paikallinen',\n        rightAttr:  'Globaali'\n    },\n    {\n        title:   'Luonne1: Uhka/Mahdollisuus',\n        label:  'Luonne: Uhka/Mahdollisuus',\n        nameAxis:'Luonne',\n        leftAttr:  'Uhka',\n        rightAttr: 'Mahdollisuus'\n    },\n    {\n        title:  'Luonne2: Pitkä tähtäin/Kehittyvä',\n        label:  'Luonne: Pitkä tähtäin/Kehittyvä',\n        nameAxis: 'Luonne',\n        leftAttr: 'Pitkä tähtäin',\n        rightAttr: 'Kehittyvä'\n    },\n    {\n        title:  'Muutoksen nopeus: Asteittainen/Yhdellä kertaa',\n        label:  'Muutoksen nopeus: Asteittainen/Yhdellä kertaa',\n        nameAxis: 'Muutoksen nopeus',\n        leftAttr:'Asteittainen',\n        rightAttr: 'Yhdellä kertaa'\n    },\n    {\n        title: 'Uhka: Maltillinen/Suuri',\n        label: 'Uhka: Maltillinen/Suuri',\n        nameAxis: 'Uhka',\n        leftAttr: 'Maltillinen',\n        rightAttr:'Suuri'\n    },\n    {\n        title: 'Mahdollisuus: Maltillinen/Suuri',\n        label:'Mahdollisuus: Maltillinen/Suuri',\n        nameAxis: 'Mahdollisuus',\n        leftAttr:'Maltillinen',\n        rightAttr:'Suuri'\n    },\n    {\n        title:  'Luonne3: Häiriötön/Häiriöitä aiheuttava',\n        label:  'Luonne: Häiriötön/Häiriöitä aiheuttava',\n        nameAxis: 'Luonne3',\n        leftAttr: 'Häiriötön',\n        rightAttr: 'Häiriöitä aiheuttava'\n    },\n    {\n        title: 'Sopii nykyisiin kyvykkyyksiin: Huonosti/Hyvin',\n        label: 'Sopii nykyisiin kyvykkyyksiin: Huonosti/Hyvin',\n        nameAxis: 'Sopii nykyisiin kyvykkyyksiin',\n        leftAttr: 'Huonosti',\n        rightAttr: 'Hyvin'\n    },\n    {\n        //Vaadittu toimenpiteiden taso: Vähäinen/Suuri\n        title:'Vaadittu toimenpiteiden taso: Vähäinen/Suuri',\n        label:'Vaadittu toimenpiteiden taso: Vähäinen/Suuri',\n        nameAxis: 'Vaadittu toimenpiteiden taso',\n        leftAttr: 'Vähäinen',\n        rightAttr: 'Suuri'\n    },\n    {\n        title: 'Muokattui',\n        label: 'Muokattui',\n        nameAxis: 'Muokattui',\n        leftAttr: 'X',\n        rightAttr: 'Y'\n    },\n]\n\nconst useStyles = theme => ({\n    popover: {\n      pointerEvents: 'none',\n      width: '40%'\n    },\n    paper: {\n      padding: theme.spacing(1),\n      backgroundColor: '#424242',\n      color: '#fff',\n      width: 'fit-content'\n    },\n  });\nclass CreateRadarForm extends PureComponent {\n    state = {\n        VotingAnchorEl: null,\n        RatingAnchorEl: null,\n        CommentingAnchorEl: null,\n        DiscussionAnchorEl: null,\n        VotingDescriptionDisplayed: false,\n        RatingDescriptionDisplayed: false,\n        CommentingDescriptionDisplayed: false,\n        DiscussionDescriptionDisplayed: false,\n        axisYSelect: '',\n        axisXSelect: '',\n        isCustomVertical: false,\n        isCustomHorozol: false,\n        widthContentWidth: 0,\n        openClearAllFields: false,\n        openRatingModalEditMode: false,\n        openVotingInformationModal: false,\n        openRatingInformationModal: false,\n        openCommentingInformationModal: false,\n        openDiscussionInformationModal: false,\n        votingHaloOn: false\n    }\n    // state is getting set because we are implementing a cancel + save button\n    constructor(props) {\n        super(props)\n        let group = false\n\n        this.editorMode = React.createRef()\n\n        if (props.group) {\n            group = props.group\n        } else if (props.groups.length > 0) {\n            const searchParams = (new URL(document.location)).searchParams\n            const groupId = Number(searchParams.get('gid'))\n\n            if (groupId && find(props.groups, ({ value }) => Number(value) === Number(groupId))) {\n                group = groupId\n            } else {\n                group = first(props.groups).value\n            }\n        }\n\n        const {\n            radarName, mapIntro, radarLanguage, radarSets, hideUsersFromTrial, radarImage, votingOn,\n            ratingsOn, discussionOn, commentsOn, likingOn, votingUp, axisXTitle, axisXMin,\n            axisXMax, axisYTitle, axisYMin, axisYMax, fourFieldsTopLeft, fourFieldsTopRight,\n            fourFieldsBottomLeft, fourFieldsBottomRight, displayHaloWhenRating, titleLogo\n        } = props\n\n\n        this.state = {\n            errors: [],\n            phenomenaSet: radarSets.length ? radarSets[0].value : false,\n            commentTopics: initialCommentTopics,\n            radarTitleImage: titleLogo,\n            group,\n            radarName,\n            mapIntro,\n            radarLanguage,\n            hideUsersFromTrial,\n            radarImage,\n            votingOn,\n            ratingsOn,\n            discussionOn,\n            commentsOn,\n            likingOn,\n            votingUp,\n            axisXTitle,\n            axisXMin,\n            axisXMax,\n            axisYTitle,\n            axisYMin,\n            axisYMax,\n            fourFieldsTopLeft,\n            fourFieldsTopRight,\n            fourFieldsBottomLeft,\n            fourFieldsBottomRight,\n            displayHaloWhenRating\n        }\n    }\n\n    componentDidMount() {\n        const { getRadarSets, getUserGroups, existingRadarPage, axisYTitle, axisXTitle, axisYMin, axisYMax, axisXMin, axisXMax } = this.props\n\n        this.setState({\n            widthContentWidth: +this.editorMode?.current?.offsetWidth -50 -50\n        })\n        if (window) {\n            window.addEventListener(\"resize\", debounce(this.handleResize, 150));\n        }\n        \n        if (!existingRadarPage) {\n            getUserGroups()\n            getRadarSets()\n        }\n\n        localStorage.removeItem('chartData')\n\n        if (this.state.displayHaloWhenRating <= 20) {\n            this.setState({\n                votingHaloOn: true\n            })\n        } else {\n            this.setState({\n                votingHaloOn: false\n            })\n        }\n        mockData.some(i => {\n            if (String(axisYTitle) === requestTranslation('verticalAxisName')\n                    && String(axisYMin) === requestTranslation('lowEnd')\n                    && String(axisYMax) === requestTranslation('highEnd')) {\n                this.setState({ \n                    axisYSelect: '',\n                })\n                return true\n            }\n            else if((String(axisYTitle) === String(i.nameAxis) || String(axisYTitle) === String(i.title))\n                    && String(axisYMin) === String(i.leftAttr)\n                    && String(axisYMax) === String(i.rightAttr)) {\n                    this.setState({ \n                        axisYSelect: i?.title,\n                        axisYTitle: i?.nameAxis\n                    })\n                    return true\n                } \n            else {\n                this.setState({ \n                    axisYSelect: getLanguage() === 'en' ?'Custom':'Muokattui',\n                })\n            }\n        })\n\n        mockData.some(i => {\n            if (String(axisXTitle) === requestTranslation('HorizontalAxisName')\n                        && String(axisXMin) === requestTranslation('leftEnd')\n                        && String(axisXMax) ===requestTranslation('rightEnd')) {\n                    this.setState({ \n                        axisXSelect: '',\n                    })\n                    return true\n            }\n            else if((String(axisXTitle) === String(i.nameAxis) || String(axisXTitle) === String(i.title))\n                    && String(axisXMin) === String(i.leftAttr)\n                    && String(axisXMax) === String(i.rightAttr)) {\n                    this.setState({ \n                        axisXSelect: i?.title,\n                        axisXTitle: i?.nameAxis\n                        \n                    })\n                    return true\n                } \n            else {\n                this.setState({ \n                    axisXSelect: getLanguage() === 'en' ?'Custom':'Muokattui',\n                })\n            }\n        })\n\n    }\n\n    handleResize = () => {\n        this.setState({\n            widthContentWidth: +this.editorMode?.current?.offsetWidth -100\n        })\n    }\n\n    componentWillUnmount() {\n        if (window) {\n            window.removeEventListener(\"resize\", this.handleResize);\n            localStorage.removeItem('chartData')\n        }\n    }\n\n    shouldSetDefaultRadarSet(nextProps) {\n        const { phenomenaSet } = this.state\n        const { radarSets } = this.props\n\n        // receiving radarSets, set not selected yet\n        if (nextProps.radarSets.length && !phenomenaSet) {\n            return true\n        }\n\n        // already received radarSets, but they've changed (probably due to language change)\n        if (radarSets.length && nextProps.radarSets !== radarSets) {\n            // check if current selection is in new set\n            return !find(\n                nextProps.radarSets,\n                radarSet => radarSet.value === phenomenaSet\n            )\n        }\n\n        return false\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.shouldSetDefaultRadarSet(nextProps)) {\n            if (nextProps.radarSets.length) {\n                const radarSet = first(nextProps.radarSets)\n                const imageUrl = radarSet.logo_image || false\n                this.setState({ phenomenaSet: radarSet.value, imageUrl })\n            } else {\n                this.setState({ phenomenaSet: true })\n            }\n        }\n\n        if (nextProps.groups.length && !this.state.group) {\n            const searchParams = (new URL(document.location)).searchParams\n            const groupId = Number(searchParams.get('gid'))\n\n            if (groupId && find(nextProps.groups, ({ value }) => Number(value) === Number(groupId))) {\n                this.setState({ group: groupId })\n            } else {\n                this.setState({ group: first(nextProps.groups).value })\n            }\n        }\n    }\n\n    setFieldError = (field, hasError) => {\n        const { errors } = this.state\n\n        if (hasError) {\n            if (errors.indexOf(field) < 0) {\n                this.setState({ errors: [...errors, field] })\n            }\n        } else {\n            this.setState({ errors: filter(errors, error => error !== field) })\n        }\n\n        return !hasError\n    }\n\n    validateRadarName = () => this.setFieldError('radarName', this.hasRadarNameError())\n\n    validateGroup = () => this.setFieldError('group', this.hasGroupError())\n\n    hasGroupError = () => {\n        const { groups } = this.props\n        const { group: groupValue } = this.state\n\n        const group = find(groups, ({ value }) => value === groupValue)\n\n        return group && !group.hasAvailableRadars\n    }\n\n    hasRadarNameError = () => !this.state.radarName\n\n    validate() {\n        const { addRadarFormPage } = this.props\n\n        const errors = []\n\n        if (addRadarFormPage === PAGE_HEADER_AND_LANGUAGE) {\n            if (this.hasGroupError()) {\n                errors.push('group')\n            }\n            if (this.hasRadarNameError()) {\n                errors.push('radarName')\n            }\n        }\n\n        this.setState({ errors })\n        return errors.length === 0\n    }\n\n    handleRadarNameChange = e => this.setState({\n        radarName: e.target.value\n    }, () => this.validateRadarName())\n    handleMapIntroChange = value => this.setState({ mapIntro: value })\n    handleValueChange = value => e => this.setState({ [value]: e.target.value })\n    handleRadarLanguageChange = ({ value }) => {\n        const { changeRadarLanguage } = this.props\n        changeRadarLanguage(value)\n        this.setState({ radarLanguage: value })\n    }\n    handlePhenomenaSetChange = ({ value }) => {\n        let { imageUrl } = this.state\n        const { radarSets } = this.props\n        const radarSet = find(radarSets, set => set.id === value)\n        if (radarSet && radarSet.logo_image !== '') {\n            imageUrl = radarSet.logo_image\n        } else {\n            imageUrl = false\n        }\n        this.setState({ phenomenaSet: value, imageUrl })\n    }\n    handleDisplayHaloWhenRatingChange = ({ value }) => this.setState({ displayHaloWhenRating: value })\n    handleGroupChange = ({ value }) => this.setState({ group: value }, () => this.validateGroup())\n    handleDiscussionOnChange = () => this.setState({ discussionOn: !this.state.discussionOn })\n    handleVotingOnChange = () => this.setState({ votingOn: !this.state.votingOn })\n    handleVotingHaloOnChange = () => {\n\n        return this.setState({ \n            votingHaloOn: !this.state.votingHaloOn\n        }, () => {\n            if (!this.state.votingHaloOn) {\n                this.setState({ \n                    displayHaloWhenRating: 999\n                })\n            }\n        })\n    }\n    handleRatingsOnChange = () => this.setState({ ratingsOn: !this.state.ratingsOn })\n    handleLikingOnChange = () => this.setState({ likingOn: !this.state.likingOn })\n    handleCommentsOnChange = () => this.setState({ commentsOn: !this.state.commentsOn })\n    handleVotingSelection = () => this.setState({ votingUp: !this.state.votingUp })\n    handleHideUsersFromTrialClick = () =>\n        this.setState({ hideUsersFromTrial: !this.state.hideUsersFromTrial })\n\n    handleTopicChange = (topicLabel, checked) => {\n        const { commentTopics } = this.state\n        const updatedTopics = commentTopics.map(topic => topic.label === topicLabel\n            ? { ...topic, checked }\n            : topic\n        )\n\n        this.setState({ commentTopics: updatedTopics })\n    }\n\n    handleImageSelect = (e, file) => {\n        const fileName = file || e.target.files[0]\n        const reader = new FileReader()\n\n        reader.onload = () => {\n            let img = new Image()\n            img.src = URL.createObjectURL(fileName)\n\n            img.onload = () => {\n                this.setState({\n                    radarImage: reader.result,\n                    imageFile: fileName,\n                    imageUrl: false\n                })\n            }\n        }\n        reader.readAsDataURL(fileName)\n    }\n\n    handleTitleImageSelect = (e, file) => {\n        const fileName = file || e.target.files[0]\n        const reader = new FileReader()\n\n        reader.onload = () => {\n            let img = new Image()\n            img.src = URL.createObjectURL(fileName)\n\n            img.onload = () => {\n                this.setState({\n                    radarTitleImage: reader.result,\n                    imageTitleFile: fileName\n                })\n            }\n        }\n        reader.readAsDataURL(fileName)\n    }\n\n    handleTitleImageDelete = () => {\n        this.setState({\n            radarTitleImage: false,\n            imageTitleFile: false\n        })\n    }\n\n    handleImageDelete = () => {\n        this.setState({\n            radarImage: false,\n            imageFile: false,\n            imageUrl: false\n        })\n    }\n\n    handleNextClick = () => {\n        const {\n            addRadarFormPage,\n            changeRadarLanguage,\n            changeRadarName,\n            changeMapIntro,\n            changeAddRadarFormPage,\n            changeHideUsersFromTrial,\n            changeRadarImage,\n            changeDiscussionOn,\n            changeVotingOn,\n            changeVotingUp,\n            changeRatingsOn,\n            changeRatingsSettings,\n            changeCommentsOn,\n            changeLikingOn,\n            createRadar,\n            changePhenomenaSet,\n            changeRadarGroup,\n            id,\n            updateRadar,\n            changeDisplayHaloWhenRating,\n            isCollaborationToolsAllowed,\n            changeRadarTitleImage\n        } = this.props\n\n        const {\n            radarLanguage,\n            radarName,\n            mapIntro,\n            hideUsersFromTrial,\n            discussionOn,\n            votingOn,\n            votingUp,\n            ratingsOn,\n            commentsOn,\n            likingOn,\n            phenomenaSet,\n            group,\n            axisXTitle,\n            axisXMax,\n            axisXMin,\n            axisYTitle,\n            axisYMax,\n            axisYMin,\n            fourFieldsTopLeft,\n            fourFieldsTopRight,\n            fourFieldsBottomLeft,\n            fourFieldsBottomRight,\n            imageFile,\n            imageTitleFile,\n            displayHaloWhenRating\n        } = this.state\n\n        if (this.validate()) {\n            // todo make these in a pagely manner:)\n            switch (addRadarFormPage) {\n                case PAGE_HEADER_AND_LANGUAGE:\n                    changeRadarLanguage(radarLanguage)\n                    changeRadarName(radarName)\n                    changeRadarGroup(group)\n\n                    if (!id) {\n                        changeAddRadarFormPage(PAGE_BASIC_SETTINGS)\n                    } else {\n                        updateRadar()\n                    }\n\n                    break\n                case PAGE_BASIC_SETTINGS:\n                    changeRadarImage(imageFile)\n                    changeRadarTitleImage(imageTitleFile)\n                    changeHideUsersFromTrial(hideUsersFromTrial)\n                    changePhenomenaSet(phenomenaSet)\n\n                    if (!id) {\n                        if (isCollaborationToolsAllowed(group)) {\n                            changeAddRadarFormPage(PAGE_USER_OPTIONS)\n                        } else {\n                            createRadar()\n                        }\n                    } else {\n                        updateRadar()\n                    }\n\n                    break\n                case PAGE_USER_OPTIONS:\n                    changeDisplayHaloWhenRating(displayHaloWhenRating)\n                    changeDiscussionOn(discussionOn)\n                    changeVotingOn(votingOn)\n                    changeVotingUp(votingUp)\n                    changeRatingsOn(ratingsOn)\n                    changeRatingsSettings({\n                        axisXTitle,\n                        axisXMax,\n                        axisXMin,\n                        axisYTitle,\n                        axisYMax,\n                        axisYMin,\n                        fourFieldsTopLeft,\n                        fourFieldsTopRight,\n                        fourFieldsBottomLeft,\n                        fourFieldsBottomRight\n                    })\n                    changeCommentsOn(commentsOn)\n                    changeLikingOn(likingOn)\n\n                    if (!id) {\n                        createRadar()\n                    } else {\n                        updateRadar()\n                    }\n\n                    break\n                case PAGE_CONCLUSIONS:\n                    changeMapIntro(mapIntro)\n\n                    if (!id) {\n                        changeAddRadarFormPage(PAGE_CONCLUSIONS)\n                    } else {\n                        updateRadar()\n                    }\n\n                    break\n                default:\n                    break\n            }\n        }\n    }\n\n    handleBackClick = () => {\n        const { addRadarFormPage, changeAddRadarFormPage } = this.props\n        const previousPage = addRadarFormPage - 1\n\n        changeAddRadarFormPage(previousPage)\n    }\n\n    handleCloseClick = () => this.props.changeAddRadarFormVisibility()\n    redirectUser = () => window.location.replace(PUBLIC_URL || '/')\n    renderUserOptionsForm() {\n        const {\n            votingOn,\n            ratingsOn,\n            discussionOn,\n            commentsOn,\n            commentTopics,\n            likingOn,\n            votingUp,\n            axisXTitle,\n            axisXMin,\n            axisXMax,\n            axisYTitle,\n            axisYMin,\n            axisYMax,\n            fourFieldsTopLeft,\n            fourFieldsTopRight,\n            fourFieldsBottomLeft,\n            fourFieldsBottomRight,\n            displayHaloWhenRating,\n            VotingDescriptionDisplayed,\n            RatingDescriptionDisplayed,\n            CommentingDescriptionDisplayed,\n            DiscussionDescriptionDisplayed,\n            VotingAnchorEl,\n            RatingAnchorEl,\n            CommentingAnchorEl,\n            DiscussionAnchorEl,\n            axisYSelect,\n            axisXSelect,\n            openRatingModalEditMode,\n            openVotingInformationModal,\n            openRatingInformationModal,\n            openCommentingInformationModal,\n            openDiscussionInformationModal\n        } = this.state\n\n        const onHoverVotingIcon = (event) => {\n            this.setState({\n                VotingAnchorEl: event.currentTarget,\n                VotingDescriptionDisplayed: true\n            })\n        }\n        const onLeaveVotingIcon = () => {\n            this.setState({\n                VotingAnchorEl: null,\n                VotingDescriptionDisplayed: false\n            })\n        }\n\n        const onHoverRatingIcon = (event) => {\n            this.setState({\n                RatingAnchorEl: event.currentTarget,\n                RatingDescriptionDisplayed: true\n            })\n        }\n        const onLeaveRatingIcon = () => {\n            this.setState({\n                RatingAnchorEl: null,\n                RatingDescriptionDisplayed: false\n            })\n        }\n\n        const onHoverCommentingIcon = (event) => {\n            this.setState({\n                CommentingAnchorEl: event.currentTarget,\n                CommentingDescriptionDisplayed: true\n            })\n        }\n        const onLeaveCommentingIcon = () => {\n            this.setState({\n                CommentingAnchorEl: null,\n                CommentingDescriptionDisplayed: false\n            })\n        }\n\n        const onHoverDiscussionIcon = (event) => {\n            this.setState({\n                DiscussionAnchorEl: event.currentTarget,\n                DiscussionDescriptionDisplayed: true\n            })\n        }\n        const onLeaveDiscussionIcon = () => {\n            this.setState({\n                DiscussionAnchorEl: null,\n                DiscussionDescriptionDisplayed: false\n            })\n        }\n\n        // {\n        //     title: 'Time: A/B',\n        //     label: 'Time:A/B',\n        //     nameAxis: Time,\n        //     leftAttr: 'near term',\n        //     rightAttr: 'long term'\n        // }\n        // label: i.label, value: i.title\n        const handleDisplayVericalAxisRatingChange = ({ value }, isCustom) => {\n            this.setState({\n                isCustomVertical: isCustom,\n            })\n            mockData.some(i => {\n                if ((String(value) === 'Custom') || (String(value) === 'Muokattui')  ) {\n                    this.setState({ \n                        axisYSelect: value\n                    })\n                    return true\n                }\n                else if(String(value) === String(i.title)) {\n                    this.setState({ \n                        axisYSelect: value,\n                        axisYTitle: i.nameAxis,\n                        axisYMin: i.leftAttr,\n                        axisYMax: i.rightAttr,\n                    })\n                }\n            })\n        }\n        const handleDisplayHorizontalAxisRatingChange = ({ value }, isCustom) => {\n            this.setState({\n                isCustomHorozol: isCustom,\n            })\n            mockData.some(i => {\n                if ((String(value) === 'Custom') || (String(value) === 'Muokattui')) {\n                    this.setState({ \n                        axisXSelect: value\n                    })\n                    return true\n                }\n                else if(String(value) === String(i.title)) {\n                    this.setState({ \n                        axisXSelect: value,\n                        axisXTitle: i.nameAxis,\n                        axisXMin: i.leftAttr,\n                        axisXMax: i.rightAttr,\n                    })\n                }\n            })\n    }\n\n    const handleFlipHorizontalAndVerticalChange = () => {\n        const retrievedObject = JSON.parse(localStorage.getItem('chartData'))\n           if (retrievedObject) {\n                const {\n                    leftEndValue, \n                    rightEndValue, \n                    topEndValue, \n                    lowEndValue, \n                    horizontalAxisNameValue, \n                    verticalAxisNameValue,\n                    topLeftValue, \n                    topRightValue, \n                    bottomLeftValue, \n                    bottomRightValue,\n                    inputSelectedXValue,\n                    inputSelectedYValue,\n                    isEditHorizontal,\n                    isVerticalEdit\n                } = retrievedObject\n\n                localStorage.setItem('chartData', JSON.stringify({\n                    leftEndValue: lowEndValue, \n                    rightEndValue: topEndValue, \n                    topEndValue: rightEndValue, \n                    lowEndValue: leftEndValue, \n                    horizontalAxisNameValue: verticalAxisNameValue, \n                    verticalAxisNameValue: horizontalAxisNameValue,\n                    topLeftValue, \n                    topRightValue, \n                    bottomLeftValue, \n                    bottomRightValue,\n                    inputSelectedXValue: inputSelectedYValue,\n                    inputSelectedYValue: inputSelectedXValue,\n                    isVerticalEdit: isEditHorizontal,\n                    isEditHorizontal: isVerticalEdit\n                }));\n\n                if (retrievedObject) {\n                    this.setState({\n                        axisXTitle: verticalAxisNameValue,\n                        axisYTitle: horizontalAxisNameValue,\n                        axisXMin: lowEndValue,\n                        axisYMin: leftEndValue,\n                        axisXMax: topEndValue,\n                        axisYMax: rightEndValue,\n                        axisXSelect: inputSelectedYValue,\n                        axisYSelect: inputSelectedXValue,\n                        isCustomHorozol: isVerticalEdit,\n                        isCustomVertical: isEditHorizontal\n                    })\n                }\n           }\n\n\n        else {\n            this.setState({\n                axisXTitle: axisYTitle,\n                axisYTitle: axisXTitle,\n                axisXMin: axisYMin,\n                axisYMin: axisXMin,\n                axisXMax: axisYMax,\n                axisYMax: axisXMax,\n                axisXSelect: axisYSelect,\n                axisYSelect: axisXSelect\n            })\n        }\n    }\n\n    const openVotingInformationModalHandle = () => {\n        this.setState({\n            openVotingInformationModal: true\n        })\n    }\n\n    const closeVotingInformationModalHandle = () => {\n        this.setState({\n            openVotingInformationModal: false\n        })\n    } \n    const openRatingInformationModalHandle = () => {\n        this.setState({\n            openRatingInformationModal: true\n        })\n    }\n\n    const closeRatingInformationModalHandle = () => {\n        this.setState({\n            openRatingInformationModal: false\n        })\n    } \n\n    const openCommentingInformationModalHandle = () => {\n        this.setState({\n            openCommentingInformationModal: true\n        })\n    }\n\n    const closeCommentingInformationModalHandle  = () => {\n        this.setState({\n            openCommentingInformationModal: false\n        })\n    } \n\n    const openDiscussionInformationModalHandle = () => {\n        this.setState({\n            openDiscussionInformationModal: true\n        })\n    }\n\n    const closeDiscussionInformationModalHandle  = () => {\n        this.setState({\n            openDiscussionInformationModal: false\n        })\n    } \n\n    const openClearAllFieldsModal = () => {\n        this.setState({\n            openClearAllFields: true\n        })\n    }\n\n    const closeClearAllFieldsModal = () => {\n        this.setState({\n            openClearAllFields: false\n        })\n    } \n    \n    const openRatingModalEditModeModal = () => {\n        this.setState({\n            openRatingModalEditMode: true\n        })\n    }\n\n    const closeRatingModalEditModeModal = () => {\n        this.setState({\n            openRatingModalEditMode: false\n        })\n    }\n    const clearAllFieldsBtn = () => {\n        this.setState({\n            axisXTitle: requestTranslation('HorizontalAxisName'),\n            axisYTitle: requestTranslation('verticalAxisName'),\n            axisXMin: requestTranslation('leftEnd'),\n            axisYMin:requestTranslation('lowEnd'),\n            axisXMax: requestTranslation('rightEnd'),\n            axisYMax: requestTranslation('highEnd'),\n            fourFieldsTopLeft: requestTranslation('topLeft'),\n            fourFieldsTopRight:requestTranslation('topRight'),\n            fourFieldsBottomLeft: requestTranslation('bottomLeft'),\n            fourFieldsBottomRight: requestTranslation('bottomRight'),\n            openClearAllFields: false,\n            axisXSelect: '',\n            axisYSelect: '',\n            isCustomHorozol: false,\n            isCustomVertical: false\n        })\n\n        localStorage.removeItem('chartData')\n        \n    }\n        const { classes } = this.props;\n\n        const handleRatingOffParantComp = (value) => {\n            this.setState({\n                ratingsOn: value,\n                openRatingModalEditMode: value\n            })\n        }\n\n        const receiveCheckedCustomData = (isVertical, isHorizontal) =>{\n            this.setState({\n                isCustomVertical: isVertical,\n                isCustomHorozol: isHorizontal\n            })\n        }\n\n        const handleUpdateStateWhenClickedDoneBtnInCreateRadarForm = () => {\n            // mockData.some(i => {\n            //     if (String(axisYTitle) === String('Vertical axis name') \n            //             && String(axisYMin) === String('Low end')\n            //             && String(axisYMax) === String('High end')) {\n            //         this.setState({ \n            //             axisYSelect: '',\n            //         })\n            //         return true\n            //     }\n            //     else if(String(axisYTitle) === String(i.title)\n            //             && String(axisYMin) === String(i.leftAttr)\n            //             && String(axisYMax) === String(i.rightAttr)) {\n            //             this.setState({ \n            //                 axisYSelect: axisYTitle,\n            //             })\n            //             return true\n            //         } \n            //     else {\n            //         this.setState({ \n            //             axisYSelect: 'Custom',\n            //         })\n            //     }\n            // })\n    \n            // mockData.some(i => {\n            //     if (String(axisXTitle) === String('Horizontal axis name') \n            //                 && String(axisXMin) === String('Left end')\n            //                 && String(axisXMax) === String('Right end')) {\n            //             this.setState({ \n            //                 axisYSelect: '',\n            //             })\n            //             return true\n            //     }\n            //     else if(String(axisXTitle) === String(i.title)\n            //             && String(axisXMin) === String(i.leftAttr)\n            //             && String(axisXMax) === String(i.rightAttr)) {\n            //             this.setState({ \n            //                 axisXSelect: axisXTitle,\n            //             })\n            //             return true\n            //         } \n            //     else {\n            //         this.setState({ \n            //             axisXSelect: 'Custom',\n            //         })\n            //     }\n            // })\n        }\n\n        const handleEmitFlagToRefetchDataOfChart = (value) => {\n            try {\n                if (value) {\n                    const { \n                        horizontalAxisNameValue, \n                        verticalAxisNameValue,\n                        leftEndValue,\n                        rightEndValue,\n                        lowEndValue,\n                        topEndValue,\n                        topLeftValue,\n                        topRightValue,\n                        bottomLeftValue,\n                        bottomRightValue,\n                        inputSelectedXValue,\n                        inputSelectedYValue\n                    } = value\n                    this.setState( () => {\n                        return {\n                            axisXTitle: horizontalAxisNameValue,\n                            axisYTitle: verticalAxisNameValue,\n                            axisXMin: leftEndValue,\n                            axisYMin: lowEndValue,\n                            axisXMax: rightEndValue,\n                            axisYMax: topEndValue,\n                            fourFieldsTopLeft: topLeftValue,\n                            fourFieldsTopRight: topRightValue,\n                            fourFieldsBottomLeft: bottomLeftValue,\n                            fourFieldsBottomRight: bottomRightValue,\n                            axisXSelect: inputSelectedXValue,\n                            axisYSelect: inputSelectedYValue\n                        }\n                    })\n                }\n            } catch (error) {\n                \n            }\n        }\n\n        const inputVerticalAxisValue = String(axisYSelect) !== '' ? (this.state.isCustomVertical ? (getLanguage() === 'en' ?'Custom':'Muokattui') : axisYSelect) : ''\n        const inputHorozoltalAxisValue = String(axisXSelect) !== '' ? (this.state.isCustomHorozol ? (getLanguage() === 'en' ?'Custom':'Muokattui') : axisXSelect) : ''\n        return (\n            <div className='modal-form-sections'>\n                <div className='modal-form-section modal-form-header'>\n                    <h2>\n                        {requestTranslation('activateUsers')}\n                    </h2>\n                </div>\n                <div className='modal-form-section'>\n                    <SpaceBetween>\n                        <CustomHalfWidth>\n                            <div style={{display: 'flex'}}>\n                                <h3>\n                                    {requestTranslation('voting')}\n                                </h3>\n                                <InformationIcon \n                                    background={false}\n                                    onMouseEnter={onHoverVotingIcon} \n                                    onMouseLeave={onLeaveVotingIcon}\n                                    onClick={openVotingInformationModalHandle}\n                                />\n                               <Popover \n                                    className={classes.popover}\n                                    classes={{\n                                        paper: classes.paper,\n                                    }}\n                                    open={VotingDescriptionDisplayed || false}\n                                    anchorEl={VotingAnchorEl} \n                                    anchorOrigin={{\n                                        vertical: 'bottom',\n                                        horizontal: 'left',\n                                    }}\n                                    transformOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'left',\n                                    }}\n                                      onClose={onLeaveVotingIcon}\n                                      disableRestoreFocus\n                                >\n                                    <HoverBox>{requestTranslation('InfoIconHoverVoting')}</HoverBox>\n                                </Popover> \n                                \n                                <InformationModal \n                                    InfoModalHeader={requestTranslation('VotingTool')}\n                                    InfoModalNote={requestTranslation('InfoModalVotingNote')}\n                                    InfoModalOpen={openVotingInformationModal}\n                                    InfoModalClose={closeVotingInformationModalHandle}\n                                    LearnMoreBtn={requestTranslation('LearnMoreVotingBtn')}\n                                    GuideBtn={requestTranslation('GuideVotingBtn')}\n                                    LearnMoreLink='https://info.futuresplatform.com/hub/how-to-vote'\n                                    GuideLink='https://info.futuresplatform.com/hub/how-to-orginise-voting'\n                                    InfoModalDescription={requestTranslation('InfoModalVotingContent')}\n                                    InfoModalDescription2={requestTranslation('InfoModalVotingContent2')}\n                                    InfoModalDescription3={requestTranslation('InfoModalVotingContent3')}\n                                    InfoModalDescription4={requestTranslation('InfoModalVotingContent4')}\n                                    InfoModalDescription5={requestTranslation('InfoModalVotingContent5')}\n                                    InfoModalDescription6={requestTranslation('InfoModalVotingContent6')}\n                                    InfoModalDescription7={requestTranslation('InfoModalVotingContent7')}\n\n                                />\n                            </div>\n                            <SpaceBetween>\n                                <p>\n                                    {requestTranslation('createFormVotingDescription')}\n                                </p>\n                                <Toggle\n                                    icons={false}\n                                    defaultChecked={votingOn}\n                                    onChange={this.handleVotingOnChange}\n                                />\n                            </SpaceBetween>\n                        </CustomHalfWidth>\n                        {RATING_ARROWS_ENABLED && votingOn && (\n                            <HalfWidth>\n                                <h4>\n                                    {requestTranslation('arrows')}\n                                </h4>\n                                <SpaceBetween style={{ width: '200px' }}>\n                                    <Radiobox\n                                        label={requestTranslation('up')}\n                                        value='up'\n                                        checked={votingUp}\n                                        onClick={this.handleVotingSelection}\n                                    />\n                                    <Radiobox\n                                        label={requestTranslation('upDown')}\n                                        value='updown'\n                                        checked={!votingUp}\n                                        onClick={this.handleVotingSelection}\n                                    />\n                                </SpaceBetween>\n                            </HalfWidth>\n                        )}\n                    </SpaceBetween>\n                    {votingOn && \n                    <UpVotesWrapper>\n                        <CustomHalfWidth>\n                            <SpaceBetween>\n                                <p>\n                                    {requestTranslation('upvotesForHalo')}\n                                </p>\n                                <Toggle\n                                            icons={false}\n                                            checked={this.state.votingHaloOn}\n                                            defaultChecked={this.state.votingHaloOn}\n                                            onChange={this.handleVotingHaloOnChange}\n                                        />\n                            </SpaceBetween>\n                        {this.state.votingHaloOn &&\n                        <SpaceBetween style={{ marginTop: '20px', marginRight: '-34px'}}>\n                            <p style={{ width: '66%'}}>{requestTranslation('upvotesForHaloDescription')}</p> \n                            <div style={{width: '85px'}}>\n                                <Select\n                                    searchable={false}\n                                    name='group'\n                                    className= {` ${styles['custom-react-select-height-att']} ${styles['custom-react-select-width-att']}` }\n                                    value={displayHaloWhenRating}\n                                    onChange={this.handleDisplayHaloWhenRatingChange}\n                                    options={times(20, value => ({ label: value + 1, value: value + 1 }))}\n                                    clearable={false}\n                                />\n                            </div>\n                            \n                            \n                        </SpaceBetween>\n                        }\n                            \n                        </CustomHalfWidth>\n                    </UpVotesWrapper>    \n                    }\n                </div>\n\n                <div className='modal-form-section' ref={this.editorMode}>\n                    <CustomHalfWidth>\n                        <div style={{display: 'flex'}}>\n                            <h3>\n                                {requestTranslation('rating')}\n                            </h3>\n                            <InformationIcon \n                                background={true}\n                                onMouseEnter={onHoverRatingIcon}\n                                onMouseLeave={onLeaveRatingIcon}\n                                onClick={openRatingInformationModalHandle}\n                            />\n                            <Popover \n                                className={classes.popover}\n                                classes={{\n                                    paper: classes.paper,\n                                }}\n                                open={RatingDescriptionDisplayed || false}\n                                anchorEl={RatingAnchorEl} \n                                anchorOrigin={{\n                                    vertical: 'bottom',\n                                    horizontal: 'left',\n                                }}\n                                transformOrigin={{\n                                vertical: 'top',\n                                horizontal: 'left',\n                                }}\n                                onClose={onLeaveRatingIcon}\n                                disableRestoreFocus\n                            >\n                                <HoverBox>{requestTranslation('InfoIconHoverRating')} </HoverBox>\n                            </Popover> \n                            <InformationModal \n                                    InfoModalHeader={requestTranslation('RatingTool')}\n                                    InfoModalNote={requestTranslation('InfoModalRatingNote')}\n                                    InfoModalOpen={openRatingInformationModal}\n                                    InfoModalClose={closeRatingInformationModalHandle}\n                                    LearnMoreBtn={requestTranslation('LearnMoreRatingBtn')}\n                                    GuideBtn={requestTranslation('GuideRatingBtn')}\n                                    LearnMoreLink='https://info.futuresplatform.com/hub/how-to-rate'\n                                    GuideLink='https://info.futuresplatform.com/hub/most-commonly-used-axis-for-rating'\n                                    InfoModalDescription={requestTranslation('InfoModalRatingContent')}\n                                    InfoModalDescription2={requestTranslation('InfoModalRatingContent2')}\n                                    InfoModalDescription3={requestTranslation('InfoModalRatingContent3')}\n                                    InfoModalDescription4={requestTranslation('InfoModalRatingContent4')}\n                                    InfoModalDescription5={requestTranslation('InfoModalRatingContent5')}\n                                    InfoModalDescription6={requestTranslation('InfoModalRatingContent6')}\n                                />\n                        </div>\n                        <SpaceBetween>\n                            <p>\n                                {requestTranslation('createFormRatingDescription')}\n                            </p>\n                            <Toggle \n                                    icons={false}\n                                    checked={ratingsOn}\n                                    defaultChecked={ratingsOn}\n                                    onChange={this.handleRatingsOnChange}\n                            />\n                        </SpaceBetween>\n                        {/* <SpaceBetween> */}\n                            {/* <p style={{marginTop: '12px'}}>{requestTranslation('IntructionsForNamingAxis')}</p> */}\n                        {/* </SpaceBetween> */}\n                    </CustomHalfWidth>\n                    \n\n                    {ratingsOn && (\n                    <FullWidthBgContainer style={{ paddingTop: 0, paddingRight: 0, paddingLeft: 0, marginTop: '20px' }}>\n                        <SpaceBetween>\n                            <HalfWidth>\n                                <h4>\n                                    {requestTranslation('verticalAxis')}\n                                </h4>\n                                <Columns>\n                                    <Column>\n                                        <Select\n                                            placeholder={requestTranslation('selectValue')}\n                                            searchable={false}\n                                            name='group'\n                                            className= {`${styles['custom-react-select-margin-bottom-att']}` }\n                                            onChange={handleDisplayVericalAxisRatingChange}\n                                            value={inputVerticalAxisValue}\n                                            options={\n                                                getLanguage() === 'en' ?\n                                                    (mockDataEn?.sort((a, b) => a.label.localeCompare(b.label)).map(i => ({\n                                                        label: i.label, value: i.title\n                                                    }))) : \n                                                    (mockDataFin?.sort((a, b) => a.label.localeCompare(b.label)).map(i => ({\n                                                        label: i.label, value: i.title\n                                                    })))\n                                            }\n                                            clearable={false}\n                                        />\n                                    </Column>\n                                </Columns>   \n                            </HalfWidth>\n                            <HalfWidth>\n                                <h4>\n                                    {requestTranslation('horizontalAxis')}\n                                </h4>\n                                <Columns>\n                                    <Column>\n                                        <Select\n                                            placeholder={requestTranslation('selectValue')}\n                                            searchable={false}\n                                            name='group'\n                                            className= {`${styles['custom-react-select-margin-bottom-att']}` }\n                                            value={inputHorozoltalAxisValue}\n                                            onChange={handleDisplayHorizontalAxisRatingChange}\n                                            options={\n                                                getLanguage() === 'en' ?\n                                                    (mockDataEn?.sort((a, b) => a.label.localeCompare(b.label)).map(i => ({\n                                                        label: i.label, value: i.title\n                                                    }))) : \n                                                    (mockDataFin?.sort((a, b) => a.label.localeCompare(b.label)).map(i => ({\n                                                        label: i.label, value: i.title\n                                                    })))\n                                            }\n                                            clearable={false}\n                                        />\n                                    </Column>\n                                </Columns>\n                            </HalfWidth>\n                        </SpaceBetween>\n                    </FullWidthBgContainer>\n                )}\n\n                {ratingsOn && (\n                    <FullWidthBgContainer \n                        \n                        style={{ paddingTop: 0, paddingRight: 0, paddingLeft: 0 }}> \n                        <RatingSummaryPreview\n                                    // bottomHeader = 'Preview for rating result and summary view'\n                                    containerWidth = {+this.state.widthContentWidth - 50 - 16 + 32 - 2}\n                                    containerHeight = {+this.state.widthContentWidth * 0.60}\n                                    // containerWidth = {320}\n                                    // containerHeight = {200}\n                                    topLeft = {fourFieldsTopLeft}\n                                    topRight = {fourFieldsTopRight}\n                                    bottomLeft = {fourFieldsBottomLeft}\n                                    bottomRight = {fourFieldsBottomRight}\n                                    horizontalAxisName = {axisXTitle}\n                                    leftEnd = {axisXMin}\n                                    rightEnd = {axisXMax}\n                                    verticalAxisName = {axisYTitle}\n                                    topEnd = {axisYMax}\n                                    lowEnd = {axisYMin}\n                                />\n                        <RatingGroupBtn style={{marginTop: '62px'}}>\n                            <RatingHandleBtnGroup>\n                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={openClearAllFieldsModal} >{requestTranslation('clearAllFieldsBtn')}</HandleRatingsBtn>\n                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={handleFlipHorizontalAndVerticalChange}>{requestTranslation('FlipHorizontalVertical')}</HandleRatingsBtn>\n                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={openRatingModalEditModeModal} >{requestTranslation('editManuallyBtn')}</HandleRatingsBtn>\n                            </RatingHandleBtnGroup>\n                        </RatingGroupBtn>\n                        <ConfirmationModalForRatings \n                            ConfirmationModalNote= 'Are you sure to clear all fields?'\n                            confirmationModal= {this.state.openClearAllFields}\n                            confirmationModalClose = {closeClearAllFieldsModal}\n                            confirmationModalHandleBtn = {clearAllFieldsBtn}\n                        />\n                        <RatingModalPreviewEditMode \n                            isRatingPreviewEditOpen={openRatingModalEditMode}\n                            handleRatingOff={handleRatingOffParantComp}\n                            ratingsOn={this.state.ratingsOn}\n                            axisXTitle={axisXTitle}\n                            axisXMin={axisXMin}\n                            axisXMax={axisXMax}\n                            axisYTitle={axisYTitle}\n                            axisYMin={axisYMin}\n                            axisYMax={axisYMax}\n                            fourFieldsTopLeft={fourFieldsTopLeft}\n                            fourFieldsTopRight={fourFieldsTopRight}\n                            fourFieldsBottomLeft={fourFieldsBottomLeft}\n                            fourFieldsBottomRight={fourFieldsBottomRight}\n                            axisYSelect={inputVerticalAxisValue}\n                            axisXSelect={inputHorozoltalAxisValue}\n                            RatingAnchorEl={RatingAnchorEl}\n                            RatingDescriptionDisplayed={RatingDescriptionDisplayed}\n                            openClearAllFields={this.state.openClearAllFields}\n                            widthContentWidth={+this.state.widthContentWidth  -(16 + 12) - (16 + 8) -16 -3}\n                            onHoverRatingIcon={onHoverRatingIcon}\n                            onLeaveRatingIcon={onLeaveRatingIcon}\n                            handleDisplayVericalAxisRatingChange={handleDisplayVericalAxisRatingChange}\n                            handleDisplayHorizontalAxisRatingChange={handleDisplayHorizontalAxisRatingChange}\n                            handleFlipHorizontalAndVerticalChange={handleFlipHorizontalAndVerticalChange}\n                            openClearAllFieldsModal={openClearAllFieldsModal}\n                            closeClearAllFieldsModal={closeClearAllFieldsModal}\n                            clearAllFieldsBtn={clearAllFieldsBtn}\n                            handleRatingsOnChange={this.handleRatingsOnChange}\n                            handleRatingPreviewEditModeClose={closeRatingModalEditModeModal}\n                            passCheckedCustomData={receiveCheckedCustomData}\n                            emitFlagToRefetchDataOfChart={handleEmitFlagToRefetchDataOfChart}\n                            handleUpdateStateWhenClickedDoneBtnInCreateRadarForm={handleUpdateStateWhenClickedDoneBtnInCreateRadarForm}\n                            isCustomVerticalProp={this.state.isCustomVertical}\n                            isCustomHorozontalProp={this.state.isCustomHorozol}\n                        />\n                    </FullWidthBgContainer>\n                )}\n                </div>\n     \n                \n\n                <div className='modal-form-section'>\n                    <SpaceBetween>\n                        <CustomHalfWidth>\n                            <div style={{display: 'flex'}}>\n                                <h3>\n                                    {requestTranslation('commenting')}\n                                </h3>\n                                <InformationIcon \n                                    background={false}\n                                    onMouseEnter={onHoverCommentingIcon}\n                                    onMouseLeave={onLeaveCommentingIcon}\n                                    onClick={openCommentingInformationModalHandle}\n                                />\n                                <Popover \n                                    className={classes.popover}\n                                    classes={{\n                                        paper: classes.paper,\n                                    }}\n                                    open={CommentingDescriptionDisplayed || false}\n                                    anchorEl={CommentingAnchorEl} \n                                    anchorOrigin={{\n                                        vertical: 'bottom',\n                                        horizontal: 'left',\n                                    }}\n                                    transformOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'left',\n                                    }}\n                                    onClose={onLeaveCommentingIcon}\n                                    disableRestoreFocus\n                                >\n                                    <HoverBox>{requestTranslation('InfoIconHoverCommenting')}</HoverBox>\n                                </Popover>\n                                <InformationModal \n                                    InfoModalHeader={requestTranslation('CommentingTool')}\n                                    InfoModalNote={requestTranslation('InfoModalCommentingNote')}\n                                    InfoModalOpen={openCommentingInformationModal}\n                                    InfoModalClose={closeCommentingInformationModalHandle}\n                                    LearnMoreBtn={requestTranslation('LearnMoreCommentingBtn')}\n                                    GuideBtn={requestTranslation('GuideCommentingBtn')}\n                                    LearnMoreLink='https://info.futuresplatform.com/hub/how-to-comment'\n                                    GuideLink='https://info.futuresplatform.com/hub/how-to-organise-commenting'\n                                    InfoModalDescription={requestTranslation('InfoModalCommentingContent')}\n                                    InfoModalDescription2={requestTranslation('InfoModalCommentingContent2')}\n                                    InfoModalDescription3={requestTranslation('InfoModalCommentingContent3')}\n                                    InfoModalDescription4={requestTranslation('InfoModalCommentingContent4')}\n                                />\n                            </div>\n                            <SpaceBetween>\n                                <p style={{marginRight:'30px'}}>\n                                    {requestTranslation('createFormCommentingDescription')}\n                                </p>\n                                <Toggle\n                                    icons={false}\n                                    defaultChecked={commentsOn}\n                                    onChange={this.handleCommentsOnChange}\n                                />\n                            </SpaceBetween>\n                            {commentsOn && \n                                <SpaceBetween style={{ marginTop: '15px' }}>\n                                    <p style={{marginRight:'30px'}}>\n                                        {requestTranslation('allowLikeCommenting')}\n                                    </p>\n                                    <Toggle icons={false}\n                                            defaultChecked={likingOn}\n                                            onChange={this.handleLikingOnChange}\n                                    />\n                                </SpaceBetween>\n                            }\n                            \n                        </CustomHalfWidth>\n                        {commentsOn && COMMENT_TOPICS_ENABLED && (\n                            <HalfWidth>\n                                <h4>\n                                    {requestTranslation('commentTopics')}\n                                </h4>\n                                <div>\n                                    {commentTopics.map(({ label, checked }, index) => (\n                                        <Checkbox key={index}\n                                                  blue\n                                                  label={label}\n                                                  checked={checked}\n                                                  onChange={() =>\n                                                      this.handleTopicChange(label, !checked)\n                                                  }/>\n                                    ))}\n                                </div>\n                            </HalfWidth>\n                        )}\n                    </SpaceBetween>\n                </div>\n                <div className='modal-form-section'>\n                        {/* <SpaceBetween> */}\n                            <div>\n                                <div style={{display: 'flex'}}>\n                                    <h3 className='mb-0' style={{paddingBottom: '12.6px'}}>\n                                        {requestTranslation('discussion')}\n                                    </h3>\n                                    <InformationIcon \n                                        background={true}\n                                        onMouseEnter={onHoverDiscussionIcon}\n                                        onMouseLeave={onLeaveDiscussionIcon}\n                                        onClick={openDiscussionInformationModalHandle}\n                                    />\n                                    <Popover \n                                        className={classes.popover}\n                                        classes={{\n                                            paper: classes.paper,\n                                        }}\n                                        open={DiscussionDescriptionDisplayed || false}\n                                        anchorEl={DiscussionAnchorEl} \n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'left',\n                                        }}\n                                        transformOrigin={{\n                                        vertical: 'top',\n                                        horizontal: 'left',\n                                        }}\n                                        onClose={onLeaveDiscussionIcon}\n                                        disableRestoreFocus\n                                    >\n                                        <HoverBox>{requestTranslation('InfoIconHoverDiscussion')}</HoverBox>\n                                    </Popover>\n                                    <InformationModal \n                                        InfoModalHeader={requestTranslation('DiscussionAreaTool')}\n                                        InfoModalNote={requestTranslation('InfoModalDiscussionNote')}\n                                        InfoModalOpen={openDiscussionInformationModal}\n                                        InfoModalClose={closeDiscussionInformationModalHandle}\n                                        LearnMoreBtn={requestTranslation('LearnMoreDiscussionBtn')}\n                                        GuideBtn={requestTranslation('GuideDiscussionBtn')}\n                                        LearnMoreLink='https://info.futuresplatform.com/hub/how-to-discuss'\n                                        GuideLink='https://info.futuresplatform.com/hub/how-to-organise-discussion'\n                                        InfoModalDescription={requestTranslation('InfoModalDiscussionContent')}\n                                        InfoModalDescription2={requestTranslation('InfoModalDiscussionContent2')}\n                                        InfoModalDescription3={requestTranslation('InfoModalDiscussionContent3')}\n                                    />\n                                </div>\n                                <CustomHalfWidth>\n                                    <SpaceBetween>\n                                        <p style={{marginRight: '30px'}}>{requestTranslation('createFormDiscussionDescription')}</p>\n                                        <Toggle icons={false}\n                                                defaultChecked={discussionOn}\n                                                onChange={this.handleDiscussionOnChange}\n                                        />\n                                    </SpaceBetween>\n                                </CustomHalfWidth>\n                            </div>\n                        {/* </SpaceBetween> */}\n                </div>\n            </div>\n        )\n    }\n\n    renderFieldError(field, props = {}) {\n        const { errors } = this.state\n\n        const hasError = errors.length > 0 && errors.indexOf(field) >= 0\n        return hasError && (\n            <FieldError {...props}>\n                {requestTranslation(`radar-error-${field}`)}\n            </FieldError>\n        )\n    }\n\n    renderHeaderAndLanguageForm() {\n        const { radarName, radarLanguage, group } = this.state\n        const { groups, id } = this.props\n\n        return (\n            <div className='modal-form-sections'>\n                <div className='modal-form-section modal-form-header'>\n                    <h2>\n                        {requestTranslation('headerTitle')}\n                    </h2>\n                </div>\n                <div className='modal-form-section'>\n                    <h3>\n                        {requestTranslation('header')}\n                    </h3>\n                    <div className='form-group'>\n                        <Input type={'text'}\n                               value={radarName}\n                               onChange={this.handleRadarNameChange}\n                               style={{ maxWidth: '300px', display: 'inline-block' }}\n                        />\n                        {this.renderFieldError('radarName')}\n                    </div>\n                </div>\n                <div className='modal-form-section lightgray-bg'>\n                    <h3>\n                        {requestTranslation('group')}\n                    </h3>\n                    {!id && (\n                        <div className='form-group'>\n                            <p>\n                                {requestTranslation('groupAvailabilityText')}\n                            </p>\n                            <SelectWrapper>\n                                <Select searchable={false}\n                                        name='group'\n                                        className='fp-radar-select'\n                                        value={group}\n                                        onChange={this.handleGroupChange}\n                                        options={groups}\n                                        clearable={false}\n                                />\n                            </SelectWrapper>\n                            {this.renderFieldError('group', { select: true })}\n                        </div>\n                    )}\n                    {id && (\n                        <p>\n                            {requestTranslation('groupAvailability')} {group.title}\n                        </p>\n                    )}\n                </div>\n                {!id && (\n                    <div className='modal-form-section pb-0'>\n                        <h3>\n                            {requestTranslation('language')}\n                        </h3>\n                        <p>\n                            {requestTranslation('languageAvailability')}\n                        </p>\n                        <Select searchable={false}\n                                name='language'\n                                className='fp-radar-select'\n                                value={radarLanguage || radarLanguages()[0]}\n                                onChange={this.handleRadarLanguageChange}\n                                options={radarLanguages()}\n                                clearable={false}\n                                placeholder={requestTranslation('select').toLowerCase() + '...'}\n                        />\n                    </div>\n                )}\n            </div>\n        )\n    }\n\n    renderConclusionForm = () => {\n        const { mapIntro } = this.state\n\n        return (\n            <div className='modal-form-sections'>\n                <div className='modal-form-section modal-form-header'>\n                    <h2>\n                        {requestTranslation('conclusions')}\n                    </h2>\n                </div>\n                <div className='modal-form-section'>\n                    <ReactQuill\n                        className='fp-wysiwyg'\n                        style={{\n                            height: '250px',\n                            paddingBottom: '42px'\n                        }}\n                        modules={customQuillModules}\n                        formats={formats}\n                        value={mapIntro ? mapIntro : ''}\n                        onChange={this.handleMapIntroChange}\n                    />\n                </div>\n            </div>\n        )\n    }\n\n    renderBasicSettingsForm = () => {\n        const { phenomenaSet, hideUsersFromTrial, radarImage, imageUrl, group, radarTitleImage } = this.state\n        const { radarSets, id, groups, radarTitleImage: propsRadarTitleImage } = this.props\n        // TODO: check why group can be either just an id, or an object with id key, drupal ??\n        const renderTitleLogoInput = _.find(groups, ({ value }) => Number(value) === (Number(group) || Number(group.id)))\n\n        return (\n            <div className='modal-form-sections'>\n                <div className='modal-form-section modal-form-header'>\n                    <h2>\n                        {requestTranslation('basicSettings')}\n                    </h2>\n                </div>\n                {!id && (\n                    <div className='modal-form-section'>\n                        <h3>\n                            {requestTranslation('selectPhenomenaSet')}\n                        </h3>\n                        <Select searchable={false}\n                                name='phenomena-set'\n                                className='fp-radar-select fp-radar-select-hizindex fp-radar-select--no-margin'\n                                value={phenomenaSet}\n                                onChange={this.handlePhenomenaSetChange}\n                                options={radarSets}\n                                clearable={false}\n                        />\n                    </div>\n                )}\n                <div className='modal-form-section'>\n                    <h3>\n                        {renderTitleLogoInput && renderTitleLogoInput.radarLogoEnabled\n                            ? requestTranslation('selectRadarTitleImage') : requestTranslation('selectRadarImage')}\n                    </h3>\n                    <div className='form-group'>\n                        <div className='d-flex w-100 justify-content-between'>\n                            <SelectImageContainer>\n                                {!(radarImage || imageUrl) && requestTranslation('noImageSelected')}\n                                {(radarImage || imageUrl) && (\n                                    <RadarImageContainer>\n                                        <RadarImage src={imageUrl || radarImage}/>\n                                        <RadarImageCloseContainer onClick={this.handleImageDelete}>\n                                            <RadarImageClose className='material-icons'>close</RadarImageClose>\n                                        </RadarImageCloseContainer>\n                                    </RadarImageContainer>\n                                )}\n                                <SelectImageInputContainer>\n                                    <SelectImageInput type='file'\n                                                      accept='image/*'\n                                                      onChange={this.handleImageSelect}\n                                                      placeholder='SELECT'\n                                                      onClick={event => {\n                                                        event.target.value = null\n                                                    }}\n                                    />\n                                    <SelectImageButton className='btn btn-sm btn-outline-secondary'>\n                                        {requestTranslation('select')}\n                                    </SelectImageButton>\n                                </SelectImageInputContainer>\n                            </SelectImageContainer>\n                            {renderTitleLogoInput && renderTitleLogoInput.radarLogoEnabled ? (\n                                <SelectImageContainer>\n                                    {!(radarTitleImage || propsRadarTitleImage) && requestTranslation('noImageSelected')}\n                                    {(radarTitleImage || propsRadarTitleImage) && (\n                                        <RadarImageContainer>\n                                            <RadarTitleImage src={radarTitleImage || propsRadarTitleImage}/>\n                                            <RadarImageCloseContainer onClick={this.handleTitleImageDelete}>\n                                                <RadarImageClose className='material-icons'>close</RadarImageClose>\n                                            </RadarImageCloseContainer>\n                                        </RadarImageContainer>\n                                    )}\n                                    <SelectImageInputContainer>\n                                        <SelectImageInput type='file'\n                                                          accept='image/*'\n                                                          onChange={this.handleTitleImageSelect}\n                                                          placeholder='SELECT'\n                                                          onClick={event => {\n                                                            event.target.value = null\n                                                        }}\n                                        />\n                                        <SelectImageButton className='btn btn-sm btn-outline-secondary'>\n                                            {requestTranslation('select')}\n                                        </SelectImageButton>\n                                    </SelectImageInputContainer>\n                                </SelectImageContainer>\n                            ) : null}\n                        </div>\n                        <p className='description'>\n                            {requestTranslation('radarImageText')}\n                        </p>\n                    </div>\n                </div>\n                <div className={classNames('modal-form-section', { 'pb-0': !id })}>\n                    <h3>\n                        {requestTranslation('hideUserList')}\n                    </h3>\n                    <div className={classNames('form-group', { 'pb-0': !id })}>\n                        <Checkbox whiteBg\n                                  label={requestTranslation('hideUserListLabel')}\n                                  checked={hideUsersFromTrial}\n                                  onChange={this.handleHideUsersFromTrialClick}\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderFormPage = () => {\n        const { addRadarFormPage } = this.props\n\n        switch (addRadarFormPage) {\n            case PAGE_CONCLUSIONS:\n                return this.renderConclusionForm()\n            case PAGE_BASIC_SETTINGS:\n                return this.renderBasicSettingsForm()\n            case PAGE_USER_OPTIONS:\n                return this.renderUserOptionsForm()\n            default:\n                return this.renderHeaderAndLanguageForm()\n        }\n    }\n\n    renderNextButton() {\n        const { errors } = this.state\n        const { loading, existingRadarPage } = this.props\n\n        const disabled = errors.length || loading.length\n        const phrase = existingRadarPage ? 'save' : 'next'\n\n        return (\n            <button disabled={disabled}\n                        className={'btn btn-lg btn-primary'}\n                        onClick={this.handleNextClick}>\n                {requestTranslation(phrase)}\n            </button>\n        )\n    }\n\n    renderCancelButton() {\n        const { addRadarFormPage, existingRadarPage } = this.props\n        const firstPage = addRadarFormPage === PAGE_HEADER_AND_LANGUAGE\n        const phrase = existingRadarPage || firstPage ? 'cancel' : 'back'\n        const onClick = firstPage ? this.redirectUser : this.handleBackClick\n\n        return (\n            <button className='btn btn-lg btn-plain-gray'\n                          onClick={existingRadarPage ? this.handleCloseClick : onClick}>\n                {requestTranslation(phrase)}\n            </button>\n        )\n    }\n\n    renderPagination() {\n        const { addRadarFormPage, isCollaborationToolsAllowed } = this.props\n        const { group: groupId } = this.state\n        return (\n            <Pagination>\n                <PaginationLine />\n                <PaginationNumber active={addRadarFormPage === PAGE_HEADER_AND_LANGUAGE}>\n                    1\n                </PaginationNumber>\n                <PaginationNumber active={addRadarFormPage === PAGE_BASIC_SETTINGS}>\n                    2\n                </PaginationNumber>\n                {isCollaborationToolsAllowed(groupId) && <PaginationNumber active={addRadarFormPage === PAGE_USER_OPTIONS}>\n                    3\n                </PaginationNumber>}\n            </Pagination>\n        )\n    }\n\n    render() {\n        const { existingRadarPage, loading } = this.props\n\n        return (\n            <div>\n                {this.renderFormPage()}\n                <div className='modal-form-section modal-form-actions'>\n                    <div>\n                        {this.renderCancelButton()}\n                        {this.renderNextButton()}\n                    </div>\n                </div>\n                <Loading shown={loading.length} color={'black'} />\n                {!existingRadarPage && this.renderPagination()}\n            </div>\n        )\n    }\n}\nexport default withStyles(useStyles)(CreateRadarForm)\n\nconst SelectWrapper = styled.div`\n    display: inline-block;\n    margin-right: 15px;\n`\n\nconst FieldError = styled.div`\n    margin-top: ${({ select }) => select ? '7px' : '0'};\n    display: ${({ select }) => select ? 'block' : 'inline-block'};\n    clear: right;\n    color: red;\n`\n\nconst Pagination = styled.div`\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    display: flex;\n    width: 100px;\n    justify-content: space-between;\n`\n\nconst PaginationLine = styled.div`\n    width: 100%;\n    height: 1px;\n    background: gray;\n    position: absolute;\n    top: 50%;\n    z-index: 1;\n`\n\nconst PaginationNumber = styled.div`\n    width: 23px;\n    height: 23px;\n    border-radius: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n    padding-top: 0px;\n    font-size: 13px;\n    box-sizing: border-box;\n    z-index: 10;\n    background: ${props => props.active ? '#006998' : 'gray'};\n`\n\nconst Input = styled.input`\n    width: 300px;\n    background: transparent;\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    margin-right: 15px;\n    font-size: 16px;\n    padding-left: 20px;\n    height: 45px;\n    border-radius: 1px;\n    box-sizing: border-box;\n`\n\nconst FullWidthBgContainer = styled.div`\n    width: 100%;\n    background-color: #f1f3f3;\n    box-sizing: border-box;\n    padding: 30px 50px;\n    &:after {\n      content: \"\";\n      display: table;\n      clear: both;\n    }\n`\n\nconst SelectImageInputContainer = styled.div`\n    position: relative;\n    width: 100px;\n    height: 40px;\n    margin-left: 20px;\n`\n\nconst SelectImageInput = styled.input`\n    z-index: 20;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    background: transparent;\n    position: absolute;\n    top: 0;\n    left: 0;\n    &:hover {\n        cursor: pointer;\n    }\n`\n\nconst SelectImageButton = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100px;\n    height: 40px;\n    border: 1px solid #006998;\n    color: #006998;\n    border-radius: 40px;\n    background: transparent;\n    font-size: 16px;\n    font-weight: 700;\n    &:hover {\n        transition: all 0.4s ease;\n        cursor: pointer;\n        color: white;\n        background-color: #006998;\n    }\n`\n\nconst SelectImageContainer = styled.div`\n    display: flex;\n    margin-bottom: 20px;\n    align-items: center;\n`\n\nconst RadarImage = styled.img`\n    width: 200px;\n    height: 200px;\n    border-radius: 50%;\n    object-fit: cover;\n    border: 1px solid transparent;\n`\n\nconst RadarTitleImage = styled.img`\n    height: 85px;\n    width: auto;\n    object-fit: contain;\n    border: 1px solid transparent;\n`\n\nconst RadarImageContainer = styled.div`\n    position: relative;\n    background-color: rgba(0,0,0, 0.1);\n`\n\nconst RadarImageCloseContainer = styled.div`\n    position: absolute;\n    top: -15px;\n    right: -15px;\n    border-radius: 50%;\n    background-color: #f1f3f3;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 30px;\n    height: 30px;\n    border: 1px solid gray;\n    &:hover {\n        cursor: pointer;\n    }\n`\n\nconst RadarImageClose = styled.i`\n    /*color: gray;*/\n    opacity: 0.7;\n`\n\nconst breakpoint = '767px'\nconst CustomHalfWidth = styled.div`\n@media (min-width: ${breakpoint}) {\n    width: 80%;\n    display: flex;\n    flex-direction: column;\n}\n`\nconst HalfWidth = styled.div`\n    @media (min-width: ${breakpoint}) {\n        width: 45%;\n        display: flex;\n        flex-direction: column;\n    }\n`\n\nconst SpaceBetween = styled.div`\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        flex-direction: row;\n    }\n`\n\nconst RatingGroupBtn = styled.div`\ndisplay: flex;\nflex-direction: column;\n\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n        justify-content: space-between;\n        // align-items: flex-start;\n        flex-direction: row;\n    }\n`\n\n\nconst Label = styled.label`\n    white-space: nowrap;\n`\n\nconst columnPadding = 10\nconst Columns = styled.div`\n    width: ${({ width }) => width ? width : 'auto'};\n    display: flex;\n    margin: 0 -${columnPadding}px 10px -${columnPadding}px;\n`\n\nconst Column = styled.div`\n    flex: 1 1 ${({ width }) => width ? width : '0%'};\n    padding: 0 ${columnPadding}px;\n`\nconst InformationIcon = styled(InfoCircle)`\n    background-color: ${props => props.background ? '#f1f3f3': 'white'};\n    color: black;\n    width: 18px;\n    height: 18px;\n    margin-top: 4px;\n    margin-left: 18px;\n    &:hover {\n        cursor: pointer;\n    }\n`\n\nconst DisplayFlex = styled.div`\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n    }\n`\n\nconst UpVotesWrapper = styled.div`\n    margin-top: 20px;\n    @media (min-width: ${breakpoint}) {\n        width: 100%;\n    }\n`\nconst HoverBox = styled.p`\n    display: flex;\n    flex-wrap: wrap;\n    width: fit-content;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    margin: auto; \n`\nconst HandleRatingsBtn = styled.button`\n&:hover {\n    background: #006998 !important;\n    color: white !important;\n}\n\nmargin-bottom: 10px;\n\n    \n`\n\nconst RatingHandleBtnGroup = styled.div`\ndisplay: flex;\nflex-direction: column;\n\n    @media (min-width: ${breakpoint}) {\n        width: 83%;\n        display: flex;\n        justify-content: space-between;\n        flex-direction: row;\n    }   \n\n`\n","import { connect } from 'react-redux'\nimport { compose, bindActionCreators } from 'redux'\nimport { createSelector } from 'reselect'\nimport { getCurrentLanguage } from '@sangre-fp/i18n'\nimport { isCollaborationToolsAllowed } from '../selectors'\nimport CreateRadarForm from '../components/CreateRadarForm'\nimport filter from 'lodash/filter'\nimport includes from 'lodash/includes'\nimport {\n    changeAddRadarFormVisibility,\n    changeRadarName,\n    changeMapIntro,\n    changeRadarLanguage,\n    changeAddRadarFormPage,\n    changePhenomenaSet,\n    changeHideUsersFromTrial,\n    changeRadarImage,\n    changeVotingOn,\n    changeRatingsOn,\n    changeRatingsSettings,\n    changeDiscussionOn,\n    changeCommentsOn,\n    changeLikingOn,\n    changeVotingUp,\n    createRadar,\n    changeRadarGroup,\n    updateRadar,\n    getRadarSets,\n    getUserGroups,\n    changeDisplayHaloWhenRating,\n    changeRadarTitleImage\n} from '../actions/radarSettings'\n\n\nconst getStateRadarSets = state => state.radarSets\n\n// sets for both languages have language set to 'und'\nconst LANGUAGE_UNDEFINED = 'und'\n\nconst getRadarSetsByLanguage = createSelector(\n    [getCurrentLanguage, getStateRadarSets],\n    (language, radarSets) => filter(\n        radarSets,\n        radarSet => includes([language, LANGUAGE_UNDEFINED], radarSet.language)\n    )\n)\n\nconst mapStateToProps = state => {\n    const {\n        radarSettings,\n        loading\n    } = state\n\n    const radarSets = getRadarSetsByLanguage(state)\n    return {\n        ...radarSettings,\n        radarSets,\n        loading,\n        isCollaborationToolsAllowed: isCollaborationToolsAllowed(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return bindActionCreators({\n        changeDisplayHaloWhenRating,\n        changeAddRadarFormVisibility,\n        changeRadarName,\n        changeMapIntro,\n        changeRadarLanguage,\n        changeAddRadarFormPage,\n        changePhenomenaSet,\n        changeHideUsersFromTrial,\n        changeRadarImage,\n        changeVotingOn,\n        changeRatingsOn,\n        changeRatingsSettings,\n        changeDiscussionOn,\n        changeCommentsOn,\n        changeLikingOn,\n        changeVotingUp,\n        createRadar,\n        changeRadarGroup,\n        updateRadar,\n        getUserGroups,\n        getRadarSets,\n        changeRadarTitleImage\n    }, dispatch)\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps)\n)(CreateRadarForm)\n","import { connect } from 'react-redux'\nimport { PhenomenaSelector } from '@sangre-fp/content-editor'\n\nexport default connect(\n    state => {\n        const {\n            phenomena,\n            radarSettings: {\n                group\n            }\n        } = state\n\n        return {\n            phenomena,\n            group\n        }\n    }\n)(PhenomenaSelector)\n","import React, { PureComponent } from 'react'\nimport * as d3 from 'd3'\nimport Draggable from 'react-draggable'\nimport PhenomenaSelector from '../containers/SandboxPhenomenaSelectorContainer'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { ListContainer, modalStyles, ListClose, CloseIcon, BorderTitleContainer as Container, Modal } from '@sangre-fp/ui'\nimport { PhenomenonEditForm } from \"@sangre-fp/content-editor\"\n\nexport default class AddPhenomenaSandbox extends PureComponent {\n    state = {\n        createModalShown: false,\n        filtersShown: false,\n        resetFilters: 0\n    }\n\n    componentDidMount() {\n        const { updateMouseCoords } = this.props\n        const sandbox = d3.select('.add-phenomena-to-radar')\n\n        sandbox\n            .on('mousemove', updateMouseCoords)\n            .on('touchstart', updateMouseCoords)\n            .on('touchmove', updateMouseCoords)\n    }\n\n    successfullyCreatedCallback = phenomenon => {\n        const { onPhenomenaDrag } = this.props\n\n        onPhenomenaDrag(false, phenomenon, true)\n    }\n\n    handlePhenomenaSelection = selectedPhenomena => this.setState({ selectedPhenomena })\n    handleCreateNew = () => this.setState({ createModalShown: true })\n\n    handleAdd = phenomenon => {\n        const { addPublicPhenomenaToRadar } = this.props\n\n        addPublicPhenomenaToRadar(phenomenon, this.successfullyCreatedCallback)\n    }\n\n    hideAddForm = () => this.setState({ createModalShown: false })\n    bumpResetFilters = () => this.setState({ resetFilters: this.state.resetFilters + 1 })\n\n    renderCreateModal() {\n        const {\n            changeAddPhenomenaVisibility,\n            storePhenomenon,\n            onPhenomenaDrag,\n            radar\n        } = this.props\n\n        const { createModalShown } = this.state\n\n        return (\n            <Modal isOpen={createModalShown}\n                   contentLabel={'Create phenomena'}\n                   style={modalStyles}\n                   ariaHideApp={false}\n                   onRequestClose={this.hideAddForm}\n            >\n                <PhenomenonEditForm\n                    onSubmit={(values, newsFeedChanges) => {\n                        storePhenomenon(values, newsFeedChanges, phenomenon => {\n                            this.hideAddForm()\n                            changeAddPhenomenaVisibility()\n                            onPhenomenaDrag(false, phenomenon, true)\n                        })\n                    }}\n                    onCancel={this.hideAddForm}\n                    onDelete={() => {}}\n                    radar={radar}\n                />\n            </Modal>\n        )\n    }\n\n    render() {\n        const {\n            changeAddPhenomenaVisibility,\n            radarId,\n            language,\n            placing\n        } = this.props\n        const {\n            selectedPhenomena,\n            filtersShown,\n            resetFilters\n        } = this.state\n\n        return (\n            <Draggable handle=\".handle\">\n                <ListContainer\n                    className={'add-phenomena-to-radar'}\n                    style={{\n                        zIndex: placing ? 0 : 1,\n                        opacity: placing ? 0.8 : 1\n                    }}\n                >\n                    <Container className='flex-shrink-0 handle' style={{ cursor: 'move' }}>\n                        <h3 className='radar-widget-title mb-0'>\n                            {requestTranslation('sandboxTitle')}\n                        </h3>\n                    </Container>\n                    <ListClose onClick={changeAddPhenomenaVisibility}>\n                        <CloseIcon className='material-icons'>close</CloseIcon>\n                    </ListClose>\n                    <Container className={'phenomena-list-container'} filtersShown={filtersShown}>\n                        <PhenomenaSelector\n                            radarId={radarId}\n                            language={language}\n                            onSelect={this.handlePhenomenaSelection}\n                            onCreate={this.handleCreateNew}\n                            selectedPhenomena={selectedPhenomena}\n                            onAddToRadarClick={this.handleAdd}\n                            sandbox\n                            filter\n                            filtersShown={filtersShown}\n                            handleFilterChange={() => this.setState({ filtersShown: !filtersShown })}\n                            resetFilters={resetFilters}\n                            bumpResetFilters={this.bumpResetFilters}\n                        />\n                    </Container>\n                    {filtersShown ? (\n                        <Container filtersShown={filtersShown}>\n                            <button className='btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center' onClick={this.bumpResetFilters}>\n                                <i className='material-icons mr-1' style={{ fontSize: '16px' }}>replay</i>\n                                {requestTranslation('resetFilters')}\n                            </button>\n                        </Container>\n                    ) : (\n                        <Container className='d-flex flex-shrink-0'>\n                            <button\n                              onClick={this.handleCreateNew}\n                              className='btn btn-outline-secondary'\n                            >\n                              {requestTranslation(\"addNewPhenomena\")}\n                            </button>\n                            <button className='btn btn-primary ml-auto'\n                                    onClick={changeAddPhenomenaVisibility}>\n                                {requestTranslation('done')}\n                            </button>\n                        </Container>\n                    )}\n                    {this.renderCreateModal()}\n                </ListContainer>\n            </Draggable>\n        )\n    }\n}\n","import 'proxy-polyfill'\nimport radarDataApi from '@sangre-fp/connectors/radar-data-api'\nimport store from './configureStore'\nimport { updateRadarVersion } from './actions/radarData'\n\nconst handler = {\n  get(radarApi, name) {\n    return (...args) => {\n      if (!radarApi.hasOwnProperty(name)) {\n        throw new Error('Invalid call')\n      }\n\n      return radarApi[name](...args)\n        .then(res => {\n          store.dispatch(updateRadarVersion(res.data.radar_version))\n\n          return res.data\n        })\n    }\n  }\n}\n\nconst radarDataApiProxy = new Proxy(radarDataApi, handler)\n\nexport default radarDataApiProxy\n\n","import { getNetworkMethods } from './network'\nimport drupalApi from '@sangre-fp/connectors/drupal-api'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nexport const getPhenomenaTypes = groupId => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.GET_PHENOMENA_TYPES,\n        actionTypes.GET_PHENOMENA_TYPES_SUCCESS,\n        requestTranslation('fetchingPhenomenaTypesError')\n    )\n\n    dispatch(loading())\n\n    return drupalApi.getPhenomenaTypes(groupId)\n        .then(data => dispatch(success(data)))\n        .catch(err => dispatch(error(err)))\n}\n","import PptxGenJS from 'pptxgenjs'\nimport { requestTranslation as tr } from '@sangre-fp/i18n'\nimport radarDataApi from '@sangre-fp/connectors/radar-data-api'\nimport { getPhenomenaTypes, getRadar } from '@sangre-fp/connectors/drupal-api'\nimport { getUsername } from '@sangre-fp/connectors/session'\nimport htmlToText from 'html-to-text'\nimport { getRadarPhenomena } from '@sangre-fp/connectors/phenomena-api'\nimport { get } from 'lodash'\nimport { screenshot } from '@sangre-fp/connectors/screenshot-service-api'\nexport default async function generatePPTX(radarId, groupId) {\n  const pptx = new PptxGenJS()\n  const username = getUsername()\n  const reportCreatedDate = new Date()\n  const createdDate = reportCreatedDate.toLocaleDateString()\n  const phenomenonTypes = await getPhenomenaTypes(groupId)\n  const phenomenonTypeTitlesById = phenomenonTypes.reduce((obj, { id, title }) => ({ ...obj, [id]: title }), {})\n  const { radarName, results_url: radarResultsUrl, url: radarUrl, phenomena: radarPhenomenaDataById, axisXTitle, axisYTitle, comment_count, ratingsOn, votingOn, discussionOn, commentsOn } = await getRadar(radarId)\n  const { data: { sectors } } = await radarDataApi.getRadar(radarId)\n  const { phenomena: radarPhenomena } = await getRadarPhenomena(radarId, groupId)\n  let phenomena = radarPhenomena.map(p => ({ ...radarPhenomenaDataById[p.id], ...p })).sort(({ time: aTime }, { time: bTime }) => aTime - bTime)\n  pptx.defineLayout({ name: 'FP', width: 13.33, height: 7.5 });\n  pptx.layout = 'FP';\n  pptx.defineSlideMaster({\n    title: \"FP_SLIDE\",\n    // slideNumber: { x: 10, y: 7.8, color: '000000' },\n    objects: [\n      {\n        image: {\n          x: 0.37,\n          y: 7.02,\n          w: 2.17,\n          h: 0.32,\n          data: getFuturesPlatformLogo()\n        },\n      },\n      {\n        text: {\n          text: `${createdDate}  ${tr('pptxReportBy')} ${username}`, options: { x: 4, y: 7.04, w: 9.0, h: 0.3, fontSize:12, align: 'right' }\n        }\n      }\n    ]\n  })\n\n  function addHeading(txt, slide) {\n    slide.addText(txt, { x: 0.4, y: 0.4, fontSize: 18, valign: \"top\", w: 12, h: 0.4 })\n  }\n\n  function addTitle(txt, slide) {\n    slide.addText(txt, { x: 0.4, y: 0.68, fontSize: 25, color: '44546a', bold: true, valign: \"top\", w: 12, h: 0.5 })\n  }\n\n  function addSlide(opts = {}) {\n    return pptx.addSlide(Object.assign({\n      masterName: \"FP_SLIDE\",\n      fontFace: 'Arial',\n      fontSize: 12\n    }, opts))\n  }\n\n  function addCoverSlide() {\n    const slide = addSlide({\n      masterName: undefined\n    })\n    // Radar Title\n    slide.addText(radarName, { x: 0.16, y: 2.57, w: 13, h: 1.63, autoShrink: true, align: 'center', bold: true, fontSize: 50 })\n    // Content Summary Text\n    slide.addText([\n      { text: `${tr('pptxReportTitle')} `, options: { bold: true, breakLine: false } },\n      { text: createdDate, options: { breakLine: false } },\n      { text: ` ${tr('pptxReportBy')} `, options: { bold: true, breakLine: false } },\n      { text: username, options: { breakLine: false } },\n    ], { x: 0.16, y: 4.24, w: 13, h: 2, fontSize: 20, align: 'center', color: '44546a' })\n    slide.addImage({\n      x: 4.7,\n      y: 6.5,\n      w: 3.92,\n      h: 0.59,\n      data: getFuturesPlatformLogo()\n    })\n  }\n\n  async function addPreviewSlide() {\n    const slide = addSlide({ masterName: undefined })\n    try {\n      const { data } = await screenshot({ url: radarUrl, waitFor: 5000 })\n      slide.addImage({\n        data: `image/png;base64,${data}`,\n        x: 0,\n        y: 0,\n        w: 13.33,\n        h: 7.5\n      })\n    } catch (err) {\n      console.error('radar preview screenshot failed')\n    }\n  }\n\n  function addSectorsSlide() {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxSectorListTitle'), slide)\n    slide.addText(sectors.map(({title}) => ({\n      text: title, options: { bullet: true }\n    })), { x: 0.4, y: 1.2, fontSize: 15, lineSpacing: 25, valign:\"top\", w: 12, h: 5 })\n  }\n\n  function addSectorSummarySlide({ title, notes }) {\n    const slide = addSlide()\n    addHeading(tr('pptxSector').toUpperCase(), slide)\n    addTitle(title, slide)\n    slide.addText(toText(notes), { x: 0.4, y: 1.2, w: 11.5, h: 6, fontSize: 12, isTextBox: true, shrinkText: true, valign: 'top' })\n  }\n\n  function addSectorContent(id, title, phenomena) {\n    const slide = addSlide()\n    addHeading(tr('pptxSectorContent').toUpperCase(), slide)\n    addTitle(title, slide)\n    let xOffset = 0\n    // TODO: Replace time with crowdsourced\n    phenomena.forEach(({ content: { short_title, type, summary, time_range }, time }) => {\n      const yearMin = time_range?.min\n      const yearMax = time_range?.max\n      let timeRangeStr = ''\n      if (yearMin || yearMax) {\n        timeRangeStr = `${yearMin}-${yearMax}`\n      }\n\n      slide.addText(short_title, { x: 0.4 + xOffset, y: 1.2, w: 3.9, h: 0.3, isTextBox: true, shrinkText: true, bold: true, fontSize: 15 })\n      slide.addText(`${phenomenonTypeTitlesById[type]} ${timeRangeStr}`, { x: 0.4 + xOffset, y: 1.4, w: 3.9, h: 0.3, shrinkText: true, fontSize: 10 })\n      slide.addText(`${tr('pptxTimestamp')}: ${Math.trunc(time) || '-'}`, { x: 0.4 + xOffset, y: 1.6, w: 3.9,  h: 0.3, shrinkText: true, fontSize: 10 })\n      slide.addText(toText(summary), { x: 0.4 + xOffset, y: 1.9, w: 3.9, h: 5, isTextBox: true, shrinkText: true, valign: 'top', fontSize: 12 })\n      xOffset += 4\n    })\n\n  }\n\n  function addTopVotedContentSlide(phenomena, pageNum, totalCount) {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxTopVotedContent'), slide)\n    const rows = phenomena.map(({ content: { short_title, type }, vote_sum }) => (\n      [\n        { text: short_title, options: { bold: true } },\n        { text: `${phenomenonTypeTitlesById[type]}` },\n        { text: typeof vote_sum === 'number' ? vote_sum : '-' }\n      ]\n    ))\n    slide.addTable(rows, { x: 0.5, y: 1.3, w: 12, h: 5, colW: [8, 1.5, 1.5], valign: 'top' })\n  }\n\n  async function addRatedContentImageSlide() {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxRatedContent'), slide)\n\n    try {\n      const { data } = await screenshot({ waitFor: 5000, url: `${radarResultsUrl}?tab=1`, selector: 'div.rating-results-diagram' })\n      slide.addImage({\n        data: `image/png;base64,${data}`,\n        x: 0.4,\n        y: 1.4,\n        w: 7.1,\n        h: 5.3\n      })\n    } catch (err) {\n      console.error('rating results diagram screenshot failed')\n    }\n  }\n\n  function addRatedContentAxisSlide(xPhenomena, yPhenomena) {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxRatedContent'), slide)\n\n    let xOffset = 0.4;\n    [xPhenomena, yPhenomena].forEach(({ title, axis, phenomena }) => {\n      slide.addText(title, { x: xOffset, y: 1.4, fontSize: 18, w: 13, h: 0.35, bold: true })\n      const rows = phenomena.map(({ content: { short_title, type }, rating_avg }) => {\n        return [\n          { text: short_title, options: { bold: true } },\n          { text: `${phenomenonTypeTitlesById[type]}` },\n          { text: rating_avg && typeof rating_avg[axis] === 'number' ? (rating_avg[axis] / 100).toFixed(2) : '-' }\n        ]\n\n        }\n      )\n      if (rows.length > 0) {\n        slide.addTable(rows, { x: xOffset, y: 2, w: 5.5, h: 4.7, colW: [3.5, 1.5, 0.5], valign: 'top' })\n      }\n      xOffset += 6.8\n    })\n  }\n\n  function addCommentSummarySlide() {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxCommentsTitle'), slide)\n\n    slide.addText([\n      {text: tr('pptxCommentsText', comment_count) , options: { breakLine: false }},\n      {text: `${radarResultsUrl}?tab=2`, options: { hyperlink: {url: `${radarResultsUrl}?tab=2` }}}\n    ], { x: 0.4, y: 2 })\n  }\n\n  addCoverSlide()\n  await addPreviewSlide()\n\n  // Sectors\n  addSectorsSlide()\n  sectors.forEach(function (sector) {\n    addSectorSummarySlide(sector)\n    let sectorPhenomena = phenomena.filter(({ sectorId }) => sectorId === sector.id)\n    do {\n      addSectorContent(sector.id, sector.title, sectorPhenomena.splice(0, 3))\n    } while (sectorPhenomena.length > 0)\n  })\n\n  // Top Voted Phenomena\n  if (votingOn) {\n    const sortedPhenomena = [...phenomena].sort(({ vote_sum: aVoteSum = -1000000, time: aTimestamp }, { vote_sum: bVoteSum = -1000000, time: bTimestamp }) => {\n      if (aVoteSum === bVoteSum) {\n        return aTimestamp-bTimestamp\n      }\n      return bVoteSum-aVoteSum\n    })\n\n    const topVotedPageCount = Math.ceil(sortedPhenomena.length % 15)\n    let topVotedPageNum = 1\n    do {\n      addTopVotedContentSlide(sortedPhenomena.splice(0, 15), topVotedPageCount, topVotedPageNum++, topVotedPageCount)\n    } while (sortedPhenomena.length > 0)\n  }\n\n  // Content Rating\n  if (ratingsOn) {\n    await addRatedContentImageSlide()\n\n    const axisPhenomena = ['x', 'y'].map(axis => [...phenomena].sort(({ rating_avg: aRatingAvg }, { rating_avg: bRatingAvg }) => {\n      let aAvg = get(aRatingAvg, axis, -10000000)\n      let bAvg = get(bRatingAvg, axis, -10000000)\n      return bAvg-aAvg\n    }))\n    let xPhenomena = axisPhenomena[0] || []\n    let yPhenomena = axisPhenomena[1] || []\n    do {\n      addRatedContentAxisSlide({ title: axisXTitle, axis: 'x', phenomena: xPhenomena.length > 0 ? xPhenomena.splice(0, 14) : [] }, { title: axisYTitle, axis: 'y', phenomena: yPhenomena.length > 0 ? yPhenomena.splice(0, 14) : [] })\n    } while (xPhenomena.length > 0 || yPhenomena.length > 0)\n  }\n\n  if (discussionOn || commentsOn) {\n    // Comment Summary Slide\n    addCommentSummarySlide()\n  }\n  return pptx.writeFile(radarName.replace(/(\\W+)/gi, '-'));\n}\n\nfunction toText(html) {\n  return htmlToText.fromString(html, { wordwrap: false, ignoreImage: true, singleNewLineParagraphs: false }).replace(\"\\r\", '').replace(/\\n\\n+/g, \"\\n\\n\")\n}\n\nfunction getFuturesPlatformLogo() {\n  return 'image/wmf;base64,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DAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAogwAALEDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAogyxA1gAAAA0AAAAAAAAAAAAAAD//////////wYAAACiDHIEIwy2BJULtgQIC7YEiQpyBIkKsQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAiQogAhYLIAIWC6YDWAAAADQAAAAAAAAAAAAAAP//////////BgAAABYLEwROCzkElQs5BN0LOQQVDBMEFQymA1kAAAAoAAAAAAAAAAAAAAD//////////wMAAAAVDCACogwgAqIMsQM9AAAACAAAADwAAAAIAAAAPgAAABgAAAAZAQAAOQAAAFEBAAB+AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAEMOAACcAgAAWQAAAEAAAAAAAAAAAAAAAP//////////CQAAAEMOnAJDDqkEtg2pBLYNnAI3DZwCNw0gAsMOIALDDpwCQw6cAj0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAGABAAA5AAAAigEAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAcREAALEDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAcRGxA1gAAAA0AAAAAAAAAAAAAAD//////////wYAAABxEXIE8hC2BGQQtgTXD7YEWA9yBFgPsQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAWA8gAuUPIALlD6YDWAAAADQAAAAAAAAAAAAAAP//////////BgAAAOUPEwQdEDkEZBA5BKwQOQTkEBME5BCmA1kAAAAoAAAAAAAAAAAAAAD//////////wMAAADkECACcREgAnERsQM9AAAACAAAADwAAAAIAAAAPgAAABgAAACZAQAAOQAAANEBAAB+AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAAETAAA8AwAAWQAAACAAAAAAAAAAAAAAAP//////////AQAAAAETPANYAAAANAAAAAAAAAAAAAAA//////////8GAAAATRM8A2gTFQNoE+wCaBPCAk0TmwIBE5sCWQAAACgAAAAAAAAAAAAAAP//////////AwAAAMYSmwLGEjwDARM8Az0AAAAIAAAAGwAAABAAAADJEgAAuAMAAFkAAAA0AAAAAAAAAAAAAAD//////////wYAAADJErgDxhK4A8YSqQQ5EqkEORIgAg0TIAJYAAAANAAAAAAAAAAAAAAA//////////8GAAAAthMgAvcTiQL3E+wC9xM4A9ATiANxE6kDWQAAACgAAAAAAAAAAAAAAP//////////AwAAAE4UqQSTE6kEyRK4Az0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAOYBAAA5AAAAHgIAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAZxUAAJwCAABZAAAAUAAAAAAAAAAAAAAA//////////8NAAAAZxWcAmcVGQMoFhkDKBaTA2cVkwNnFSwEOBYsBDgWqQTZFKkE2RQgAjgWIAI4FpwCZxWcAj0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAACwCAAA5AAAAUQIAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAkhgAAIQCAABZAAAAJAAAAAAAAAAAAAAA//////////8CAAAAkhiEAjkY2QJYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAIBi+AvoXkAK1F5AChheQAm4XpgJuF8QCbhfjAokX8wKsFwYDWQAAACAAAAAAAAAAAAAAAP//////////AQAAABcYPQNYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAYhhkA5QYpwOUGPcDlBheBEIYtgS5F7YEIRe2BM4WSAS+FicEWQAAACAAAAAAAAAAAAAAAP//////////AQAAABgX0ANYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAKhfxA2kXOQS4FzkE7Bc5BAkYGwQJGPcDCRjRA+gXuAOrF5gDWQAAACAAAAAAAAAAAAAAAP//////////AQAAAGAXcQNYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAERdHA+EWEwPhFscC4RZdAj8XEwK1FxMCIxgTAmQYUgKSGIQCPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAXwIAADcAAACQAgAAfgAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAADcGgAAPAMAAFkAAAAkAAAAAAAAAAAAAAD//////////wIAAADcGjwDFxs8A1gAAAA0AAAAAAAAAAAAAAD//////////wYAAABjGzwDfhsVA34b7AJ+G8ICYxubAhcbmwJZAAAAJAAAAAAAAAAAAAAA//////////8CAAAA3BqbAtwaPAM9AAAACAAAABsAAAAQAAAAIxsAACACAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAIxsgAlgAAAA0AAAAAAAAAAAAAAD//////////wYAAADMGyACDRyJAg0c7AINHE4DzBu4AyMbuANZAAAAMAAAAAAAAAAAAAAA//////////8FAAAA3Bq4A9waqQRPGqkETxogAiMbIAI9AAAACAAAADwAAAAIAAAAPgAAABgAAAC+AgAAOQAAAOwCAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAALgdAAAsBAAAWQAAADgAAAAAAAAAAAAAAP//////////BwAAALgdLAS4HakEhRypBIUcIAITHSACEx0sBLgdLAQ9AAAACAAAADwAAAAIAAAAPgAAABgAAAD5AgAAOQAAABkDAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAFsfAAAUAwAAWQAAACwAAAAAAAAAAAAAAP//////////BAAAAFsfFAMcH9sDmB/bA1sfFAM9AAAACAAAABsAAAAQAAAA+B4AAFAEAABZAAAAQAAAAAAAAAAAAAAA//////////8JAAAA+B5QBNweqQRSHqkEHh8gApYfIAJjIKkE2B+pBLwfUAT4HlAEPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAKQMAADkAAABgAwAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAACsIQAAnAIAAFkAAABAAAAAAAAAAAAAAAD//////////wkAAACsIZwCrCGpBB8hqQQfIZwCnyCcAp8gIAIrIiACKyKcAqwhnAI9AAAACAAAADwAAAAIAAAAPgAAABgAAABmAwAAOQAAAI8DAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAFIjAACcAgAAWQAAAEgAAAAAAAAAAAAAAP//////////CwAAAFIjnAJSIxgDEyQYAxMkkgNSI5IDUiOpBMUiqQTFIiACIyQgAiMknAJSI5wCPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAnwMAADkAAADEAwAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAAAsJQAAZAMAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAAAsJWQDWAAAAEwAAAAAAAAAAAAAAP//////////DAAAACwl5ANqJTgE2CU4BEYmOASEJuQDhCZkA4Qm5AJGJpAC2CWQAmolkAIsJeQCLCVkAz0AAAAIAAAAGwAAABAAAAASJwAAZAMAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAAASJ2QDWAAAAEwAAAAAAAAAAAAAAP//////////DAAAABInKASLJrYE2CW2BCYltgSfJCgEnyRkA58koQImJRMC2CUTAosmEwISJ6ECEidkAz0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAANEDAAA3AAAAEgQAAH4AAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAVygAADwDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAVyg8A1gAAAA0AAAAAAAAAAAAAAD//////////wYAAACjKDwDvigVA74o7AK+KMICoyibAlcomwJZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAHCibAhwoPANXKDwDPQAAAAgAAAAbAAAAEAAAAB8oAAC4AwAAWQAAADQAAAAAAAAAAAAAAP//////////BgAAAB8ouAMcKLgDHCipBI8nqQSPJyACYyggAlgAAAA0AAAAAAAAAAAAAAD//////////wYAAAAMKSACTSmJAk0p7AJNKTgDJimIA8coqQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAApCmpBOkoqQQfKLgDPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAHwQAADkAAABXBAAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAAACLAAAqQQAAFkAAABUAAAAAAAAAAAAAAD//////////w4AAAACLKkEAizfAoUr9wMUK/cDmCrfApgqqQQKKqkECiogAs4qIAJMK0ED1SsgAo8sIAKPLKkEAiypBD0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAGEEAAA5AAAAowQAAHwAAAAlAAAADAAAAAAAAIAoAAAADAAAAAEAAAAnAAAAGAAAAAEAAAAAAAAAAGmYAAAAAAAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAqgYAAFQDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAqgZUA1gAAABMAAAAAAAAAAAAAAD//////////wwAAACqBiwFKwWqBlIDqgZ5AaoG+/8sBfv/VAP7/30BeQEAAFIDAAArBQAAqgZ9AaoGVAM9AAAACAAAADwAAAAIAAAAPgAAABgAAAAAAAAAAAAAALIAAACyAAAAJQAAAAwAAAAAAACAKAAAAAwAAAABAAAAJwAAABgAAAABAAAAAAAAAP///wAAAAAAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAKsEAAAkBAAAWQAAACAAAAAAAAAAAAAAAP//////////AQAAAKsEJARYAAAATAAAAAAAAAAAAAAA//////////8MAAAAuwQYBNQEJgTfBDcE6QRFBO4EYATWBHAExwR5BLMEeQSmBG4EjwRaBJgEMgSrBCQEPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAegAAAG0AAACEAAAAdwAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAADCAwAAgAQAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAADCA4AEWAAAAGQAAAAAAAAAAAAAAP//////////EgAAAHoDfgRtA8wDbgMmA28DdQKHAysCtgMRAtgD/gFLBAUCUQQGAu4EEAIrBXkCKwXbAisFnQO7BK0DWwTpAw4EGgQKBIAEwgOABD0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAFsAAAA1AAAAigAAAHgAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAALQMAAEsCAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAALQNLAlgAAACgAAAAAAAAAAAAAAD//////////yEAAAAsAxUCBgMMAtoCCAKyAgQCOQICAgACCgKyARcCpwGbAqUBLAOiAc4DrwF8BPYBgAT2AYAE9wGABPcBgAQPAoEEIAJ2BC4CZgRDAk4EUQIrBGgCDgSSAtoDrwLNA9sCpwMfA20D/QImA/4C8AL/AsgCDAOuAhIDogIlA3sCLQNiAi0DSwI9AAAACAAAADwAAAAIAAAAPgAAABgAAAAsAAAANgAAAFUAAAB4AAAAJQAAAAwAAAAAAACAOwAAAAgAAAAbAAAAEAAAAAAAAAAAAAAAWQAAACwAAAAAAAAAAAAAAP//////////BAAAAAAAAAAAALQGiSy0BoksAAA8AAAACAAAAEMAAAAMAAAABQAAACgAAAAMAAAAAQAAAA4AAAAUAAAAAAAAABAAAAAUAAAA'\n}","import _ from 'lodash'\n\nimport { loadingError, getNetworkMethods } from './network'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport drupalApi from '@sangre-fp/connectors/drupal-api'\nimport radarDataApi from '../radarDataApiProxy'\nimport { PUBLIC_URL } from '../env'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport {\n    getRadarPhenomena, NEWSFEED_ERROR,\n    NEWSFEED_ERROR_PARTIAL,\n    storePhenomenonWithNewsFeeds\n} from '@sangre-fp/connectors/phenomena-api'\nimport { handleImageUploadIfNeeded } from '@sangre-fp/connectors/media-api'\nimport { getPhenomenaTypes } from './phenomenaTypes'\nimport generatePPTX from '../pptx-generator'\n\nexport const updateRadarVersion = version => ({\n    type: actionTypes.UPDATE_RADAR_VERSION,\n    payload: version\n})\n\nexport function preloadImages (imageSources) {\n    imageSources\n        .forEach(i => {\n        const linkEl = document.createElement('link');\n        linkEl.setAttribute('rel', 'preload');\n        linkEl.setAttribute('href', i);\n        linkEl.setAttribute('as', 'image');\n        document.head.appendChild(linkEl);\n        });\n    }\n\nexport const fetchRadar = () => async (dispatch, getState) => {\n    const id = getState().radarSettings.id\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.FETCH_RADAR,\n        actionTypes.FETCH_RADAR_SUCCESS,\n        requestTranslation('fetchingRadarError')\n    )\n\n    dispatch(loading())\n\n    try {\n        const radarData = await drupalApi.getRadar(id)\n\n        const img = new Image();\n        img.onload = async () => {\n            \n        }\n        preloadImages([`${PUBLIC_URL}${radarData?.radarImage}`])\n        img.src = radarData?.radarImage // by setting an src, you trigger browser download\n        const phenomenaData = await getRadarPhenomena(id, radarData.group.id)\n\n            Object.values(phenomenaData.phenomena).forEach(res => {\n                res.halo = _.get(radarData.phenomena[res.id], 'halo', false)\n                res.speech_bubble = _.get(radarData.phenomena[res.id], 'speech_bubble', false)\n            })\n\n            const result = { ...radarData, ...phenomenaData }\n\n            dispatch(getPhenomenaTypes(radarData.group.id)).then(() => dispatch(success(result)))\n    } catch (err) {\n        dispatch(error(err))\n    }\n}\n\nexport const refetchRadarData = () => async (dispatch, getState) => {\n    const radarId = getState().radarSettings.id\n    const groupId = getState().radarSettings.group.id\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.REFETCH_DATA,\n        actionTypes.REFETCH_DATA_SUCCESS,\n        requestTranslation('refetchingPhenomenaError')\n    )\n\n    dispatch(loading())\n\n    try {\n        const result = await getRadarPhenomena(radarId, groupId)\n\n        dispatch(success(result))\n    } catch (err) {\n        dispatch(error(err))\n    }\n}\n\nexport const deleteRadarPhenomenon = (phenomenon, callback) => (dispatch, getState) => {\n    const { time, version, id } = phenomenon\n    const radarId = getState().radarSettings.id\n\n    if (!time) {\n        if (callback) {\n            callback()\n        }\n\n        return dispatch({ type: actionTypes.DELETE_PHENOMENA_SUCCESS, payload: phenomenon })\n    }\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.DELETE_PHENOMENA,\n        actionTypes.DELETE_PHENOMENA_SUCCESS,\n        requestTranslation('deletingPhenomenaError')\n    )\n\n    dispatch(loading())\n\n    const data = {\n        version,\n        phenomenon_uuid: id\n    }\n\n    return radarDataApi.deletePhenomenon(radarId, data)\n        .then(() => {\n            dispatch(success(phenomenon))\n            if (callback) {\n                callback()\n            }\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const updatePhenomenonPosition = phenomenon => ({\n    type: actionTypes.UPDATE_PHENOMENON,\n    payload: phenomenon\n})\n\nexport const updatePhenomenonVersion = phenomenon => ({\n    type: actionTypes.UPDATE_PHENOMENON_VERSION,\n    payload: phenomenon\n})\n\nconst phenomenaApiErrorHandler = (error, errorFunc, dispatch) => {\n    switch (error.response.data.error_code) {\n        case 'outdated-version':\n            dispatch(errorFunc(new Error('Outdated version'), requestTranslation('outDatedVersionError')))\n            break\n        case 'resource-not-found':\n            dispatch(errorFunc(new Error('Not found'), requestTranslation('phenomenaNotFound')))\n            break\n        case 'already-exists':\n            dispatch(errorFunc(new Error('Already exists'), requestTranslation('phenomenaExists')))\n            break\n        case 'invalid-input':\n            dispatch(errorFunc(new Error('Invalid input'), requestTranslation('phenomenaInvalid')))\n            break\n        default:\n            dispatch(errorFunc(error))\n            break\n    }\n}\n\nexport const storePhenomenon = (phenomenon, newsFeedChanges, callback, archived = false) => async (dispatch) => {\n    let {\n        group,\n        _upload: {\n          imageFile,\n          imageUrl,\n          // image // Contains image data url\n        } = {},\n        ...rest\n    } = phenomenon\n\n    const { loading, success, error } = phenomenon.id\n        ? getNetworkMethods(\n            actionTypes.UPDATE_PHENOMENON_INGESTION,\n            actionTypes.UPDATE_PHENOMENON_INGESTION_SUCCESS,\n            requestTranslation('updatingPhenomenaError')\n        ) : getNetworkMethods(\n            actionTypes.CREATE_PHENOMENA,\n            actionTypes.CREATE_PHENOMENA_SUCCESS,\n            requestTranslation('creatingPhenomenaError')\n        )\n\n    dispatch(loading())\n\n    const phenomenonInput = {\n        ...rest,\n        archived,\n        group,\n    }\n\n    phenomenonInput.content.media.image = await handleImageUploadIfNeeded(imageFile || imageUrl, group) || ''\n\n\n    try {\n        const { storedPhenomenon, status, failedNewsFeedTitles } = await storePhenomenonWithNewsFeeds(phenomenonInput, newsFeedChanges)\n\n        if (status === NEWSFEED_ERROR_PARTIAL) {\n            dispatch(error(new Error('News feed error'), requestTranslation('someNewsFeedCreationError', failedNewsFeedTitles)))\n        } else if (status === NEWSFEED_ERROR) {\n            dispatch(error(new Error('News feed error'), requestTranslation(phenomenon.id ? 'newsFeedUpdateError' : 'newsFeedCreationError')))\n        } else {\n            dispatch(success(storedPhenomenon))\n            callback(storedPhenomenon)\n        }\n    } catch (e) {\n        dispatch(error(e))\n    }\n}\n\nexport const updatePhenomenon = (phenomenon, positionData) => (dispatch, getState) => {\n    dispatch(updatePhenomenonPosition({ ...phenomenon, ...positionData }))\n\n    const radarId = getState().radarSettings.id\n    const { id } = phenomenon\n    const updatedPhenomenon = _.find(getState().phenomena, { id })\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.UPDATE_PHENOMENON_ASYNC,\n        actionTypes.UPDATE_PHENOMENON_ASYNC_SUCCESS,\n        requestTranslation('updatingPhenomenaError')\n    )\n\n    const { sectorId, time, xOffset, version } = updatedPhenomenon\n\n    const data = {\n        sectorId,\n        time,\n        xOffset,\n        id,\n        version\n    }\n\n    dispatch(loading())\n\n    return radarDataApi.updatePhenomenon(radarId, data)\n        .then(response => {\n            dispatch(updatePhenomenonVersion(response.phenomenon))\n\n            dispatch(success())\n        })\n        .catch(err => {\n            phenomenaApiErrorHandler(err, error, dispatch)\n\n            return dispatch(refetchRadarData())\n        })\n}\n\nexport const createPhenomenonWithPosition = (phenomenon, positionData) => (dispatch, getState) => {\n    dispatch(updatePhenomenonPosition({ ...phenomenon, ...positionData }))\n\n    const { id } = phenomenon\n\n    const updatedPhenomenon = _.find(getState().phenomena, { id })\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.CREATE_PHENOMENA_POSITION,\n        actionTypes.CREATE_PHENOMENA_POSITION_SUCCESS,\n        requestTranslation('settingPhenomenaError')\n    )\n\n    const radarId = getState().radarSettings.id\n\n    const { sectorId, time, xOffset } = updatedPhenomenon\n\n    dispatch(loading())\n\n    const data = {\n        radarId,\n        id,\n        sectorId,\n        time,\n        xOffset\n    }\n\n    radarDataApi.createPhenomenon(Number(radarId), data)\n        .then(resultData => dispatch(success(resultData.phenomenon)))\n        .catch(err => {\n            phenomenaApiErrorHandler(err, error, dispatch)\n\n            return dispatch(refetchRadarData())\n        })\n}\n\nexport const setDraggedPhenomenon = id => dispatch =>\n    dispatch({ type: actionTypes.SET_DRAGGED_PHENOMENON, payload: id })\n\n\nexport const cloneRadar = callback => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.CLONE_RADAR,\n        actionTypes.CLONE_RADAR_SUCCESS,\n        requestTranslation('cloningRadarError')\n    )\n\n    const parentRadarId = getState().radarSettings.id\n\n    dispatch(loading())\n\n    drupalApi.cloneRadar(parentRadarId)\n        .then(radarData => {\n            dispatch(success(radarData))\n            callback(`${PUBLIC_URL}/radar?node=${radarData.id}`)\n        })\n        .catch(err => {\n            if (err && err.response && err.response.status === 400) {\n                dispatch(loadingError(\n                    actionTypes.CLONE_RADAR,\n                    err,\n                    '',\n                    requestTranslation('licenseError'))\n                )\n            } else {\n                dispatch(error(err))\n            }\n        })\n}\n\nexport const deleteRadar = () => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.DELETING_RADAR,\n        actionTypes.DELETING_RADAR_SUCCESS,\n        requestTranslation('deletingRadarError')\n    )\n\n    dispatch(loading())\n\n    return drupalApi.deleteRadar(getState().radarSettings.id)\n        .then(() => {\n            dispatch(success())\n            document.location.href = '/'\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const addPublicPhenomenaToRadar = (phenomenon, callback) => (dispatch, getState) => {\n    const { id } = phenomenon\n\n    dispatch({\n        type: actionTypes.CREATE_PHENOMENA_SUCCESS,\n        payload: phenomenon\n    })\n\n    callback(_.find(getState().phenomena, { id }))\n}\n\nexport const generatePowerpoint = (id, groupId) => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.GENERATE_POWERPOINT,\n        actionTypes.GENERATE_POWERPOINT_SUCCESS,\n        requestTranslation('generatingPPTXError')\n    )\n\n    dispatch(loading())\n\n    return generatePPTX(id, groupId)\n        .then(() => dispatch(success()))\n        .catch(err => dispatch(error(err)))\n}","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport AddPhenomenaSandbox from '../components/AddPhenomenaSandbox'\nimport { changeAddPhenomenaVisibility } from '../actions/radarSettings'\nimport { storePhenomenon, addPublicPhenomenaToRadar } from '../actions/radarData'\n\nexport default connect(\n    (state) => {\n        const {\n            radarSettings: {\n                id,\n                group,\n                radarLanguage,\n                addPhenomenaVisible\n            },\n        } = state\n\n        return {\n            radarId: id,\n            radarLanguage,\n            addPhenomenaVisible,\n\n            radar: {\n                id,\n                groupId: group.id,\n                language: radarLanguage\n            }\n        }\n    },\n    dispatch => bindActionCreators({\n        changeAddPhenomenaVisibility,\n        storePhenomenon,\n        addPublicPhenomenaToRadar\n    }, dispatch)\n)(AddPhenomenaSandbox)\n","import * as actionTypes from '@sangre-fp/reducers/actionTypes'\n\n/*\n  payload is settings object\n  settings: {\n    text,\n    title,\n    callback\n  }\n*/\n\nexport const toggleConfirmationDialog = payload => dispatch =>\n  dispatch({ type: actionTypes.TOGGLE_CONFIRM_DIALOG, payload })\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { ConfirmDialog } from '@sangre-fp/ui'\nimport { toggleConfirmationDialog } from '../actions/confirmDialog'\n\nexport default connect(\n    state => state.confirmDialog,\n    dispatch => ({\n        ...bindActionCreators({\n            toggleConfirmationDialog\n        }, dispatch)\n    })\n)(ConfirmDialog)\n","import React, { PureComponent } from 'react'\nimport ReactQuill from 'react-quill'\nimport styled from 'styled-components'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { ButtonsContainer, Input, SelectImageButton, SelectImageInput, SelectImageInputContainer, ModalContainer } from '@sangre-fp/ui'\nimport { customQuillModules } from '../config'\nimport { formats } from '../quill'\n\n\nclass AddSignalForm extends PureComponent {\n    state = {\n        title: '',\n        body: '',\n        image: false,\n        imageFile: false,\n        imageUrl: false,\n        errorsShown: false\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.errors[0]) {\n            this.setState({ errorsShown: true })\n        }\n    }\n\n    handleTitleChange = ({ target }) => this.setState({ title: target.value })\n    handleBodyChange = value => this.setState({ body: value })\n\n    handleImageSelect = (e, file) => {\n        const fileName = file || e.target.files[0]\n        const reader = new FileReader()\n\n        reader.onload = () => {\n            let img = new Image()\n            img.src = URL.createObjectURL(fileName)\n\n            img.onload = () => {\n                this.setState({\n                    image: reader.result,\n                    imageFile: fileName\n                })\n            }\n        }\n        reader.readAsDataURL(fileName)\n    }\n\n    handleCreate = () => {\n        const { createSignal, changeSignalCreateVisibility } = this.props\n        this.setState({ errorsShown: false })\n        createSignal(this.state, changeSignalCreateVisibility)\n    }\n\n    render() {\n        const { changeSignalCreateVisibility } = this.props\n        const { title, body, image, imageUrl, errorsShown } = this.state\n\n        return (\n            <ModalContainer className='d-flex flex-column'>\n                <h2 className='m-0'>{requestTranslation('addNewSignal')}</h2>\n                <div className='mt-3'>\n                    <h3>{requestTranslation('title')}</h3>\n                    <Input type={'text'} value={title} onChange={this.handleTitleChange} />\n                    {errorsShown && !title.length && <div className='description text-danger mt-2'>{requestTranslation('fieldMissing')}</div>}\n                </div>\n                <div className='mt-3'>\n                    <h3>{requestTranslation('mainContent')}</h3>\n                    <ReactQuill\n                        className='fp-wysiwyg'\n                        style={{\n                            height: '250px',\n                            paddingBottom: '42px'\n                        }}\n                        modules={customQuillModules}\n                        formats={formats}\n                        value={body}\n                        onChange={this.handleBodyChange}\n                    />\n                    {errorsShown && !body.length && <div className='description text-danger mt-2'>{requestTranslation('fieldMissing')}</div>}\n                </div>\n                <div className='mt-3 mb-5'>\n                    <h3>{requestTranslation('image')}</h3>\n                    {!image && requestTranslation('noImageSelected')}\n                    {(image || imageUrl) && <SignalImage src={image || imageUrl} />}\n                    <SelectImageInputContainer>\n                        <SelectImageInput\n                            type='file'\n                            accept='image/*'\n                            onChange={this.handleImageSelect}\n                            placeholder={requestTranslation('select')}\n                        />\n                        <SelectImageButton className='btn btn-sm btn-outline-secondary'>\n                            {requestTranslation('select')}\n                        </SelectImageButton>\n                    </SelectImageInputContainer>\n                </div>\n                <ButtonsContainer className='mt-5'>\n                    <button\n                        className='btn btn-plain'\n                        onClick={changeSignalCreateVisibility}\n                    >\n                        {requestTranslation('cancel')}\n                    </button>\n                    <button\n                        className='btn btn-primary'\n                        onClick={this.handleCreate}\n                    >\n                        {requestTranslation('save')}\n                    </button>\n                </ButtonsContainer>\n            </ModalContainer>\n        )\n    }\n}\n\nexport default AddSignalForm\n\nconst SignalImage = styled.img`\n    max-width: 400px;\n    height: auto;\n    object-fit: cover;\n`\n","import { getNetworkMethods } from './network'\nimport { getSignals } from '@sangre-fp/connectors/search-api'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { getImageUrl, uploadFile } from '@sangre-fp/connectors/media-api'\nimport { archiveDocument, TYPE_SIGNAL, upsertDocument } from '@sangre-fp/connectors/content-service-api'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\n\nexport const changeSignalListVisibility = () => dispatch => dispatch({ type: actionTypes.HANDLE_SIGNAL_LIST_VISIBILITY })\nexport const changeSignalCreateVisibility = () => dispatch => dispatch({ type: actionTypes.HANDLE_SIGNAL_CREATE_VISIBILITY })\n\nexport const fetchRadarSignals = (searchInput = '', page = 0, size = 10) => async (dispatch, getState) => {\n  const { uuid, group } = getState().radarSettings\n  const { loading, success } = getNetworkMethods(\n    actionTypes.FETCH_SIGNALS,\n    page === 0 ? actionTypes.FETCH_SIGNALS_SUCCESS : actionTypes.FETCH_MORE_SIGNALS_SUCCESS,\n    requestTranslation('fetchingSignalsError')\n  )\n\n  dispatch(loading())\n  dispatch(success(await getSignals(searchInput, [group.id], page, size, uuid)))\n}\n\nexport const archiveSignal = (groupId, signalId, callback) => async (dispatch, getState) => {\n  const { loading, success, error } = getNetworkMethods(\n    actionTypes.ARCHIVE_SIGNAL,\n    actionTypes.ARCHIVE_SIGNAL_SUCCESS,\n    requestTranslation('archiveSignalError')\n  )\n  dispatch(loading())\n  try {\n    dispatch(success(await archiveDocument({group: groupId, type: TYPE_SIGNAL, id: signalId})))\n    callback()\n  } catch (err) {\n    dispatch(error(err))\n  }\n}\n\nexport const createSignal = (signal, callback) => async (dispatch, getState) => {\n  const { title, body, imageFile: file } = signal\n  const { loading, success, error } = getNetworkMethods(\n    actionTypes.CREATE_SIGNAL,\n    actionTypes.CREATE_SIGNAL_SUCCESS,\n    requestTranslation('creatingSignalsError')\n  )\n  const { uuid, radarLanguage, group: { id: groupId } } = getState().radarSettings\n  const titleMissing = !title\n  const bodyMissing = !body\n  const languageMissing = !radarLanguage\n\n  if (bodyMissing || languageMissing || titleMissing) {\n    return dispatch(error(new Error('Invalid data'), requestTranslation('missingRequiredSignalData')))\n  }\n\n  dispatch(loading())\n\n  const doc = {\n    language: radarLanguage,\n    type: TYPE_SIGNAL,\n    group: Number(groupId),\n    content: {\n      title,\n      body,\n      radar: uuid,\n      media: {\n        image: ''\n      }\n    }\n  }\n\n  try {\n    if (file) {\n      doc.content.media.image = getImageUrl(await uploadFile(file, groupId))\n    }\n    dispatch(success(await upsertDocument(doc)))\n    callback()\n  } catch (err) {\n    dispatch(error(err))\n  }\n}\n","import { connect } from 'react-redux'\nimport AddSignalForm from '../components/AddSignalForm'\nimport { compose, bindActionCreators } from 'redux'\nimport { createSignal, changeSignalCreateVisibility } from '../actions/signals'\n\nconst mapStateToProps = (state) => {\n    const {\n        loading,\n        errors\n    } = state\n\n    return {\n        loading,\n        errors\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    ...bindActionCreators({\n        createSignal,\n        changeSignalCreateVisibility\n    }, dispatch)\n})\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps)\n)(AddSignalForm)\n","import React, { PureComponent } from 'react'\nimport {\n    ListBackground,\n    ListContainer,\n    ListClose,\n    CloseIcon,\n    ButtonsContainer,\n    modalStyles,\n    SidePadding,\n    SearchInput\n} from '@sangre-fp/ui'\nimport _ from 'lodash'\nimport AddSignalForm from '../containers/AddSignalFormContainer'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { Modal } from '@sangre-fp/ui'\nimport styled from 'styled-components'\n\nconst PAGE_SIZE = 10\nconst SEARCH_DEBOUNCE_TIME = 250\n\nclass SignalList extends PureComponent {\n    state = {\n        page: 1,\n        searchInput: ''\n    }\n\n    debounceTimeout = false\n\n    componentWillUpdate(nextProps, nextState) {\n        const { fetchRadarSignals, signalData: { totalRadarSignals, signalListVisible }, loading } = this.props\n        const { page, searchInput } = this.state\n        const nextPage = nextState.page\n        const totalPages = totalRadarSignals / PAGE_SIZE\n        const willBeVisible = nextProps.signalData.signalListVisible\n\n        if (signalListVisible !== willBeVisible) {\n            this.setState({ page: 1, searchInput: '' }, () => {\n                if (willBeVisible) {\n                    fetchRadarSignals()\n                }\n            })\n        }\n\n        if (!loading.length && nextPage !== page && nextPage > page && nextPage <= totalPages + 1) {\n            fetchRadarSignals(searchInput, nextPage - 1, PAGE_SIZE)\n        }\n    }\n\n    handleArchiveSignal = signalId => {\n        const { groupId, archiveSignal, fetchRadarSignals } = this.props\n        archiveSignal(groupId, signalId, () => {\n            fetchRadarSignals()\n        })\n    }\n\n    handleScroll = e => {\n        const { loading, signalData: { totalRadarSignals } } = this.props\n        const { page } = this.state\n        const bottom = e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight\n        const totalPages = totalRadarSignals / PAGE_SIZE\n\n        if (bottom && !loading.length && page < totalPages + 1) {\n            this.setState({ page: page + 1 })\n        }\n    }\n\n    handleSearchChange = ({ target }) => {\n        const { fetchRadarSignals } = this.props\n        this.setState({ searchInput: target.value, page: 1 })\n\n        clearTimeout(this.debounceTimeout)\n        this.debounceTimeout = setTimeout(() => fetchRadarSignals(target.value, 0, PAGE_SIZE), SEARCH_DEBOUNCE_TIME)\n    }\n\n    renderSignal(signal, index) {\n        const { canArchiveSignals } = this.props\n        const { id, content: { title, body, media: { image: image_url } = {} } = {}, created_at: created, created_by_name: username } = signal\n        const date = created ? created.slice(0, 10) : new Date().toJSON().slice(0, 10)\n\n        return (\n            <SignalItem\n                key={index}\n                className='d-flex flex-column pt-4 pb-4 justify-content-center'\n                style={{ backgroundColor: index % 2 === 0 ? 'white' : '#E7E7E8' }}\n            >\n                <h3>{title}</h3>\n                <div className='d-flex mb-2'>\n                    {(image_url && image_url.length) ?\n                        (<img\n                            alt=''\n                            src={image_url}\n                            className='mr-4 mt-2 mb-3'\n                            style={{ objectFit: 'contain', height: '105px' }}\n                        />)\n                        : null\n                    }\n                    <div dangerouslySetInnerHTML={{ __html: body }} />\n                </div>\n                {date.replace(/-/g, '.').split('.').reverse().join('.')}\n                {username ? (\n                    <div>\n                        {requestTranslation('createdBy')}:\n                        &nbsp;\n                        {username}\n                    </div>)\n                : ''}\n                {canArchiveSignals && (\n                  <ButtonsContainer style={{ justifyContent: 'flex-start' }}>\n                      <button\n                        className=\"btn btn-md btn-plain-gray pl-0\"\n                        onClick={() => window.confirm(requestTranslation('deleteSignalConfirmation')) && this.handleArchiveSignal(id)}\n                      >\n                          {requestTranslation('delete')}\n                      </button>\n                  </ButtonsContainer>\n                )}\n            </SignalItem>\n        )\n    }\n\n    renderSignals() {\n        const { signalData: { signals } } = this.props\n\n        if (signals.length) {\n            return (\n                <SearchResultsList small className='d-flex h-100 flex-column mt-5'>\n                    {_.map(signals, this.renderSignal.bind(this))}\n                </SearchResultsList>\n            )\n        }\n\n        return (\n            <SidePadding><b>{requestTranslation('noSignalsCreated')}</b></SidePadding>\n        )\n    }\n\n    renderCreateModal() {\n        const { signalData: { signalCreateVisibility } } = this.props\n\n        return (\n            <Modal\n                isOpen={signalCreateVisibility}\n                contentLabel={'Create Signal'}\n                style={modalStyles}\n                ariaHideApp={false}\n            >\n                <AddSignalForm />\n            </Modal>\n        )\n    }\n\n    render() {\n        const {\n            changeSignalListVisibility,\n            changeSignalCreateVisibility,\n            signalData: {\n                signalListVisible\n            }\n        } = this.props\n        const { searchInput } = this.state\n\n        if (!signalListVisible) {\n            return null\n        }\n\n        return (\n            <ListBackground onScroll={this.handleScroll}>\n                <ListContainer className='justify-content-between' style={{ padding: '30px 0', height: 'auto' }}>\n                    <ListClose onClick={changeSignalListVisibility}>\n                        <CloseIcon className='material-icons'>close</CloseIcon>\n                    </ListClose>\n                    <SidePadding className='d-flex justify-content-between algin-items-center'>\n                        <h2 className='m-0'>{requestTranslation('listOfSignals')}</h2>\n                        <div className='d-flex'>\n                            <SearchInput\n                                type={'search'}\n                                small={true}\n                                className='mr-4'\n                                placeholder={requestTranslation('searchByKeywords')}\n                                value={searchInput}\n                                onChange={this.handleSearchChange}\n                            />\n                            <button className='btn btn-outline-secondary flex-shrink-0'\n                                onClick={changeSignalCreateVisibility}\n                            >\n                                {requestTranslation('createNew')}\n                            </button>\n                        </div>\n                    </SidePadding>\n                    {this.renderSignals()}\n                    <SidePadding>\n                        <ButtonsContainer>\n                            <button className='btn btn-primary' onClick={changeSignalListVisibility}>\n                                {requestTranslation('close')}\n                            </button>\n                        </ButtonsContainer>\n                    </SidePadding>\n                </ListContainer>\n                {this.renderCreateModal()}\n            </ListBackground>\n        )\n    }\n}\n\nexport default SignalList\n\nconst SearchResultsList = styled.div`\n    flex: 1;\n    width: 91%;\n    min-height: 20px;\n    box-shadow: 0 1px 3px rgba(0,0,0,0.10), 0 1px 2px rgba(0,0,0,0.10);\n    margin: 0 auto;\n    flex-grow: 1;\n    flex-shrink: 1;\n    flex-basis: 0%;\n    overflow-y: auto;\n    overflow-x: hidden;\n`\n\nconst SignalItem = styled.div`\n    border-bottom: 1px solid #d5dbdf;\n    padding: 0 25px;\n`\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport SignalList from '../components/SignalList'\nimport {\n  changeSignalListVisibility,\n  fetchRadarSignals,\n  changeSignalCreateVisibility,\n  archiveSignal\n} from '../actions/signals'\n\nexport default connect(\n  (state) => {\n        const { loading, errors, signals: signalData, radarSettings: { canEditRadar, group } } = state\n        return {\n            loading,\n            errors,\n            signalData,\n            groupId: group !== null && typeof group === 'object' ? group.id : group,\n            canArchiveSignals: canEditRadar\n        }\n    },\n    dispatch => ({\n        ...bindActionCreators({\n            changeSignalListVisibility,\n            changeSignalCreateVisibility,\n            fetchRadarSignals,\n            archiveSignal\n        }, dispatch)\n    })\n)(SignalList)\n","/* eslint-disable */\nimport React, { Component } from 'react'\nimport 'react-datepicker/dist/react-datepicker.css'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { PUBLIC_URL } from '../env'\nimport LinkIcon from '@material-ui/icons/Link';\nclass ShareRadarModal extends Component {\n  // handleClipboardClick = () => this.shareInput.focus()\n\n  render() {\n    const {\n      requestClose,\n      requestOpenPublicLink,\n      checkPublicLinkExsited,\n      publicLink,\n      changeRadarSharing,\n      changeRadarSharingExpiry,\n      enableUrlLogin,\n      urlLoginLink,\n      urlLoginExpire,\n      updateRadar,\n      group,\n      id,\n      isPublicShareUrlEnabled\n    } = this.props\n\n    const onClickOpenPublicLink = () => {\n      requestOpenPublicLink()\n    }\n\n    return (\n      <div>\n        <button onClick={requestClose} className='btn-close-modal'>\n            <i className='material-icons'>close</i>\n        </button>\n        <div className={'modal-form-sections'}>\n            <div className='modal-form-section modal-form-header'>\n                <h2 className={'confirmation-modal-title'}>{requestTranslation('shareRadar')}</h2>\n                <p className='mt-4'>\n                  {isPublicShareUrlEnabled ? requestTranslation('shareRadarFromUsrMngmt'): requestTranslation('shareRadarWithoutPublicLink')}\n                </p>\n                {checkPublicLinkExsited \n                  && publicLink \n                  && isPublicShareUrlEnabled \n                  && \n                    <div className='mt-4' style={{display: 'flex'}}>\n                      <LinkIcon style={{transform: 'rotate(310deg)', borderRadius: '20px'}}>\n                      </LinkIcon>\n                      <p style={{ paddingLeft:'8px'}}>{requestTranslation('checkPublicLinkAlreadyExisted')}\n                      </p>\n                    </div>}\n            </div>\n            <div className='modal-form-section justify-content-end d-flex'>\n                <button\n                  onClick={requestClose}\n                  className='btn btn-lg btn-plain-gray'\n                >\n                    {requestTranslation('cancel')}\n                </button>\n                {isPublicShareUrlEnabled &&\n                <div style={{ marginRight: \"20px\" }}>\n                  <a\n                    onClick={() => onClickOpenPublicLink()}\n                    className=\"btn btn-lg btn-primary\"\n                  >\n                    {checkPublicLinkExsited && publicLink ? requestTranslation(\"openPublicLink\") : requestTranslation(\"createPublicLink\")} \n                  </a>\n                </div>\n                }\n                <a\n                    href={`${PUBLIC_URL}/radarusers?gid=${group.id}&invite=${id}`}\n                    className='btn btn-lg btn-primary'\n                >\n                    {requestTranslation('goToManagement')}\n                </a>\n            </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ShareRadarModal\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport ShareRadarModal from '../components/ShareRadarModal'\nimport { changeRadarSharing, changeRadarSharingExpiry, updateRadar } from '../actions/radarSettings'\n\n\nexport default connect(\n    state => {\n        const {\n            loading,\n            errors,\n            radarSettings: {\n                enableUrlLogin,\n                urlLoginExpire,\n                urlLoginLink,\n                group,\n                id\n            }\n        } = state\n\n        return {\n            loading,\n            errors,\n            enableUrlLogin,\n            urlLoginExpire,\n            urlLoginLink,\n            group,\n            id\n        }\n    },\n    dispatch => bindActionCreators({\n        changeRadarSharing,\n        changeRadarSharingExpiry,\n        updateRadar\n    }, dispatch)\n)(ShareRadarModal)\n","import React, { useState } from 'react'\nimport { Modal, modalStyles } from '@sangre-fp/ui'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport styles from './PublicLink.module.css'\nimport RefreshIcon from '@material-ui/icons/Refresh';\nconst PublicLink = ({ isModalOpen, onRequestClose, publicURL, openConfirmationModal, openDeleteConfirmationModal}) => {\n  const [shareInput, setShareInput] = useState(\"\");\n  const [linkCopied, setLinkCopied] = useState(false);\n  const onRequestCloseModal = () => {\n    onRequestClose();\n    setLinkCopied(false)\n  }\n  return (\n    <>\n      <Modal\n        onRequestClose={onRequestCloseModal}\n        isOpen={isModalOpen}\n        style={modalStyles}\n        ariaHideApp={false}\n        className={styles.ReactModal__Content}\n      >\n        <div className=\"modal-form-sections\">\n          <div className=\"modal-form-section modal-form-header\">\n            <h2 className={styles.Modal__Title}>\n              {requestTranslation(\"publicLink\")}\n            </h2>\n            <p className=\"mt-4\">{requestTranslation(\"publicLinkNote\")}</p>\n          </div>\n          <div className=\"modal-form-section\" style={{marginTop: '33px', paddingTop: 0}}>\n            <div className=\"font-weight-bold\">\n              {requestTranslation(\"publicLinkURL\")}\n            </div>\n            <div className=\"d-flex mt-2 align-items-center\">\n              <input\n                className=\"form-control w-75\"\n                value={publicURL}\n                readOnly\n                onFocus={(e) => e.target.select()}\n                type=\"text\"\n                ref={(el) => {\n                  setShareInput(el);\n                }}\n              />\n                <CopyToClipboard text={publicURL} onCopy={\n                  () => {\n                    shareInput.focus();\n                    setLinkCopied(true)\n                  }} >\n                  <button\n                    className=\"btn btn-outline-secondary ml-3 mr-3\"\n                    style={{ height: \"35px\", flexShrink: 0 }}\n                  >\n                    {requestTranslation(\"copyToClipboard\")}\n                  </button>\n                </CopyToClipboard>\n            </div>\n            {linkCopied && <h5 style={{display: 'flex', justifyContent: 'flex-end', marginRight: '64px', color: '#006998' }}>{requestTranslation(\"publicLinkCopied\")}</h5>}\n            <div className=\"d-flex mt-3 align-items-center\">\n              <button\n                // disabled={!checked}\n                // className=\"btn btn-outline-secondary mr-3\"\n                className={styles.RegenerateBtn}\n                onClick={openConfirmationModal}\n                style={{color: '#006998'}}\n              >\n                <RefreshIcon />\n                {requestTranslation(\"regeneratePublicLink\")}\n              </button>\n            </div>\n            <div className=\"d-flex mt-4 align-items-center\">\n              {requestTranslation(\"regeneratePublicLinkNote\")}\n            </div>\n          </div>\n          <div className=\"modal-form-section modal-form-actions d-flex justify-content-between\">\n            <button\n              className=\"btn btn-lg btn-plain-gray pl-0\"\n              onClick={openDeleteConfirmationModal}\n            >\n              {requestTranslation(\"deletePublicLinkBtn\")}\n            </button>\n            <div className={styles.SavePublicLink__Container}>\n              <button\n                className={\"btn btn-lg btn-plain-gray\"}\n                onClick={onRequestCloseModal}\n              >\n                {requestTranslation(\"cancel\")}\n              </button>\n              <button\n                className={\"btn btn-lg btn-primary\"}\n                onClick={onRequestCloseModal}\n              >\n                {requestTranslation(\"save\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default PublicLink;\n","import React from \"react\";\nimport { Modal, paddingModalStyles } from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nconst ConfirmationModal = ({\n  regeneratePublicLink,\n  confirmationModal,\n  confirmationModalClose,\n}) => {\n  return (\n    <Modal\n      isOpen={confirmationModal}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <h3 className=\"confirmation-modal-title\">\n          {requestTranslation(\"sharePublicLinkConfirmation\")}\n        </h3>\n        <p style={{textAlign: 'center'}}>{requestTranslation(\"sharePublicLinkConfirmationNote\")}</p>\n        <div className=\"confirmation-modal-actions\">\n          <button\n            onClick={confirmationModalClose}\n            className=\"btn btn-lg btn-plain-gray\"\n          >\n            {requestTranslation(\"cancel\").toUpperCase()}\n          </button>\n          <button\n            className=\"btn btn-lg btn-primary\"\n            onClick={regeneratePublicLink}\n          >\n            {requestTranslation(\"regeneratePublicLink\").toUpperCase()}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ConfirmationModal;\n","import React from \"react\";\nimport { Modal, paddingModalStyles } from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nconst DeleteConfirmationModal = ({\n  deletePublicLink,\n  deleteConfirmationModal,\n  deleteConfirmationModalClose,\n}) => {\n  return (\n    <Modal\n      isOpen={deleteConfirmationModal}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <h3 className=\"confirmation-modal-title\">\n          {requestTranslation(\"deletePublicLinkConfirmation\")}\n        </h3>\n        <p style={{textAlign: 'center', marginLeft: '110px', marginRight: '117px'}}>{requestTranslation(\"deletePublicLinkConfirmationNote\")}</p>\n        <div className=\"confirmation-modal-actions\">\n          <button\n            onClick={deleteConfirmationModalClose}\n            className=\"btn btn-lg btn-plain-gray\"\n          >\n            {requestTranslation(\"cancel\").toUpperCase()}\n          </button>\n          <button\n            className=\"btn btn-lg btn-primary\"\n            onClick={deletePublicLink}\n          >\n            {requestTranslation(\"deletePublicLink\").toUpperCase()}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default DeleteConfirmationModal;\n","import React from \"react\";\nimport { Modal, paddingModalStyles } from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nconst SharedLinkModalAfterDelete = ({\n  SharedLinkModalAfterDelete,\n  SharedLinkModalAfterDeleteClose,\n  RadarTitle\n}) => {\n  return (\n    <Modal\n      isOpen={SharedLinkModalAfterDelete}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <h3 className=\"confirmation-modal-title\">\n          {requestTranslation(\"sharedLinkDeletedNote\")}\n        </h3>\n        <p style={{textAlign: 'center', marginLeft: '110px', marginRight: '117px'}}>{RadarTitle}</p>\n        <div className=\"confirmation-modal-actions\">\n          <button\n            onClick={SharedLinkModalAfterDeleteClose}\n            className=\"btn btn-lg btn-primary\"\n          >\n            {requestTranslation(\"ok\").toUpperCase()}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default SharedLinkModalAfterDelete;\n","import React, {PureComponent} from 'react'\nimport styled from 'styled-components'\nimport _ from 'lodash'\nimport {paddingModalStyles, modalStyles} from '@sangre-fp/ui'\nimport drupalApi from '@sangre-fp/connectors/drupal-api'\nimport {PUBLIC_URL} from '../env'\nimport {Modal, PopupContainer} from '@sangre-fp/ui'\nimport {requestTranslation} from '@sangre-fp/i18n'\nimport {\n    PAGE_BASIC_SETTINGS,\n    PAGE_CONCLUSIONS,\n    PAGE_HEADER_AND_LANGUAGE,\n    PAGE_USER_OPTIONS\n} from './CreateRadarForm'\nimport ShareRadarModal from '../containers/ShareRadarModalContainer'\nimport PublicLink from './PublicLink/PublicLink' \nimport ConfirmationModal from './ConfirmationModal/ConfirmationModal'\nimport DeleteConfirmationModal from './DeleteConfirmationModal/DeleteConfirmationModal'\nimport SharedLinkModalAfterDelete from './SharedLinkModalAfterDelete/SharedLinkModalAfterDelete'\n\n\nclass SideNav extends PureComponent {\n    state = {\n        deletingModalOpen: false,\n        sharingModalOpen: false,\n        clonedModalOpen: false,\n        generatingModalOpen: false,\n        publicLinkModal: false,\n        confirmationModal: false,\n        deleteConfirmationModal: false,\n        publicSharedLink: null,\n        publicSharedUserInfo: [],\n        radarShareId: null,\n        publicSharedLinkExsited: false,\n        SharedLinkModalAfterDelete: false,\n        radarTitle: '',\n        isPublicShareUrlEnabled: false\n    }\n\n    async componentDidMount() {\n        const searchParams = new URLSearchParams(document.location.search)\n        const shareQuery = Number(searchParams.get('share'))\n        const node = Number(searchParams.get('node'))\n\n        if (shareQuery ==='1' || shareQuery === 1) {\n            await drupalApi.getRadarPublicShare(node).then((data) => {\n                this.setState({\n                    publicSharedLink: data.url,\n                    publicSharedLinkExsited: true\n    \n                })\n            })\n\n            this.setState({ publicLinkModal: true })\n        }\n    }\n\n    componentDidUpdate(nextProps, nextState) {\n        const {radarSettings: {radarName}, groupId} = this.props\n        this.setState({\n            groupId: groupId,\n            radarTitle: radarName\n        })\n\n        this.props.radarSettings.groups.map(g => {\n            if (String(g?.id) === String(this.props.radarSettings?.group.id) && Number(g?.publicShareUrlEnabled) === 1) {\n                this.setState({\n                    isPublicShareUrlEnabled: true\n                })\n            }\n        })\n      }\n      \n    toggleOpenEditMenu = () => {\n        const {toggleEditMenuVisiblity, editMenuOpen} = this.props\n\n        toggleEditMenuVisiblity(!editMenuOpen)\n    }\n\n    handleCloseClick = () => {\n        const {\n            editSectorsPageOpen,\n            sectorPageHandler,\n            editTimeRangesPageOpen,\n            timerangePageHandler\n        } = this.props\n\n        if (editSectorsPageOpen) {\n            sectorPageHandler()\n        }\n\n        if (editTimeRangesPageOpen) {\n            timerangePageHandler()\n        }\n    }\n\n    clonedRadarCallback = newRadarHref => this.setState({clonedModalOpen: newRadarHref})\n\n    closeRadar = (redirect = true) => {\n        const {getReturnUrl} = this.props\n\n        if (redirect) {\n            document.href = getReturnUrl()\n        }\n        return getReturnUrl()\n    }\n\n    closePublicLink = () => {\n        this.setState({ \n            publicLinkModal: false,\n            sharingModalOpen: true\n        })\n      }\n\n    openPublicLinkModal = async () => {\n        this.setState({ sharingModalOpen: false })\n        this.setState({ publicLinkModal: true })\n        const searchParams = new URLSearchParams(document.location.search)\n        const node = Number(searchParams.get('node'))\n\n        // create a shared link\n        if(this.state.publicSharedLink === null) {\n            await drupalApi.createOrReplaceRadarPublicShare({radarId: node}).then((data) => {\n                this.setState({\n                    publicSharedLink: data?.url,\n                    publicSharedLinkExsited: true\n                })\n            })\n        }\n        else {\n            await drupalApi.getRadarPublicShare(node).then((data) => {\n                this.setState({\n                    publicSharedLink: data.url,\n                    publicSharedLinkExsited: true\n    \n                })\n            })\n        }\n    }\n\n    onRegeneratePublicLink = async () => {\n        const searchParams = new URLSearchParams(document.location.search)\n        const node = Number(searchParams.get('node'))\n        await drupalApi.regenerateRadarPublicShare(node).then(data => {\n            this.setState({\n                publicSharedLink: data.url,\n                confirmationModal: false\n            })\n        })\n    }\n\n    openConfirmationModal = () => {\n        this.setState({\n            confirmationModal: true,\n            publicLinkModal: false\n        })\n    }\n\n    closeConfirmationModal= () => {\n        this.setState({\n            confirmationModal: false,\n            publicLinkModal: true\n        })\n    }\n   \n    openDeleteConfirmationModal = () => {\n        this.setState({\n            deleteConfirmationModal: true, \n            publicLinkModal: false\n\n        })\n    }\n\n    closeDeleteConfirmationModal= () => {\n        this.setState({\n            deleteConfirmationModal: false,\n            publicLinkModal: true\n        })\n    }\n\n    onDeletePublicLink = async () => {\n        const searchParams = new URLSearchParams(document.location.search)\n        const node = Number(searchParams.get('node'))\n\n        await drupalApi.removeRadarPublicShare(node).then((data) => {\n            this.setState({\n                publicSharedLink: null,\n                deleteConfirmationModal: false,\n                publicSharedLinkExsited: false,\n                SharedLinkModalAfterDelete: true\n            })\n        })\n        \n    }\n    onCloseSharedLinkModalAfterDelete = () => {\n        this.setState({\n            SharedLinkModalAfterDelete: false\n        })\n    }\n\n    onShareRadarClick = async() => {\n        const searchParams = new URLSearchParams(document.location.search)\n        const node = Number(searchParams.get('node'))\n  \n        //get shared link \n        await drupalApi.getRadarPublicShare(node).then((data) => {\n            this.setState({\n                publicSharedLink: data.url\n            })\n        })\n\n        if(this.state.publicSharedLink !== null) {\n            this.setState({\n                publicSharedLinkExsited: true\n            })\n            \n        }\n        this.setState({sharingModalOpen: true})\n\n    }\n    \n    render() {\n        const params = new URLSearchParams(window.location.search)\n        let returnId = params.get('ret_id')\n        if (returnId) {\n            returnId = returnId.replace(/[^a-f0-9-]/, '')\n        }\n        const {deletingModalOpen, clonedModalOpen, sharingModalOpen, generatingModalOpen, publicLinkModal, confirmationModal, deleteConfirmationModal, radarShareId } = this.state\n        const {\n            changeAddRadarFormVisibility,\n            sectorPageHandler,\n            timerangePageHandler,\n            deleteRadar,\n            changeAddPhenomenaVisibility,\n            editSectorsPageOpen,\n            id,\n            groupId,\n            addRadarFormOpen,\n            editPhenomenaVisible,\n            editMenuOpen,\n            toggleEditMenuVisiblity,\n            canEditRadar,\n            canDeleteRadar,\n            cloneRadar,\n            changeSignalListVisibility,\n            signalListVisible,\n            signalToolEnabled,\n            isVisitor,\n            canShareRadar,\n            collaborationToolsAllowed,\n            generatePowerpoint\n        } = this.props\n\n        const renderRadarEditor = !editSectorsPageOpen && !addRadarFormOpen && !editPhenomenaVisible && !signalListVisible && !isVisitor\n\n        return (\n            <PopupContainer onClose={toggleEditMenuVisiblity}>\n                {renderRadarEditor &&\n                <Container id='radar-nav-topright'>\n                    <div className='nav-item'>\n                        <a\n                            onClick={() => this.closeRadar()}\n                            href={this.closeRadar(false)}\n                            className='btn-icon-lg'\n                        >\n                            <span className='af-custom-close'/>\n                        </a>\n                    </div>\n                    {canEditRadar &&\n                    <div>\n                        <Edit\n                            className='nav-item'\n                            onClick={this.toggleOpenEditMenu}\n                        >\n                            <button\n                                className='btn-round btn-lg'\n                                onClick={this.toggleOpenEditMenu}\n                            >\n                                <span className='af-custom-edit'/>\n                                {editMenuOpen &&\n                                <EditMenu className='fp-dropdown-menu'>\n                                    <EditTriangle className='fp-dropdown-menu-arrow'/>\n                                    <div>\n                                        <EditMenuHeader\n                                            className='fp-dropdown-header'\n                                            style={{lineHeight: \"1.2rem\"}}\n                                        >\n                                            {requestTranslation('layoutHeader')}\n                                        </EditMenuHeader>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={sectorPageHandler}\n                                        >\n                                            {requestTranslation('editSectors')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={timerangePageHandler}\n                                        >\n                                            {requestTranslation('editTimeranges')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={changeAddPhenomenaVisibility}\n                                        >\n                                            {requestTranslation('addPhenomena')}\n                                        </EditMenuItem>\n                                    </div>\n                                    <div>\n                                        <EditMenuHeader className='fp-dropdown-header'>\n                                            {requestTranslation('settingsHeader')}\n                                        </EditMenuHeader>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => changeAddRadarFormVisibility(PAGE_BASIC_SETTINGS)}\n                                        >\n                                            {requestTranslation('editBasicSettings')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => changeAddRadarFormVisibility(PAGE_HEADER_AND_LANGUAGE)}\n                                        >\n                                            {requestTranslation('editTitle')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => changeAddRadarFormVisibility(PAGE_CONCLUSIONS)}\n                                        >\n                                            {requestTranslation('editConclusions')}\n                                        </EditMenuItem>\n                                    </div>\n                                    {collaborationToolsAllowed &&\n                                    <div>\n                                        <EditMenuHeader className='fp-dropdown-header'>\n                                            {requestTranslation('activateUsersHeader')}\n                                        </EditMenuHeader>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => changeAddRadarFormVisibility(PAGE_USER_OPTIONS)}\n                                        >\n                                            {requestTranslation('activateUsers')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => window.location.replace(`${PUBLIC_URL}/send-message?map_id=${id}`)}\n                                        >\n                                            {requestTranslation('sendMessages')}\n                                        </EditMenuItem>\n                                    </div>\n                                    }\n                                    <div>\n                                        <EditMenuHeader className='fp-dropdown-header'>\n                                            {requestTranslation('managmentHeader')}\n                                        </EditMenuHeader>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => this.setState({generatingModalOpen: true})}\n                                        >\n                                            {requestTranslation('pptxGenerateReport')}\n                                        </EditMenuItem>\n                                        \n                                        {\n                                            canShareRadar && <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={this.onShareRadarClick}\n                                        >\n                                            {requestTranslation('shareRadar')}\n                                        </EditMenuItem>\n                                        }\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => cloneRadar(this.clonedRadarCallback)}\n                                        >\n                                            {requestTranslation('cloneRadar')}\n                                        </EditMenuItem>\n                                        {canDeleteRadar &&\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() =>\n                                                this.setState({deletingModalOpen: true})\n                                            }\n                                        >\n                                            {requestTranslation('deleteRadar')}\n                                        </EditMenuItem>\n                                        }\n\n                                    </div>\n                                </EditMenu>\n                                }\n                            </button>\n                        </Edit>\n                    </div>\n                    }\n                    <div className='nav-item'>\n                        <a href={`${PUBLIC_URL}/node/${id}/results` + (returnId ? ('?ret_id=' + returnId) : '')}\n                           onClick={() =>\n                               window.location.replace(`${PUBLIC_URL}/node/${id}/results` + (returnId ? ('?ret_id=' + returnId) : ''))\n                           }\n                           className='btn-round btn-lg'>\n                            <span className='af-custom-results'/>\n                        </a>\n                    </div>\n                    {signalToolEnabled &&\n                    <div className='nav-item'>\n                        <div className='btn-round btn-lg' onClick={() => changeSignalListVisibility()}>\n                            <span className='af-custom-signal-tool'/>\n                        </div>\n                    </div>\n                    }\n                </Container>\n                }\n                {editSectorsPageOpen &&\n                <CloseButton\n                    onClick={this.handleCloseClick}\n                    className='btn btn-lg btn-primary'\n                >\n                    {requestTranslation('close')}\n                </CloseButton>\n                }\n                <Modal\n                    isOpen={generatingModalOpen}\n                    contentLabel='generate powerpoint'\n                    style={paddingModalStyles}\n                    className='paddedModal'\n                    ariaHideApp={false}\n                >\n                    <div className={'confirmation-modal-content'}>\n                        <h3>\n                            {requestTranslation('download')}\n                        </h3>\n                        <p>{requestTranslation('downloadPPTXDescription')}</p>\n                        <div className={'d-flex align-items-center justify-content-end'}>\n                            <button className='btn btn-lg btn-plain-gray'\n                                    onClick={() => this.setState({generatingModalOpen: false})}>\n                                {requestTranslation('cancel')}\n                            </button>\n                            <button className='btn btn-lg btn-primary'\n                                    onClick={() => {\n                                        this.setState({generatingModalOpen: false})\n                                        generatePowerpoint(id, groupId)\n                                    }}>\n                                {requestTranslation('download')}\n                            </button>\n                        </div>\n                    </div>\n                </Modal>\n                <Modal\n                    isOpen={deletingModalOpen}\n                    contentLabel='delete sanity check'\n                    style={paddingModalStyles}\n                    className={'paddedModal'}\n                    ariaHideApp={false}\n                >\n                    <div className={'confirmation-modal-content'}>\n                        <h3 className={'confirmation-modal-title'}>\n                            {requestTranslation('deleteDoubleCheck')}\n                        </h3>\n                        <div className={'confirmation-modal-actions'}>\n                            <button className='btn btn-lg btn-plain-gray'\n                                    onClick={() => this.setState({deletingModalOpen: false})}>\n                                {requestTranslation('cancel')}\n                            </button>\n                            <button className='btn btn-lg btn-primary'\n                                    onClick={() => {\n                                        this.setState({deletingModalOpen: false})\n                                        deleteRadar()\n                                    }}>\n                                {requestTranslation('delete')}\n                            </button>\n                        </div>\n                    </div>\n                </Modal>\n                {canShareRadar &&\n                <Modal\n                    isOpen={!!sharingModalOpen}\n                    contentLabel='share radar'\n                    style={modalStyles}\n                    ariaHideApp={false}\n                >\n                    <ShareRadarModal \n                        requestClose={() => this.setState({sharingModalOpen: false})} \n                        requestOpenPublicLink={this.openPublicLinkModal} \n                        checkPublicLinkExsited={this.state.publicSharedLinkExsited} \n                        publicLink={this.state.publicSharedLink} \n                        isPublicShareUrlEnabled ={this.state.isPublicShareUrlEnabled}\n                    />\n                </Modal>\n                }\n                <Modal\n                    isOpen={!!clonedModalOpen}\n                    contentLabel='cloned radar'\n                    style={paddingModalStyles}\n                    className={'paddedModal'}\n                    ariaHideApp={false}\n                >\n                    <div className={'confirmation-modal-content'}>\n                        <h3 className={'confirmation-modal-title'}>\n                            {requestTranslation('clonedRadarSuccess')}\n                        </h3>\n                        <p className='text-center'>\n                            {requestTranslation('clonedRadarSuccessDescription')}\n                        </p>\n                        <div className={'confirmation-modal-actions'}>\n                            <a className='btn btn-lg btn-primary' href={clonedModalOpen}>\n                                {requestTranslation('clonedGoToCreated')}\n                            </a>\n                            <button className='btn btn-lg btn-plain-gray'\n                                    onClick={() => this.setState({clonedModalOpen: false})}>\n                                {requestTranslation('clonedContinueWithCurrent')}\n                            </button>\n                        </div>\n                    </div>\n                </Modal>\n                <PublicLink \n                    isModalOpen={publicLinkModal} \n                    onRequestClose={this.closePublicLink} \n                    publicURL={this.state.publicSharedLink || 'Loading...'} \n                    openConfirmationModal={this.openConfirmationModal} \n                    openDeleteConfirmationModal={this.openDeleteConfirmationModal}\n                />\n                <ConfirmationModal \n                    confirmationModal={confirmationModal}\n                    confirmationModalClose={this.closeConfirmationModal}\n                    regeneratePublicLink={() => {this.onRegeneratePublicLink()}}\n                />\n                <DeleteConfirmationModal \n                    deleteConfirmationModal={deleteConfirmationModal}\n                    deleteConfirmationModalClose={this.closeDeleteConfirmationModal}\n                    deletePublicLink={() => this.onDeletePublicLink()}\n                />\n                <SharedLinkModalAfterDelete \n                    SharedLinkModalAfterDelete={this.state.SharedLinkModalAfterDelete}\n                    SharedLinkModalAfterDeleteClose={this.onCloseSharedLinkModalAfterDelete}\n                    RadarTitle={this.state.radarTitle}\n                />\n            </PopupContainer>\n        )\n    }\n}\n\nconst CloseButton = styled.div`\n    position: absolute;\n    right: 30px;\n    bottom: 30px;\n    color: white;\n`\n\nconst Container = styled.div`\n    position: absolute;\n    top: 25px;\n    right: 25px;\n`\n\nconst EditTriangle = styled.span`\n    background-color: white;\n    position: absolute;\n    transform: rotate(45deg);\n    right: -18px;\n    top: 63px;\n    width: 40px;\n    height: 40px;\n`\n\nconst EditMenu = styled.div`\n    width: 280px;\n    display: flex;\n    position: absolute;\n    background-color: white;\n    flex-direction: column;\n    box-sizing: border-box;\n    left: -320px;\n    top: -60px;\n`\n\nconst EditMenuItem = styled.div`\n    background: transparent;\n    font-size: 16px;\n    padding: 15px 25px;\n    color: black;\n    font-weight: 500;\n    box-sizing: border-box;\n    transition: all 0.4s ease;\n    &:hover {\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.1);\n        transition: all 0.4s ease;\n    }\n`\n\nconst EditMenuHeader = styled.div`\n    width: 100%;\n    background: rgb(231, 231, 232);\n    display: flex;\n    padding: 15px 25px;\n    align-items: center;\n    color: black;\n    font-weight: 700;\n    font-size: 18px;\n    box-sizing: border-box;\n`\n\nconst Edit = styled.div`\n    position: relative;\n    min-width: 20px;\n    min-height: 20px;\n    border-radius: 50%;\n    background-color: #006998;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    transition: all 0.4s ease;\n    &:hover {\n        cursor: pointer;\n        background-color: #1A9AFC;\n        transition: all 0.4s ease;\n    }\n`\n\nexport default SideNav\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport SideNav from '../components/SideNav'\nimport {\n    changeAddRadarFormVisibility,\n    sectorPageHandler,\n    timerangePageHandler,\n    changeAddPhenomenaVisibility,\n    toggleEditMenuVisiblity\n} from '../actions/radarSettings'\nimport { changeSignalListVisibility } from '../actions/signals'\nimport {\n    deleteRadar,\n    cloneRadar,\n    generatePowerpoint\n} from '../actions/radarData'\nimport { isCollaborationToolsAllowed } from '../selectors'\nimport { PUBLIC_URL } from '../env'\n\nexport default connect(\n    (state, props) => {\n        const {\n            radarSettings: {\n                signalToolEnabled,\n                addRadarFormOpen,\n                editMenuOpen,\n                editPhenomenaVisible,\n                addPhenomenaVisible,\n                editSectorsPageOpen,\n                id,\n                group,\n                groups,\n                canDeleteRadar,\n                canEditRadar,\n                isVisitor,\n                canShareRadar,\n                editTimeRangesPageOpen,\n                radarName\n            },\n            signals: {\n                signalListVisible\n            }\n        } = state\n\n        const collaborationToolsAllowed = group && groups ?\n            isCollaborationToolsAllowed(state)(group.id) : false\n\n        return {\n            signalToolEnabled,\n            addRadarFormOpen,\n            editPhenomenaVisible,\n            signalListVisible,\n            addPhenomenaVisible,\n            editSectorsPageOpen,\n            id,\n            groupId: group.id,\n            collaborationToolsAllowed,\n            canDeleteRadar,\n            isVisitor,\n            canShareRadar,\n            canEditRadar,\n            getReturnUrl: () => props.returnUri || PUBLIC_URL || '/',\n            editMenuOpen,\n            editTimeRangesPageOpen,\n            radarName\n        }\n    },\n    dispatch => bindActionCreators({\n        changeSignalListVisibility,\n        deleteRadar,\n        sectorPageHandler,\n        changeAddRadarFormVisibility,\n        timerangePageHandler,\n        changeAddPhenomenaVisibility,\n        cloneRadar,\n        toggleEditMenuVisiblity,\n        generatePowerpoint\n    }, dispatch)\n)(SideNav)\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { ErrorModal } from '@sangre-fp/ui'\nimport { clearAllErrors } from '../actions/radarSettings'\n\nexport default connect(\n    state => {\n        const {\n            errors\n        } = state\n\n        return {\n            errors\n        }\n    },\n    dispatch => bindActionCreators({\n        onClose: clearAllErrors\n    }, dispatch)\n)(ErrorModal)\n","import React, { PureComponent } from 'react'\nimport styled from 'styled-components'\nimport ReactQuill from 'react-quill'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { formats } from '../quill'\nimport { customQuillModules } from '../config'\n\nexport default class SectorEditorForm extends PureComponent {\n    state = {\n        titleInput: this.props.sector ? this.props.sector.title : '',\n        descriptionInput: this.props.sector ? (this.props.sector.notes || '') : ''\n    }\n\n    handleTitleChange = ({ target }) => this.setState({ titleInput: target.value })\n    handleDescriptionChange = value => this.setState({ descriptionInput: value })\n\n    render() {\n        const { titleInput, descriptionInput } = this.state\n        const { onClose, updateSector, sector } = this.props\n\n        return (\n            <Container>\n                <Title>\n                    {requestTranslation('editSectorTitle')}\n                </Title>\n                <SubTitle>\n                    {requestTranslation('sectorTitle')}\n                </SubTitle>\n                <Input\n                    type='text'\n                    value={titleInput || ''}\n                    onChange={this.handleTitleChange}\n                />\n                <SubTitle>\n                    {requestTranslation('sectorDescription')}\n                </SubTitle>\n                <ReactQuill\n                    className='fp-wysiwyg'\n                    style={{\n                        height: '250px',\n                        paddingBottom: '42px'\n                    }}\n                    value={descriptionInput}\n                    onChange={this.handleDescriptionChange}\n                    modules={customQuillModules}\n                    formats={formats}\n                />\n                <ButtonsContainer>\n                    <button className='btn btn-lg btn-plain-gray' onClick={onClose}>\n                        {requestTranslation('cancel')}\n                    </button>\n                    <button\n                        className='btn btn-lg btn-primary'\n                        onClick={() =>\n                            updateSector(sector, titleInput, descriptionInput, onClose)\n                        }\n                    >\n                        {requestTranslation('save')}\n                    </button>\n                </ButtonsContainer>\n            </Container>\n        )\n    }\n}\n\nconst Container = styled.div`\n    padding: 30px 50px;\n    z-index: 1000;\n`\n\nconst Title = styled.h2`\n    color: black;\n    margin: 0;\n`\n\nconst SubTitle = styled.h3`\n    color: black;\n    margin-top: 30px;\n    margin-bottom: 10px;\n`\n\nconst Input = styled.input`\n    width: 300px;\n    background: transparent;\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    margin-right: 15px;\n    font-size: 16px;\n    padding-left: 20px;\n    height: 45px;\n    border-radius: 1px;\n    box-sizing: border-box;\n`\n\nconst ButtonsContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 30px;\n`\n\n","import React, { PureComponent } from 'react'\nimport { PopupContainer } from '@sangre-fp/ui'\nimport styled from 'styled-components'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nclass EditSectorMenu extends PureComponent {\n    render() {\n        const {\n            x,\n            y,\n            timeranges,\n            addSector,\n            onClose,\n            sector,\n            deleteSector,\n            handleEditSectorForm\n        } = this.props\n\n        return (\n            <PopupContainer onClose={onClose}>\n                <EditMenu\n                    className='fp-dropdown-menu'\n                    style={{\n                        left: x,\n                        top: y\n                    }}\n                >\n                    {!!timeranges[0].sectors.length &&\n                        <EditMenuItem\n                            className='fp-dropdown-item'\n                            onClick={handleEditSectorForm}\n                        >\n                            {requestTranslation('editName')}\n                        </EditMenuItem>\n                    }\n                    <EditMenuItem\n                        className='fp-dropdown-item'\n                        onClick={() => {\n                            addSector(0, sector)\n                        }}\n                    >\n                        {requestTranslation('addSectorBefore')}\n                    </EditMenuItem>\n                    <EditMenuItem\n                        className='fp-dropdown-item'\n                        onClick={() => addSector(1, sector)}\n                    >\n                        {requestTranslation('addSectorAfter')}\n                    </EditMenuItem>\n                    {timeranges[0].sectors.length > 1 &&\n                        <EditMenuItem\n                            className='fp-dropdown-item'\n                            onClick={() => deleteSector(sector)}\n                        >\n                            {requestTranslation('deleteSector')}\n                        </EditMenuItem>\n                    }\n                </EditMenu>\n            </PopupContainer>\n        )\n    }\n}\n\nconst EditMenu = styled.div`\n    background: white;\n    position: absolute;\n    opacity: 1;\n    width: 230px;\n    display: flex;\n    flex-direction: column;\n    transform: translateX(-50%);\n`\n\nconst EditMenuItem = styled.div`\n    padding: 15px 20px;\n    font-size: 16px;\n    font-weight: 500;\n    color: black;\n    box-sizing: border-box;\n    z-index: 10;\n    &:hover {\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.1);\n        transition: all 0.4s ease;\n    }\n`\n\nexport default EditSectorMenu\n","import React, { PureComponent } from 'react'\nimport styled from 'styled-components'\nimport * as d3 from 'd3'\nimport _ from 'lodash'\nimport classNames from 'classnames'\nimport Text from 'react-svg-text'\nimport { toast } from 'react-toastify'\nimport SockJsClient from 'react-stomp'\nimport {\n    AllPhenomena,\n    CreateRadarForm,\n    AddPhenomenaSandbox,\n    ConfirmDialog,\n    SignalList,\n    SideNav,\n    ErrorModal,\n    TimeRangeEditorForm,\n    Filters\n} from '../containers'\nimport { Modal, SVGIcon, Loading } from '@sangre-fp/ui'\nimport { getCoordsFromAngleAndRadius, detectLeftButton } from '../helpers'\nimport { PUBLIC_URL, RADAR_DATA_WEBSOCKET_URL } from '../env'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { PhenomenonEditForm } from '@sangre-fp/content-editor'\nimport { PhenomenonLoader } from '@sangre-fp/hooks'\nimport SectorEditorForm from './SectorEditorForm'\nimport EditSectorMenu from './EditSectorMenu'\nimport Phenomenon from './Phenomenon'\nimport { modalStyles, paddingModalStyles } from '@sangre-fp/ui'\nimport { centerRadiusPercentage, getWebSocketHeaders, timerangeColors, radarBorderWidth } from '../config'\nimport fullscreen from '../components/CollaborationChartSetting/fullscreen.svg'\nimport edit2 from '../components/CollaborationChartSetting/edit2.svg'\nimport ReactDOM from \"react-dom\";\nimport {Fullscreen} from '@styled-icons/boxicons-regular'\n\nclass RadarPage extends PureComponent {\n    constructor(props) {\n        super(props)\n        const { containerWidth, containerHeight, svgDimensions } = props\n        const containerSize = Math.min(containerWidth, containerHeight)\n        const zoomExtent = (containerSize / svgDimensions) * 0.80\n        this.zoom = d3.zoom().scaleExtent([(containerSize / svgDimensions) * 0.50, zoomExtent + 4]).on('zoom', this.zoomed)\n        this.state = {\n            isIconImgLoading: true,\n            zoomExtent,\n            sectorDescriptionModal: null,\n            deleteRadarPhenomenonOpen: false,\n            editSector: null,\n            editMenuPosition: null,\n            zoomTransform: {\n                x: 0,\n                y: 0,\n                k: zoomExtent\n            },\n            mouseCoords: {\n                x: 0,\n                y: 0,\n                angle: 0,\n                radius: 0,\n                timeRange: null,\n                sector: null,\n                time: null\n            },\n            phenomenaDragged: false\n        }\n\n        this.elmRadar = React.createRef()\n    }\n\n    componentDidMount() {\n        const {\n            fetchRadar,\n            getUserGroups,\n            radarSettings: {\n                existingRadarPage\n            }\n        } = this.props\n\n\n        getUserGroups()\n            .then(() => {\n                    if (existingRadarPage) {\n                        fetchRadar()\n                    }\n                }\n            )\n\n        this.attachEvents()\n    }\n\n    \n    componentDidUpdate(prevProps) {\n        if (this.shouldRadarRender() && !this.shouldRadarRender(prevProps)) {\n            this.attachEvents()\n        }\n    }\n\n    zoomed = () => {\n        const { phenomenaDragged } = this.state\n\n        if (!phenomenaDragged && this.isZoomable()) {\n            this.setState({ zoomTransform: d3.event.transform })\n        }\n    }\n\n    attachEvents() {\n        const { zoomTransform: { k } } = this.state\n        const svg = d3.select(this.svg)\n\n        svg\n            .on('touchstart', this.handleMouseAction)\n            .on('touchmove', this.handleMouseAction)\n            .on('mousemove', this.handleMouseAction)\n            .on('touchend', this.onPhenomenaDragEnd)\n            .on('click', () => this.props.toggleEditMenuVisiblity(false))\n            .call(this.zoom)\n\n        this.zoom.scaleBy(svg, k)\n    }\n\n    handleResultsRedirect = () => {\n        const { radarSettings: { id, editSectorsPageOpen, addRadarFormOpen, editPhenomenaVisible, signalListVisible, isVisitor } } = this.props\n        // const renderRadarEditor = !editSectorsPageOpen && !addRadarFormOpen && !editPhenomenaVisible && !signalListVisible && !isVisitor\n        window.location.href = `${PUBLIC_URL}/node/${id}/results`\n    }\n\n    isZoomable = () => !this.isEditorPageOpen()\n\n    hideSectorMenuEdit = () => this.setState({ editMenuPosition: null })\n\n    showSectorEditMenu = ({ pageX, pageY }, sector) => this.setState({\n        editMenuPosition: {\n            x: pageX,\n            y: pageY,\n            sector\n        }\n    })\n    handleEditPhenomenonFormClose = () => this.props.changeEditPhenomenaVisibility()\n\n    renderTimelines() {\n        const { timeRanges, radius } = this.props\n\n        return (\n            <g className={'time-ranges'}>\n                <circle r={timeRanges[timeRanges.length - 1].outerRadius + radarBorderWidth} fill={'#F5F5F5'} />\n                {timeRanges.slice().reverse().map(({ outerRadius }, index) => {\n                    const isLast = index === 0\n\n                    return (\n                        <g key={index}>\n                            <circle\n                                r={outerRadius}\n                                fill={timerangeColors(index)}\n                                strokeWidth={isLast ? 2 : 0}\n                                stroke={'#979797'}\n                                strokeDasharray={4}\n                            />\n                        </g>\n                    )}\n                )}\n                {!timeRanges.length &&\n                    <circle r={radius} fill={timerangeColors(4)}/>\n                }\n            </g>\n        )\n    }\n\n    renderPhenomena() {\n        const {\n            radius,\n            timeRanges,\n            draggedPhenomenon\n        } = this.props\n\n        return (\n            <AllPhenomena\n                radius={radius}\n                timeRanges={timeRanges}\n                scaled={this.scaled}\n                zoomTransform={this.state.zoomTransform}\n                onPhenomenaDrag={this.onPhenomenaDrag}\n                draggedPhenomenon={draggedPhenomenon}\n                getPhenomenaDisplayProps={this.getPhenomenaDisplayProps}\n            />\n        )\n    }\n\n    renderSectors() {\n        const { timeRanges, radius } = this.props\n        const { mouseCoords: { sector } } = this.state\n        const selectedKey = sector ? sector.key : 0\n        const fontSize = this.scaled(8.5)\n        const { sectors: lastSectors } = _.last(timeRanges)\n\n        return (\n            <g className={'sectors'}>\n                {timeRanges.map(({ sectors }) => sectors.map(({ key, arc }) => (\n                    <path\n                        stroke={'transparent'}\n                        fill={selectedKey === key ? '#dededf' : 'transparent'}\n                        key={key}\n                        className={'sector'}\n                        d={arc}\n                    />\n                )))}\n\n                {lastSectors.map(({ id, key, title, startAngle, endAngle, notes }) => {\n                    const middleOfSectorAngle = ((startAngle + endAngle) / 2) || 0\n                    const offset = fontSize * 5\n                    const width = radius * 0.25\n\n                    const [x, y] = getCoordsFromAngleAndRadius(middleOfSectorAngle, radius + offset + radarBorderWidth)\n\n                    return (\n                        <g key={`sector-meta-${id}`}>\n                            <path\n                                key={key}\n                                stroke={'#909090'}\n                                fill={'#909090'}\n                                className={'sector'}\n                                strokeWidth='1'\n                                strokeDasharray={4}\n                                d={d3.radialLine()([[startAngle, 0], [startAngle, radius]])}\n                            />\n                            <Text\n                                x={x}\n                                y={y}\n                                verticalAnchor={'middle'}\n                                className={'sector-label noselect'}\n                                width={width}\n                                textAnchor='middle'\n                                style={{\n                                    fontSize: `${fontSize}px`\n                                }}\n                                onClick={() =>\n                                    this.setState({\n                                        sectorDescriptionModal: { notes, title }\n                                    })\n                                }\n                            >\n                                {title}\n                            </Text>\n                        </g>\n                    )\n                })}\n            </g>\n        )\n    }\n\n    renderLogo() {\n        const { timeRanges, radius, radarSettings: { radarImage }, radarLogoLinkDisabled } = this.props\n        const logoRadius = _.first(timeRanges)\n            ? _.first(timeRanges).radius\n            : radius * centerRadiusPercentage\n        const transform = `translate(${-logoRadius}, ${-logoRadius})`\n        \n        return (\n            <g>\n                {!radarImage ? (\n                    <circle\n                        className='radar-logo'\n                        onClick={!radarLogoLinkDisabled && this.handleResultsRedirect}\n                        r={logoRadius}\n                        fill={'#126995'}\n                        style={radarLogoLinkDisabled ? { cursor: 'default' } : null}\n                    />\n                ) : (\n                    <foreignObject\n                        className='radar-logo'\n                        onClick={!radarLogoLinkDisabled && this.handleResultsRedirect}\n                        width={logoRadius * 2}\n                        height={logoRadius * 2}\n                        transform={transform}\n                        style={radarLogoLinkDisabled ? { cursor: 'default' } : null}\n                    >\n                        <img\n                        \n                            alt='logo'\n                            src={radarImage}\n                            style={{\n                                width: logoRadius * 2,\n                                height: logoRadius * 2,\n                                borderRadius: '50%',\n                                objectFit: 'cover'\n                            }}\n                        />\n                    </foreignObject>\n                )}\n            </g>\n        )\n    }\n\n    getTimerangeLabelPath(radius) {\n        return `\n            M 0, 0\n            m -${radius}, 0\n            a ${radius},${radius} 0 1,0 ${(radius) * 2},0\n        `\n    }\n\n    renderTimelineTooltip() {\n        const { timelines, timeRanges, radarSettings: { timelineLabelFormat } } = this.props\n        const { scaled } = this\n        const fontSize = scaled(9)\n        const strokeWidth = scaled(4)\n        const tooltipHeight = scaled(16.5)\n\n        return (\n            <g className={'timeline'}>\n                {timeRanges.map((timeRange, index) => {\n                    const isLast = index === timeRanges.length - 1\n                    const tooltipY = timeRange.radius\n                    const {\n                        description,\n                        startYear,\n                        endYear,\n                        outerRadius,\n                        label,\n                        radius\n                    } = timeRange\n                    const line = d3.radialLine()([[Math.PI, radius + tooltipHeight], [Math.PI, outerRadius]])\n\n                    return (\n                        <g key={`tooltips-${index}`}>\n                            <path d={line} stroke={'#8d8e92'} strokeWidth={strokeWidth} />\n                            {(!timeRange.isPlaceholder) && (\n                                <g>\n                                    <g>\n                                        <path\n                                            d={this.getTimerangeLabelPath(tooltipY + tooltipHeight)}\n                                            id={`timerange-label-${index}`}\n                                            fill=\"transparent\"\n                                            style={{ pointerEvents: 'none' }}\n                                        />\n                                        <text\n                                            dy={-tooltipHeight / 4}\n                                            className={'hoverable timeline-label-text noselect'}\n                                            style={{ fontSize: `${fontSize}px` }}\n                                            onClick={() =>\n                                                this.setState({\n                                                    sectorDescriptionModal: {\n                                                    notes: description,\n                                                    title: timelineLabelFormat ? label : startYear\n                                                }}\n                                            )}\n                                        >\n                                            <textPath xlinkHref={`#timerange-label-${index}`} textAnchor=\"middle\" startOffset=\"50%\">\n                                                {timelineLabelFormat ? label : startYear}\n                                            </textPath>\n                                        </text>\n                                    </g>\n                                    {isLast && (\n                                        <g>\n                                            <path\n                                                id='timerange-label-last'\n                                                d={this.getTimerangeLabelPath(outerRadius + tooltipHeight)}\n                                                fill={'transparent'}\n                                                style={{ pointerEvents: 'none' }}\n                                            />\n                                            <text\n                                                dy={-tooltipHeight / 4}\n                                                className={'hoverable timeline-label-text noselect'}\n                                                style={{ fontSize: `${fontSize}px` }}\n                                                onClick={() => {\n                                                    this.setState({\n                                                        sectorDescriptionModal: {\n                                                            notes: timelines[timelines.length - 1].description,\n                                                            title: timelineLabelFormat ? timelines[timelines.length - 1].label : endYear\n                                                        }\n                                                    })\n                                                }}\n                                            >\n                                                <textPath xlinkHref={`#timerange-label-last`} textAnchor=\"middle\" startOffset=\"50%\">\n                                                    {timelineLabelFormat ? timelines[timelines.length - 1].label : endYear}\n                                                </textPath>\n                                            </text>\n                                        </g>\n                                    )}\n                                </g>\n                            )}\n                        </g>\n                    )\n                })}\n            </g>\n        )\n    }\n\n    shouldRadarRender(props = this.props) {\n        const { timeRanges } = props\n\n        return timeRanges.length !== 0 && !this.isEditorPageOpen(props)\n    }\n\n    renderRadar = () => {\n        const { containerWidth, containerHeight } = this.props\n        const { zoomTransform: { x, y, k }, phenomenaDragged } = this.state\n        const classes = classNames({\n            'zoomed-out': k < 0.25,\n            'zoomed-out-far': k < 0.15\n        })\n\n        return this.shouldRadarRender() && (\n            <svg \n                xmlns=\"http://www.w3.org/2000/svg\"\n                ref={this.svgRef}\n                height={containerHeight}\n                width={containerWidth}\n                className={classes}\n                style={{zIndex: phenomenaDragged ? 1 : 0}}>\n                <g className='zoom-control' transform={`translate(${x}, ${y}) scale(${k})`}>\n                    <g ref={this.radarRef}\n                       transform={`translate(${containerWidth / 2}, ${containerHeight / 2})`}>\n                        {this.renderTimelines()}\n                        {this.renderSectors()}\n                        {this.renderTimelineTooltip()}\n                        {this.renderLogo()}\n                        {this.renderPhenomena()}\n                        {this.renderDragMarker()}\n                    </g>\n                </g>\n            </svg>\n        )\n    }\n\n    renderMenuLink = (x, y, onClick, radius = this.scaled(25), fontSize = this.scaled(14)) => (\n        <g key={x + y} onClick={onClick} className={'tooltip-edit'}>\n            <circle r={radius / 2} cx={x} cy={y} fill={'#126995'} stroke={'none'}/>\n            <SVGIcon x={x} y={y} fontSize={fontSize} icon={'edit'}/>\n        </g>\n    )\n\n    renderEditabilityTooltip = (sector, index, offset) => {\n        const middleOfSectorAngle = ((sector.startAngle + sector.endAngle) / 2) || 0\n        const toolTipOffset = Math.min(offset * 0.15, 100)\n        const [x, y] = getCoordsFromAngleAndRadius(middleOfSectorAngle, offset - toolTipOffset)\n\n        return this.renderMenuLink(x, y, e => this.showSectorEditMenu(e, sector))\n    }\n\n    renderSectorEditor = () => {\n        const { containerWidth, containerHeight, timeRanges, radius, updateSector, radarSettings: { editSectorsPageOpen }, canEditRadar } = this.props\n\n        if (!canEditRadar) {\n            return null\n        }\n\n        const { sectors: lastSectors, outerRadius: lastRadius } = _.last(timeRanges)\n        const { editSector, zoomExtent } = this.state\n        const transform = `translate(${containerWidth / 2}, ${containerHeight / 2}) scale(${zoomExtent})`\n\n        return editSectorsPageOpen && (\n            <div>\n                <Modal\n                    isOpen={!!editSector}\n                    onRequestClose={() => {\n                        this.setState({ editSector: null })\n                    }}\n                    contentLabel='Sector settings'\n                    style={modalStyles}\n                    ariaHideApp={false}\n                >\n                    <SectorEditorForm\n                        sector={editSector}\n                        onClose={() => {\n                            this.setState({ editSector: null })\n                        }}\n                        updateSector={updateSector}\n                    />\n                </Modal>\n                <svg height={containerHeight} width={containerWidth} fill='black'>\n                    <g transform={transform}>\n                        <circle stroke={'#D9D9D9'}\n                                fill={'rgb(15, 19, 24)'}\n                                r={lastRadius}/>\n                        {this.renderSectors()}\n                        {lastSectors.map((sector, index) =>\n                            this.renderEditabilityTooltip(\n                                sector,\n                                index,\n                                lastRadius\n                            )\n                        )}\n                        {!lastSectors.length &&\n                        this.renderEditabilityTooltip({}, 1, radius)\n                        }\n                    </g>\n                </svg>\n            </div>\n        )\n    }\n\n    isEditorPageOpen(props = this.props) {\n        const {\n            radarSettings: {\n                editSectorsPageOpen\n            }\n        } = props\n\n        return editSectorsPageOpen\n    }\n\n    scaled = value => {\n        const { zoomExtent, zoomTransform: { k } } = this.state\n\n        if (!this.isZoomable()) {\n            return value / (zoomExtent / 1.4)\n        }\n\n        const divisor = Math.max(k, 0.25)\n\n        return value / (divisor / 1.4)\n    }\n\n    onPhenomenaDrag = (e, phenomenon, newlyCreated = false) => {\n        const { setDraggedPhenomenon, canEditRadar } = this.props\n\n        if (e) {\n            e.stopPropagation()\n        }\n\n        if (newlyCreated || (detectLeftButton(e) && e) || ('ontouchstart' in document.documentElement) || ('ontouchstart' in window)\n        ) {\n            this.setState({ updatingPhenomena: phenomenon })\n\n            this.longpressTimeout = setTimeout(() => {\n                if (canEditRadar) {\n                    this.setState({ phenomenaDragged: true })\n                    setDraggedPhenomenon(phenomenon)\n                }\n            }, 650)\n\n            document.addEventListener('mouseup', this.onPhenomenaDragEnd)\n            document.addEventListener('touchend', this.onPhenomenaDragEnd)\n            document.addEventListener('touchcancel', this.onPhenomenaDragEnd)\n            document.addEventListener('pointerup', this.onPhenomenaDragEnd)\n            // safari fix for when adding phenom\n            document.addEventListener('click', this.onPhenomenaDragEnd)\n        }\n    }\n\n    handleMouseAction = () => {\n        const { timeRanges, radius: radarRadius } = this.props\n\n        // d3.event.preventDefault()\n\n        if (!this.isEditorPageOpen()) {\n            const [x, y] = d3.mouse(this.radar)\n            const radians = Math.atan2(y, x)\n            const angle = radians < (Math.PI / 2) ? radians + (Math.PI * 2.5) : radians + (Math.PI * 0.5)\n            const radius = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\n            const isOutside = radius > radarRadius\n            const timeRange = _.find(timeRanges, ({ radius: innerRadius, outerRadius }) => radius >= innerRadius && radius < outerRadius)\n            const sector = timeRange && _.find(timeRange.sectors, ({ startAngle, endAngle }) => angle >= startAngle && angle < endAngle)\n            const outerTimeRange = isOutside ? _.last(timeRanges) : _.first(timeRanges)\n            const boundaryRadius = isOutside ? outerTimeRange.outerRadius : outerTimeRange.radius\n            const boundaryTime = isOutside ? outerTimeRange.endYear + 0.00001 : outerTimeRange.startYear + 0.00001\n            const outerSector = _.find(outerTimeRange.sectors, ({ startAngle, endAngle }) => angle >= startAngle && angle < endAngle)\n            const time = timeRange && timeRange.scale.invert(radius)\n            const xOffset = sector ? d3.scaleLinear()\n                .range([0, 1])\n                .domain([sector.startAngle, sector.endAngle])\n                .interpolate(d3.interpolate)(angle) : 0.5\n\n            this.setState({\n                mouseCoords: {\n                    x,\n                    y,\n                    isOutside,\n                    xOffset,\n                    angle,\n                    radius,\n                    timeRange,\n                    sector,\n                    time,\n                    outerSector,\n                    boundaryTime,\n                    boundaryRadius\n                }\n            })\n        }\n    }\n\n    onPhenomenaDragEnd = e => {\n        const { updatePhenomenon, setDraggedPhenomenon, draggedPhenomenon: phenomenon } = this.props\n        if (this.longpressTimeout) {\n            clearTimeout(this.longpressTimeout)\n        }\n\n        if (phenomenon) {\n            const { mouseCoords: { time, angle, sector, xOffset } } = this.state\n            const deleting = !sector\n\n            if (deleting) {\n                this.setState({ deleteRadarPhenomenonOpen: phenomenon })\n            } else {\n                updatePhenomenon(phenomenon, {\n                    sectorId: sector.id,\n                    xOffset,\n                    time,\n                    angle\n                })\n            }\n\n            this.setState({ phenomenaDragged: false })\n            setDraggedPhenomenon(false)\n\n            if (e) {\n                e.preventDefault()\n                e.stopPropagation()\n            }\n        }\n\n        if (e && ('ontouchstart' in document.documentElement || 'ontouchstart' in window)) {\n            e.preventDefault()\n            e.stopPropagation()\n        }\n\n        document.removeEventListener('mouseup', this.onPhenomenaDragEnd)\n        document.removeEventListener('pointerup', this.onPhenomenaDragEnd)\n        document.removeEventListener('touchcancel', this.onPhenomenaDragEnd)\n        document.removeEventListener('touchend', this.onPhenomenaDragEnd)\n        document.removeEventListener('click', this.onPhenomenaDragEnd)\n    }\n\n    svgRef = ref => this.svg = ref\n    radarRef = ref => this.radar = ref\n\n    getPhenomenaDisplayProps = () => {\n        const { radius, phenomenaTypesById } = this.props\n        // this can't be scaled due to react-svg-text calculation mechanisms\n        const labelWidth = radius * 0.25\n        const labelHeight = this.scaled(30)\n        const phenomenaSize = this.scaled(21)\n        const iconSize = this.scaled(21)\n        const fontSize = this.scaled(8)\n\n        return { labelWidth, labelHeight, phenomenaSize, iconSize, fontSize, phenomenaTypesById }\n    }\n\n    renderDragMarker() {\n        const { draggedPhenomenon } = this.props\n\n        if (draggedPhenomenon) {\n            if (!this.phenomenaDisplayProps) {\n                this.phenomenaDisplayProps = this.getPhenomenaDisplayProps()\n            }\n\n            const { mouseCoords: { sector, x, y } } = this.state\n\n            return (\n                <Phenomenon\n                    cx={x}\n                    cy={y}\n                    phenomenon={draggedPhenomenon}\n                    deleting={!sector}\n                    dragged={true}\n                    {...this.phenomenaDisplayProps}\n                    scaled={this.scaled}\n                />\n            )\n        } else if (this.phenomenaDisplayProps) {\n            this.phenomenaDisplayProps = null\n        }\n        return null\n    }\n\n    renderEditPhenomenonForm() {\n        const {\n            radarSettings: { editPhenomenaVisible, id, group, radarLanguage },\n            storePhenomenon,\n        } = this.props\n\n        return (\n            <Modal isOpen={!!editPhenomenaVisible}\n                   contentLabel={'Edit phenomena'}\n                   style={modalStyles}\n                   onRequestClose={this.handleEditPhenomenonFormClose}\n                   ariaHideApp={false}>\n                {editPhenomenaVisible && (\n                    <PhenomenonLoader id={editPhenomenaVisible.id} group={editPhenomenaVisible.group || editPhenomenaVisible.groups[0]}>\n                        {({ loading, error, phenomenon }) => {\n                            if (loading) {\n                                return <div className=\"py-5 text-center\">Loading...</div>\n                            }\n\n                            if (error) {\n                                return <div className=\"py-5 text-center text-danger\">{error.message}</div>\n                            }\n\n                            return (\n                                <PhenomenonEditForm\n                                    phenomenon={phenomenon}\n                                    onSubmit={(values, newsFeedChanges) => {\n                                        storePhenomenon(values, newsFeedChanges, this.handleEditPhenomenonFormClose)\n                                    }}\n                                    onCancel={this.handleEditPhenomenonFormClose}\n                                    onDelete={() => {}}\n                                    radar={{\n                                        id,\n                                        groupId: group.id,\n                                        language: radarLanguage\n                                    }}\n                                />\n                            )\n                        }}\n                    </PhenomenonLoader>\n                )}\n            </Modal>\n        )\n    }\n\n    handleWebsocketUpdate = update => {\n        const { radarSettings: { radar_version }, refetchRadarData } = this.props\n\n        if (update.radar_version !== radar_version) {\n            refetchRadarData()\n                .then(() => toast(requestTranslation('radarUpdated')))\n        }\n    }\n\n    renderSockJsClient() {\n        const { account, id } = this.props.radarSettings\n\n        return account && id && (\n            <SockJsClient\n                url={RADAR_DATA_WEBSOCKET_URL}\n                topics={[`/topic/radar/${id}`]}\n                onMessage={update => setTimeout(function() {\n                    this.handleWebsocketUpdate(update)\n                }.bind(this), 500)}\n                headers={getWebSocketHeaders()}\n            />\n        )\n    }\n\n    renderBottomLeftNav() {\n        const { radarSettings: { editSectorsPageOpen }, radarLogoLinkDisabled } = this.props\n\n        return !editSectorsPageOpen && <Filters hideInfoButton={radarLogoLinkDisabled} />\n    }\n\n    renderTitle() {\n        const { radarName, groups, group, titleLogo } = this.props.radarSettings\n        const renderTitleLogoInput = _.find(groups, ({ value }) => Number(value) === Number(group.id))\n\n        return renderTitleLogoInput && renderTitleLogoInput.radarLogoEnabled && titleLogo\n            ?\n            (<RadarTitleLogo src={titleLogo} />)\n            :\n            (<RadarTitle id='radar-title-left'>{radarName}</RadarTitle>)\n    }\n\n\n    // this really needs to be rewritten\n    renderEditSectorMenu() {\n        const { editMenuPosition } = this.state\n        const { timeRanges, addSector, deleteSector } = this.props\n\n        return editMenuPosition && (\n            <EditSectorMenu\n                timeranges={timeRanges}\n                handleEditSectorForm={() => {\n                    this.setState({ editSector: editMenuPosition.sector })\n                    this.hideSectorMenuEdit()\n                }}\n                y={editMenuPosition.y}\n                x={editMenuPosition.x}\n                sector={editMenuPosition.sector}\n                onClose={this.hideSectorMenuEdit}\n                deleteSector={sectorId => {\n                    deleteSector(sectorId)\n                    this.hideSectorMenuEdit()\n                }}\n                addSector={(direction, sectorId) => {\n                    addSector(direction, sectorId)\n                    this.hideSectorMenuEdit()\n                }}\n            />\n        )\n    }\n\n    renderCreateRadarModal() {\n        const {\n            changeAddRadarFormVisibility,\n            radarSettings: {\n                addRadarFormOpen,\n                id,\n            }\n        } = this.props\n\n        return (\n            <Modal\n                isOpen={addRadarFormOpen}\n                contentLabel='Radar settings'\n                style={modalStyles}\n                ariaHideApp={false}\n                onRequestClose={id ? () => changeAddRadarFormVisibility() : null}\n            >\n                <CreateRadarForm />\n            </Modal>\n        )\n    }\n\n    renderSectorDescriptionModal() {\n        const { sectorDescriptionModal } = this.state\n\n        return (\n            <Modal\n                isOpen={!!sectorDescriptionModal}\n                contentLabel='Sector description'\n                onRequestClose={() => this.setState({ sectorDescriptionModal: null })}\n                style={modalStyles}\n                ariaHideApp={false}\n            >\n                {!!sectorDescriptionModal &&\n                    <div>\n                        <div className='modal-form-sections'>\n                            <div className='modal-form-section modal-form-header'>\n                                <h2>{sectorDescriptionModal.title}</h2>\n                            </div>\n                            <div className='modal-form-section'>\n                                <div\n                                    dangerouslySetInnerHTML={{ __html: sectorDescriptionModal.notes }}\n                                />\n                            </div>\n                        </div>\n\n                        <div className='modal-form-section modal-form-actions pt-0'>\n                            <div\n                                onClick={() => this.setState({ sectorDescriptionModal: null })}\n                                className='btn btn-lg btn-primary'\n                            >\n                                {requestTranslation('close')}\n                            </div>\n                        </div>\n                    </div>\n                }\n            </Modal>\n        )\n    }\n\n    renderDeleteRadarPhenomenonModal() {\n        const { deleteRadarPhenomenonOpen } = this.state\n        const { deleteRadarPhenomenon } = this.props\n\n        return (\n            <Modal\n                isOpen={!!deleteRadarPhenomenonOpen}\n                contentLabel='Delete phenomena from radar'\n                style={paddingModalStyles}\n                className={'paddedModal'}\n                ariaHideApp={false}\n            >\n                <div className={'confirmation-modal-content'}>\n                    <h3 className={'confirmation-modal-title'}>\n                        {requestTranslation('deletePhenomenaDoubleCheck')}\n                    </h3>\n                    <div className={'confirmation-modal-actions'}>\n                        <button className='btn btn-lg btn-plain-gray'\n                                onClick={() => {\n                                    // is already on radar\n                                    if (deleteRadarPhenomenonOpen.time) {\n                                        this.setState({ deleteRadarPhenomenonOpen: false })\n                                    // need to add it to radar again and set it as dragged\n                                    } else {\n                                        this.onPhenomenaDrag(false, deleteRadarPhenomenonOpen, true)\n                                        this.setState({ deleteRadarPhenomenonOpen: false })\n                                    }\n                                }}>\n                            {requestTranslation('cancel')}\n                        </button>\n                        <button\n                            className='btn btn-lg btn-primary'\n                            onClick={() =>\n                                deleteRadarPhenomenon(deleteRadarPhenomenonOpen, () => this.setState({ deleteRadarPhenomenonOpen: false }))\n                            }\n                        >\n                            {requestTranslation('delete')}\n                        </button>\n                    </div>\n                </div>\n            </Modal>\n        )\n    }\n\n    renderSandbox() {\n        const { setDraggedPhenomenon, radarSettings: { addPhenomenaVisible } } = this.props\n        const { phenomenaDragged } = this.state\n\n        if (addPhenomenaVisible) {\n            return (\n                <AddPhenomenaSandbox\n                    onPhenomenaDrag={(...args) => {\n                        this.setState({ phenomenaDragged: true })\n                        this.onPhenomenaDrag(...args)\n                        setDraggedPhenomenon(args[1])\n                    }}\n                    updateMouseCoords={this.handleMouseAction}\n                    placing={!!phenomenaDragged}\n                />\n            )\n        }\n\n        return null\n    }\n\n    getParentByTag = (elem, lookingFor) => {\n        lookingFor = lookingFor.toUpperCase();\n        while (elem = elem.parentNode) if (elem.tagName === lookingFor) return elem;\n    }\n\n    // allowfullscreen\n    handleFullscreen = () => {\n        var isInFullScreen = (document.fullScreenElement && document.fullScreenElement !==     null) ||    // alternative standard method  \n        (document.mozFullScreen || document.webkitIsFullScreen);\n\n        const node = ReactDOM.findDOMNode(this);\n        // var docElm = document.documentElement;\n        const docElm = this.getParentByTag(node, 'iframe')\n                || this.getParentByTag(node, 'embed')\n                || this.getParentByTag(node, 'object')\n                || this.getParentByTag(node, 'body')\n\n        try {\n            // if (this.getParentByTag(node, 'iframe')) {\n            //     this.getParentByTag(node, 'iframe').setAttribute(\"allowfullscreen\", \"true\")\n            // }\n            // else if (this.getParentByTag(node, 'embed')) {\n            //     this.getParentByTag(node, 'embed').setAttribute(\"allowfullscreen\", \"true\")\n            // }\n            // else if (this.getParentByTag(node, 'object')) {\n            //     this.getParentByTag(node, 'object').setAttribute(\"allowfullscreen\", \"true\")\n            // }\n            \n            if (!isInFullScreen) {\n                if (docElm.requestFullscreen) {\n                    docElm.requestFullscreen();\n                }\n                else if (docElm.mozRequestFullScreen) {\n                    docElm.mozRequestFullScreen();\n                    alert(\"Mozilla entering fullscreen!\");\n                }\n                else if (docElm.webkitRequestFullScreen) {\n                    docElm.webkitRequestFullScreen();\n                    alert(\"Webkit entering fullscreen!\");\n                }\n            } else {\n                document.exitFullscreen()\n                .then(() => console.log(\"Document Exited from Full screen mode\"))\n                .catch((err) => console.error(err))\n            }\n        } catch (error) {\n            \n        }\n    }\n\n    render() {\n        const { loading, returnUri } = this.props\n\n        return (\n            <Container \n                style={{ pointerEvents: loading.length ? 'none' : 'all' }}\n                ref={this.elmRadar}\n                >\n                <Loading shown={loading.length} color={'white'}/>\n                {this.renderTitle()}\n                {this.renderBottomLeftNav()}\n                <SideNav returnUri={returnUri} radarSettings={this.props.radarSettings}/>\n                {\n                    // (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) !== true\n                    //     ? <FullscreenBtn onClick={this.handleFullscreen}>\n                    //         {/* <img src={fullscreen} /> */}\n                    //         {/* <i class=\"fas fa-expand\"></i> */}\n                       \n                    //     </FullscreenBtn> : '')\n                }\n                \n                {this.renderEditSectorMenu()}\n                {this.renderRadar()}\n                {this.renderSectorEditor()}\n                <SignalList />\n                {this.renderSandbox()}\n                <TimeRangeEditorForm radarWidth={this.svg && this.svg.width.baseVal.value} />\n                {this.renderEditPhenomenonForm()}\n                {this.renderSockJsClient()}\n                {this.renderCreateRadarModal()}\n                {this.renderSectorDescriptionModal()}\n                {this.renderDeleteRadarPhenomenonModal()}\n                <ConfirmDialog />\n                <ErrorModal />\n            </Container>\n        )\n    }\n}\n\n// const FullscreenBtn = styled.div`\n//     color: white;\n//     position: absolute;\n//     bottom: 8px;\n//     right: 30px;\n//     background: white;\n//     width: 40px;\n//     height: 40px;\n//     cursor: pointer;\n//     z-index: 999;\n// `\n\nconst FullscreenBtn = styled(Fullscreen)`\n    color: white;\n    position: absolute;\n    bottom: 8px;\n    right: 18px;\n    // background: white;\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n    z-index: 999;\n`\n\nconst RadarTitle = styled.h1`\n    color: white;\n    position: absolute;\n    top: 25px;\n    left: 25px;\n    margin: 0;\n    text-shadow: 1.5px 1.5px 0 rgba(0, 0, 0, .2);\n    max-width: 250px;\n`\n\nconst Container = styled.div`\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    background-color: black;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nconst RadarTitleLogo = styled.img`\n    height: 85px;\n    width: auto;\n    object-fit: contain;\n    position: absolute;\n    top: 25px;\n    left: 25px;\n`\n\nexport default RadarPage\n","import _ from 'lodash'\nimport { getNetworkMethods } from './network'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport radarDataApi from '../radarDataApiProxy'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nexport const addSector = (placement, selectedSector) => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.ADD_SECTOR,\n        actionTypes.ADD_SECTOR_SUCCESS,\n        requestTranslation('addingSectorError')\n    )\n\n    const radarId = getState().radarSettings.id\n\n    const data = {\n        title: '',\n        notes: ''\n    }\n\n    if (selectedSector && !_.isEmpty(selectedSector) && placement === 0) {\n        data.next = {}\n        data.next.id = selectedSector.id\n        data.next.version = selectedSector.version\n    } else if (selectedSector && !_.isEmpty(selectedSector) && placement === 1) {\n        data.previous = {}\n        data.previous.id = selectedSector.id\n        data.previous.version = selectedSector.version\n    }\n\n    dispatch(loading())\n\n    return radarDataApi.createSector(radarId, data)\n        .then(({ sector, next, previous }) => dispatch(success({\n            affectedSectors: [next, previous].filter(s => !_.isEmpty(s)),\n            sectorId: selectedSector.id,\n            placement,\n            sector\n        })))\n        .catch(err => dispatch(error(err)))\n}\n\nexport const updateSector = (sector, title, notes, callback) => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.EDIT_SECTOR,\n        actionTypes.EDIT_SECTOR_SUCCESS,\n        requestTranslation('editingSectorError')\n    )\n\n    dispatch(loading())\n\n    const radarId = getState().radarSettings.id\n    const data = {\n        id: sector.id,\n        version: sector.version,\n        title,\n        notes\n    }\n\n    return radarDataApi.updateSector(radarId, data)\n        .then(resultData => {\n            if (callback) {\n                callback()\n            }\n            return dispatch(success(resultData.sector))\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const deleteSector = ({ id: sectorId, version }) => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.DELETE_SECTOR,\n        actionTypes.DELETE_SECTOR_SUCCESS,\n        requestTranslation('deletingSectorError')\n    )\n\n    dispatch(loading())\n\n    const radarId = getState().radarSettings.id\n    const data = { id: sectorId, version }\n\n    return radarDataApi.deleteSector(radarId, sectorId, data)\n        .then(({ next, previous, radar_version }) => {\n            const affectedSectors = [next, previous].filter(s => !_.isEmpty(s))\n            dispatch(success({\n                    deletedSectorId: sectorId,\n                    affectedSectors,\n                    radarVersion: radar_version\n                }\n            ))\n        })\n        .catch(err => dispatch(error(err)))\n}\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport RadarPage from '../components/RadarPage'\nimport { compose, bindActionCreators } from 'redux'\nimport Dimensions from 'react-dimensions'\nimport { createSelector } from 'reselect'\nimport { centerRadiusPercentage } from '../config'\nimport { getCoordsFromAngleAndRadius } from '../helpers'\nimport * as d3 from 'd3'\nimport _ from 'lodash'\n\nimport {\n    changeAddRadarFormVisibility,\n    changeEditPhenomenaVisibility,\n    getUserGroups,\n    toggleEditMenuVisiblity\n} from '../actions/radarSettings'\nimport { addSector, deleteSector, updateSector } from '../actions/sectors'\nimport {\n    fetchRadar,\n    setDraggedPhenomenon,\n    updatePhenomenon,\n    createPhenomenonWithPosition,\n    deleteRadarPhenomenon,\n    refetchRadarData,\n    storePhenomenon,\n    addPublicPhenomenaToRadar\n} from '../actions/radarData'\n\nconst getCreateTimeRanges = (thisRadius, centerRadius = thisRadius * centerRadiusPercentage) => timeRanges => {\n    let previousRadius = centerRadius\n\n    return timeRanges.map((timeRange, index) => {\n        const { startYear, endYear, sectors, position } = timeRange\n        const width = position - (index ? timeRanges[index - 1].position : 0)\n        const timelineWidth = (thisRadius - centerRadius) * width\n\n        // get inner radius\n        const radius = previousRadius\n\n        // get outer radius\n        const outerRadius = previousRadius + timelineWidth\n\n        previousRadius = outerRadius\n\n        // get scale\n        const scale = d3.scaleLinear()\n            .range([radius, outerRadius])\n            .domain([startYear, endYear])\n\n        // get constraints\n        const band = d3.scaleBand().range([0, 2 * Math.PI]).domain(_.keys(sectors))\n\n        // set phenomena x and y\n        return {\n            ...timeRange,\n            radius,\n            outerRadius,\n            scale,\n            sectors: sectors.map((sector, sectorIndex) => {\n                const startAngle = (Math.PI + band(sectorIndex))\n                const endAngle = Math.PI + band(sectorIndex) + band.step()\n                const key = `sector-${startYear}-${sector.id}`\n                return {\n                    ...sector,\n\n                    key,\n\n                    startAngle,\n\n                    endAngle,\n\n                    scale,\n\n                    arc: d3.arc()\n                        .innerRadius(radius)\n                        .outerRadius(outerRadius)\n                        .startAngle(startAngle)\n                        .endAngle(endAngle)(),\n\n                    constraints: {\n                        angle: [startAngle, endAngle],\n                        radius: [radius, outerRadius]\n                    },\n\n                    phenomena: sector.phenomena.map(phenomenon => {\n                        const { xOffset, time } = phenomenon\n\n                        const angle = startAngle + ((endAngle - startAngle) * xOffset)\n                        const phenomenonRadius = scale(time)\n\n                        const [x, y] = getCoordsFromAngleAndRadius(angle, phenomenonRadius)\n\n                        return {\n                            ...phenomenon,\n                            angle,\n                            radius: phenomenonRadius,\n                            x,\n                            y\n                        }\n                    })\n                }\n            })\n        }\n    })\n}\n\nconst Timelines = WrappedComponent => {\n    class WithTimelines extends PureComponent {\n        render() {\n            // const { containerHeight, containerWidth } = this.props\n            const containerHeight = 2300\n            const containerWidth = 2300\n            const svgDimensions = Math.min(containerHeight, containerWidth)\n            const radius = (svgDimensions / 2) - 30\n            const createTimeRanges = getCreateTimeRanges(radius)\n\n            return (\n                <WrappedComponent\n                    {...this.props}\n                    svgDimensions={svgDimensions}\n                    radius={radius}\n                    createTimeRanges={createTimeRanges}\n                />\n            )\n        }\n    }\n\n    return WithTimelines\n}\n\nconst getTimelines = ({ timelines }) => timelines\nconst getSectors = ({ sectors }) => sectors\nconst getPhenomena = ({ phenomena }) => phenomena\nconst getDraggedPhenomenonId = ({ radarSettings: { draggedPhenomenonId } }) => draggedPhenomenonId\n\nconst getPropsCreateTimeRanges = (state, props) => props.createTimeRanges\n\nconst getSectorPhenomena = (sector, phenomenas, startYear, endYear) => {\n    return phenomenas.filter(\n        ({ sectorId, time }) =>\n            sectorId === sector.id && time >= startYear && time < endYear\n    )\n}\n\nconst getTimelineSectors = (sectors, phenomena, startYear, endYear) => sectors.map(sector => ({\n    ...sector,\n    phenomena: getSectorPhenomena(sector, phenomena, startYear, endYear)\n}))\n\nconst getTimeRanges = createSelector(\n    [getTimelines, getSectors, getPhenomena],\n    (timeLineBoundaries, sectors, phenomena) => {\n        // TODO fix\n        const isPlaceholder = timeLineBoundaries.length === 1 && timeLineBoundaries[0][1] === 1\n\n        return timeLineBoundaries.map(({ year: startYear }, index) => {\n            if (timeLineBoundaries[index + 1]) {\n                const endYear = timeLineBoundaries[index + 1].year\n                const title = timeLineBoundaries[index + 1].title || ''\n                const id = timeLineBoundaries[index + 1].id\n                const version = timeLineBoundaries[index + 1].version || 1\n                const position = timeLineBoundaries[index + 1].position\n                const description = timeLineBoundaries[index].description\n                const label = timeLineBoundaries[index].label\n\n                return {\n                    id,\n                    title,\n                    startYear,\n                    endYear,\n                    isPlaceholder,\n                    sectors: getTimelineSectors(sectors, phenomena, startYear, endYear),\n                    version,\n                    position,\n                    description,\n                    label\n                }\n            }\n\n            return null\n        }).filter(timeRange => !!timeRange)\n    }\n)\n\nconst getRadarData = createSelector(\n    [getTimeRanges, getPropsCreateTimeRanges],\n    (timeRanges, createTimeRanges) => createTimeRanges(timeRanges)\n)\nconst getDraggedPhenomenon = createSelector(\n    [getPhenomena, getDraggedPhenomenonId],\n    (phenomena, draggedPhenomenonId) => _.find(\n        phenomena, ({ id }) => id === draggedPhenomenonId\n    )\n)\n\nconst mapStateToProps = (state, props) => {\n    const {\n        radarSettings,\n        loading,\n        phenomenaTypesById,\n        timelines\n    } = state\n\n    return {\n        loading,\n        radarSettings,\n        phenomenaTypesById,\n        timeRanges: getRadarData(state, props),\n        canEditRadar: radarSettings.canEditRadar,\n        isVisitor: radarSettings.isVisitor,\n        draggedPhenomenon: getDraggedPhenomenon(state),\n        timelines\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    ...bindActionCreators({\n        changeAddRadarFormVisibility,\n        addSector,\n        deleteSector,\n        updateSector,\n        fetchRadar,\n        changeEditPhenomenaVisibility,\n        deleteRadarPhenomenon,\n        storePhenomenon,\n        getUserGroups,\n        refetchRadarData,\n        toggleEditMenuVisiblity,\n        addPublicPhenomenaToRadar\n    }, dispatch),\n    setDraggedPhenomenon: phenomenon => dispatch(setDraggedPhenomenon(phenomenon.id || phenomenon.phenomenon_uuid)),\n    updatePhenomenon:\n        // phenomena do not have ids until placed\n        (phenomenon, positionData) => !phenomenon.time\n            ? dispatch(createPhenomenonWithPosition(phenomenon, positionData))\n            : dispatch(updatePhenomenon(phenomenon, positionData))\n})\n\nexport default compose(\n    Dimensions(),\n    Timelines,\n    connect(mapStateToProps, mapDispatchToProps)\n)(RadarPage)\n","import _ from 'lodash'\n\nimport { getNetworkMethods } from './network'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport radarDataApi from '../radarDataApiProxy'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nexport function roundToX(num, X) {\n    return +(Math.round(num + \"e+\"+X)  + \"e-\"+X)\n}\n\nexport const updateTimerange = (timerange, callback) => (dispatch, getState) => {\n    const radarId = getState().radarSettings.id\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.UPDATE_TIMERANGE,\n        actionTypes.UPDATE_TIMERANGE_SUCCESS,\n        requestTranslation('updatingTimelinesError')\n    )\n\n    // can be data = {...payload} when title is removed from dto by konrad\n    const { id, version, position, label, description, year } = timerange\n    const data = { id, version, position, label, description, year }\n\n    dispatch(loading())\n\n    return radarDataApi.updateRadarTimeRange(radarId, data)\n        .then(timeRangeData => {\n            callback()\n            return dispatch(success({\n                ...timeRangeData.time_range\n            }))\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const updateTimerangePosition = (newTimelinePositions, oldTimelinePositions) => (dispatch, getState) => {\n    const radarId = getState().radarSettings.id\n    const timelines = getState().timelines\n    const newPosition = _.difference(newTimelinePositions, oldTimelinePositions)[0]\n\n    // because this is fired upon a onAfterChange event, the position has already been set by the uploadPositions function\n    const timelineToUpdate = _.find(timelines, { position: roundToX(Number(newPosition), 2) })\n    const data = { ...timelineToUpdate }\n\n    // first and last timerange position are unchangable\n    // so the only time timelineToUpload is false, is when one\n    // of those has been touched (they fire an event despite being disabled\n    // ( bug in rc-slider )\n    if (!timelineToUpdate) {\n        return\n    }\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.UPDATE_TIMERANGE,\n        actionTypes.UPDATE_TIMERANGE_SUCCESS,\n        requestTranslation('updatingTimelinesPositionError')\n    )\n\n    dispatch(loading())\n\n    return radarDataApi.updateRadarTimeRange(radarId, data)\n        .then(timeRangeData => dispatch(success({\n            ...timeRangeData.time_range\n        })))\n        .catch(err => {\n            // set the timeranges position to it's old position\n            dispatch({\n                type: actionTypes.UPDATE_TIMELINES,\n                payload: updatePositions(timelines, oldTimelinePositions)\n            })\n\n            dispatch(error(err))\n        })\n}\n\nexport const removeTimeline = timerange => (dispatch, getState) => {\n    const radarId = getState().radarSettings.id\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.REMOVE_TIMELINE,\n        actionTypes.REMOVE_TIMELINE_SUCCESS,\n        requestTranslation('removingTimelineError')\n    )\n\n    dispatch(loading())\n\n    const data = { ...timerange }\n\n    return radarDataApi.deleteRadarTimeRange(radarId, data)\n        .then(timeRangeData => dispatch(success(timeRangeData.time_range.id)))\n        .catch(err => dispatch(error(err)))\n}\n\n\nconst updatePositions = (timelines, positions) => {\n    return timelines\n        .map((timeline, index) => ({\n            ...timeline,\n            position: roundToX(Number(positions[index]), 2)\n        }))\n}\n\nexport const updateTimelinePositions = timelineYearRangeValues => (dispatch, getState) => {\n    const timelines = getState().timelines\n\n    // first and last positions are unchangable\n    const positions = timelineYearRangeValues.map((value, index) => {\n        if (index === 0) {\n            return 0\n        }\n\n        if (index === timelineYearRangeValues.length - 1) {\n            return 1\n        }\n\n        return value\n    })\n\n    dispatch({\n        type: actionTypes.UPDATE_TIMELINES,\n        payload: updatePositions(timelines, positions)\n    })\n}\n\nexport const addTimeline = (timeline, callback) => (dispatch, getState) => {\n    const timelines = getState().timelines\n    const { id: radarId, timelineLabelFormat } = getState().radarSettings\n\n    // insert new timeline into proper place\n    let newTimelines = [...timelines]\n    const newTimelineIndex = timelineLabelFormat ? _.sortedIndexBy(timelines, timeline, 'position') : _.sortedIndexBy(timelines, timeline, 'year')\n    newTimelines.splice(newTimelineIndex, 0, timeline)\n\n    // set the new timeline's position to be between it's neightbours\n    const nextTimelinePosition = Number(newTimelines[newTimelineIndex + 1].position)\n    const previousTimelinePosition = Number(newTimelines[newTimelineIndex - 1].position)\n    const timelinePosition = (nextTimelinePosition + previousTimelinePosition) / 2\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.ADD_TIMERANGE,\n        actionTypes.ADD_TIMERANGE_SUCCESS,\n        requestTranslation('addingTimelineError')\n    )\n\n    const data = {\n        ...newTimelines[newTimelineIndex],\n        position: roundToX(Number(timelinePosition), 2)\n    }\n\n    dispatch(loading())\n\n    return radarDataApi.addRadarTimeRange(radarId, data)\n        .then(timeRangeData => {\n            const newTimelineState = [...timelines]\n            // posiiton will come from backend once it's implemented\n            // then delete this position below\n            newTimelineState.splice(newTimelineIndex, 0, {...timeRangeData.time_range })\n\n            dispatch(success(newTimelineState))\n            callback()\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const toggleLabelMode = () => dispatch => dispatch({ type: actionTypes.TOGGLE_LABEL_MODE })","import _ from 'lodash'\nimport React, { PureComponent } from 'react'\nimport styled from 'styled-components'\nimport { Range, Handle } from 'rc-slider'\nimport Select from 'react-select'\nimport Draggable from 'react-draggable'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport {\n    Z_INDEX_MODAL,\n    Checkbox,\n    MaterialIcon,\n    Modal,\n    paddingModalStyles,\n    ModalContainer,\n    BorderTitleContainer as Container\n} from '@sangre-fp/ui'\nimport { createGlobalStyle } from 'styled-components'\nimport ReactQuill from 'react-quill'\nimport {\n    customQuillModules,\n    RANGE_MIN,\n    RANGE_MAX,\n    RANGE_BOUNDARY,\n    TIMELINE_TEMPLATE,\n    MAX_TIMELINES\n} from '../config'\nimport { formats } from '../quill'\nimport { roundToX } from '../actions/timelines'\n\nconst MODAL_WIDTH = 300\nconst MODAL_TO_RADAR_MARGIN = 37\n\nexport default class SectorEditorForm extends PureComponent {\n    state = {\n        // timerangeEditModal is either timeline to edit, false or new timeline template\n        timerangeEditModal: false,\n        updateTimerangeBlock: false,\n        oldPositions: this.props.timelines.map(({ year }) => year)\n    }\n\n    calculateModalDisplacement = () => {\n        const { radarWidth } = this.props\n\n        if (!radarWidth) {\n            return MODAL_TO_RADAR_MARGIN + 'px'\n        }\n\n        const windowWidth = window.innerWidth\n        const availableWidth = (windowWidth - radarWidth) / 2\n\n        if (availableWidth > MODAL_WIDTH + MODAL_TO_RADAR_MARGIN * 2) {\n            return availableWidth - (MODAL_WIDTH + MODAL_TO_RADAR_MARGIN) + 'px'\n        }\n\n        return MODAL_TO_RADAR_MARGIN + 'px'\n    }\n\n    cancelEvents = e => {\n        e.preventDefault()\n        e.stopPropagation()\n        this.blurHandles()\n    }\n\n    handleDescriptionChange = value => {\n        const { timerangeEditModal } = this.state\n\n        this.setState({\n            timerangeEditModal: {\n                ...timerangeEditModal,\n                description: value\n            }\n        })\n    }\n\n    handleYearChange = ({ target }) => {\n        const { timerangeEditModal } = this.state\n\n        this.setState({\n            timerangeEditModal: {\n                ...timerangeEditModal,\n                year: Number(target.value) ? Number(target.value) : ''\n            }\n        })\n    }\n\n    handleLabelChange = ({ target }) => {\n        const { timerangeEditModal } = this.state\n\n        this.setState({\n            timerangeEditModal: {\n                ...timerangeEditModal,\n                label: target.value\n            }\n        })\n    }\n\n\n    handleLabelPositionChange = ({ value, year }) => {\n        const { timerangeEditModal } = this.state\n\n        this.setState({\n            timerangeEditModal: {\n                ...timerangeEditModal,\n                position: value,\n                year\n            }\n        })\n    }\n\n    generateLabelPositionOptions = () => {\n        const { timelines } = this.props\n\n        return timelines.map(({ label }, index) => {\n            if (index < timelines.length - 1) {\n                const nextPosition = Number(timelines[index + 1].position)\n                const position = roundToX((Number(timelines[index].position) + nextPosition) / 2, 2)\n                const year = Math.round((Number(timelines[index].year) + Number(timelines[index + 1].year)) / 2)\n\n                return { label: requestTranslation('afterLabel', label), value: position, year }\n            }\n\n            return null\n        }).filter(option => option)\n    }\n\n    validateTimerangeInput = () => {\n        const { timerangeEditModal: { year, id } } = this.state\n        const { timelines, timelineLabelFormat } = this.props\n\n        const firstYear = Number(timelines[0].year)\n        const lastYear = Number(timelines[timelines.length - 1].year)\n\n        if (!id) {\n\n            if (timelines.length >= MAX_TIMELINES) {\n                return requestTranslation('timerangeAmountError')\n            }\n\n            if (!timelineLabelFormat && (!year || isNaN(year) || (year <= firstYear || year >= lastYear))) {\n\n                return requestTranslation('timerangeBoundaryError', ({ firstYear, lastYear }) )\n            }\n\n            if (_.find(timelines, [ 'year', Number(year) ])) {\n\n\n                return timelineLabelFormat ? requestTranslation('consecutiveYearError') : requestTranslation('timerangeExistsError')\n            }\n\n            let newTimelines = [...timelines]\n            const timeline = this.state.timerangeEditModal\n\n            if (!timeline || (timelineLabelFormat && !timeline.position)) {\n                return true\n            }\n\n            const newTimelineIndex = timelineLabelFormat ? _.sortedIndexBy(timelines, timeline, 'position') : _.sortedIndexBy(timelines, timeline, 'year')\n            newTimelines.splice(newTimelineIndex, 0, timeline)\n\n            const nextTimeline = newTimelines[newTimelineIndex + 1]\n            const previousTimeline = newTimelines[newTimelineIndex - 1]\n\n            if (Number(nextTimeline.position) - Number(previousTimeline.position) < RANGE_BOUNDARY * 2) {\n                return requestTranslation('timerangeSpaceError', ({ previousYear: timelineLabelFormat ? `'${previousTimeline.label}'` : previousTimeline.year, nextYear: timelineLabelFormat ? `'${nextTimeline.label}'` : nextTimeline.year }))\n            }\n        }\n\n        if (id) {\n            if (!year || isNaN(year)) {\n                return requestTranslation('timerangeError', ({ firstYear, lastYear }) )\n            }\n\n            const index = _.findIndex(timelines, { id })\n            const previousTimeline = timelines[index - 1]\n            const nextTimeline = timelines[index + 1]\n\n            if (nextTimeline && year >= nextTimeline.year) {\n                return requestTranslation('timerangeSmallerYearError', nextTimeline.year)\n            }\n\n            if (previousTimeline && year <= previousTimeline.year) {\n                return requestTranslation('timerangeLargerYearError', previousTimeline.year)\n            }\n\n            // if (year < 2018) {\n            //     return requestTranslation('timerangeCurrentYearError', 2018)\n            // }\n\n        }\n\n        return false\n    }\n\n    resetTimerangeEditModal = () => this.setState({ timerangeEditModal: false })\n\n    renderTimeRangeModal = () => {\n        const { timerangeEditModal } = this.state\n        const { addTimeline, updateTimerange, timelineLabelFormat } = this.props\n        const edit = timerangeEditModal.id\n        const disabledText = this.validateTimerangeInput()\n        const options = this.generateLabelPositionOptions()\n\n        return timerangeEditModal && (\n            <Modal\n                isOpen={true}\n                onRequestClose={() => this.setState({ timerangeEditModal: false})}\n                contentLabel='Timerange editor'\n                ariaHideApp={false}\n                style={paddingModalStyles}\n            >\n                <ModalContainer>\n                    <h2>\n                        {edit ?\n                            requestTranslation('editTimerange')\n                            :\n                            requestTranslation('addTimerange')\n                        }\n                    </h2>\n                    {timelineLabelFormat ?\n                        (\n                            <div className='mb-4 d-flex w-100 align-items-center justify-content-between'>\n                                <div style={{ width: '35%' }}>\n                                    <h3>{requestTranslation('label')}</h3>\n                                    <LabelInput\n                                        maxLength={35}\n                                        value={timerangeEditModal.label}\n                                        onChange={this.handleLabelChange}\n                                        placeholder={requestTranslation('typeLabel')}\n                                    />\n                                </div>\n                                {!edit && (\n                                    <div style={{ width: '35%' }}>\n                                        <h3>{requestTranslation('labelPosition')}</h3>\n                                        <Select\n                                            searchable={false}\n                                            clearable={false}\n                                            name='position'\n                                            className='fp-radar-select w-100 h-100'\n                                            value={timerangeEditModal.position}\n                                            onChange={this.handleLabelPositionChange}\n                                            options={options.length ? options : []}\n                                        />\n                                    </div>\n                                )}\n                            </div>\n                        )\n                    :\n                        (\n                            <div>\n                                <h3>{requestTranslation('year')}</h3>\n                                <InputContainer className='mb-4'>\n                                    <YearInput\n                                        onChange={this.handleYearChange}\n                                        value={timerangeEditModal.year}\n                                        maxLength={4}\n                                    />\n                                </InputContainer>\n                            </div>\n                        )\n                    }\n                    <p>{disabledText}</p>\n                    <h3>{requestTranslation('description')}</h3>\n                    <ReactQuill\n                        className='fp-wysiwyg'\n                        style={{ height: '250px', paddingBottom: '42px' }}\n                        modules={customQuillModules}\n                        onChange={this.handleDescriptionChange}\n                        formats={formats}\n                        value={timerangeEditModal.description || ''}\n                    />\n                    <div className={'confirmation-modal-actions d-flex justify-content-end mt-4'}>\n                        <button className='btn btn-lg btn-plain-gray'\n                                onClick={this.resetTimerangeEditModal}>\n                            {requestTranslation('cancel')}\n                        </button>\n                        <button\n                            className='btn btn-lg btn-primary'\n                            disabled={!!disabledText}\n                            onClick={() =>\n                                edit ?\n                                    updateTimerange(timerangeEditModal, this.resetTimerangeEditModal)\n                                    :\n                                    addTimeline(timerangeEditModal, this.resetTimerangeEditModal)\n                                }\n                        >\n                            {edit ? requestTranslation('edit') : requestTranslation('add')}\n                        </button>\n                    </div>\n                </ModalContainer>\n            </Modal>\n        )\n    }\n\n\n    renderHandles = handleProps => {\n        const {\n            timelines,\n            toggleConfirmationDialog,\n            removeTimeline,\n            timelineLabelFormat\n        } = this.props\n        const { index, dragging } = handleProps\n        const isDisabled = index === 0 || index === timelines.length - 1\n        const { year, label } = timelines[index]\n\n        return (\n            <Handle\n                key={year}\n                {...handleProps}\n                dragging={dragging.toString()}\n                disabled={isDisabled}\n                style={{ zIndex: timelines.length - index }}\n            >\n                {isDisabled ?\n                    <DragIconContainer />\n                :\n                    <DragIconContainer border>\n                        <MaterialIcon color={'#0A6996'}>\n                                unfold_more\n                        </MaterialIcon>\n                    </DragIconContainer>\n                }\n                <div className='pl-2 trunctuate'>{timelineLabelFormat ? label : year}</div>\n                <div\n                    className='ml-auto dropdown show dropdown-toggle h-100'\n                    href='#'\n                    role=\"button\"\n                    data-toggle=\"dropdown\"\n                    id=\"dropdownMenuLink\"\n                    onMouseDown={this.cancelEvents}\n                    onClick={this.cancelEvents}\n                    onMouseUp={this.cancelEvents}\n                >\n                    <button\n                        className='btn btn-link h-100 w-100 d-flex align-items-center justify-content-center pl-2 pr-2'\n                        onMouseDown={this.cancelEvents}\n                        onClick={this.cancelEvents}\n                        onMouseUp={this.cancelEvents}\n                    >\n                        <MaterialIcon\n                            color={'#0A6996'}\n                            onMouseDown={this.cancelEvents}\n                            onClick={this.cancelEvents}\n                            onMouseUp={this.cancelEvents}\n                        >\n                            more_horiz\n                        </MaterialIcon>\n                    </button>\n                    <div\n                        className='dropdown-menu'\n                        aria-labelledby=\"dropdownMenuLink\"\n                    >\n                        <div\n                            className='dropdown-item'\n                            onMouseDown={e => {\n                                this.cancelEvents(e)\n\n                                this.setState({ timerangeEditModal: timelines[index] })\n                            }}\n                        >\n                            {requestTranslation('edit')}\n                        </div>\n                        {!isDisabled &&\n                            <div\n                                className='dropdown-item'\n                                onMouseDown={e => {\n                                    this.cancelEvents(e)\n                                    toggleConfirmationDialog({\n                                        title: requestTranslation('timelineDeleteTitle', timelineLabelFormat ? label : year),\n                                        text: requestTranslation('timelineDeleteSubtitle'),\n                                        callback: () => removeTimeline(timelines[index])\n                                    })\n                                }}\n                            >\n                                {_.upperFirst(_.toLower(requestTranslation('delete')))}\n                            </div>\n                        }\n                    </div>\n                </div>\n            </Handle>\n        )\n    }\n\n    savePreviousPosition = positions => this.setState({ oldPositions: positions })\n\n    // this is needed because we're preventing bubbling when clicking on the dropdown\n    // in the custom handle. Without this the handle would still be focused after selecting an action\n    // and clicking anywhere else after would move said handle.\n    blurHandles = () => {\n        const handles = document.getElementsByClassName('rc-slider-handle')\n\n        for (let i = 0; i < handles.length - 1; i++) {\n            handles[i].blur()\n        }\n    }\n\n    isMobileDevice() {\n        return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1);\n    }\n\n    render() {\n        const {\n            editTimeRangesPageOpen,\n            toggleConfirmationDialog,\n            timerangePageHandler,\n            timelines,\n            updateTimelinePositions,\n            updateTimerangePosition,\n            timelineLabelFormat,\n            updateRadar,\n            toggleLabelMode\n        } = this.props\n        const { oldPositions, updateTimerangeBlock } = this.state\n\n        if (!editTimeRangesPageOpen || !timelines.length) {\n            return null\n        }\n\n        return (\n            <Draggable handle=\".handle\">\n                <TimeRangeEditorContainer\n                    left={this.calculateModalDisplacement}\n                    className='d-flex flex-column'\n                    style={{ height: this.isMobileDevice() ? '40vh' : '75vh'}}\n                >\n                    <RangeStyles />\n                    <button className={'btn-close-modal'} onClick={timerangePageHandler}>\n                        <i className='material-icons'>close</i>\n                    </button>\n                    <Container className='flex-shrink-0 handle' style={{ cursor: 'move' }}>\n                        <h3 className='radar-widget-title mb-0'>{requestTranslation('timelineEditor')}</h3>\n                    </Container>\n                    <Container className='pt-5 h-100 d-flex flex-column' style={{ paddingBottom: '50px' }}>\n                        <Range\n                            key={timelines.length}\n                            min={RANGE_MIN}\n                            max={RANGE_MAX}\n                            value={timelines.map(({ position }) => position )}\n                            handle={this.renderHandles}\n                            onBeforeChange={this.savePreviousPosition}\n                            onChange={updateTimelinePositions}\n                            // https://github.com/ant-design/ant-design/issues/13628\n                            onAfterChange={newPositions => {\n                                this.setState({ updateTimerangeBlock: !updateTimerangeBlock }, () => {\n                                    updateTimerangePosition(newPositions, oldPositions)\n                                    this.blurHandles()\n                                })\n                            }}\n                            vertical={true}\n                            allowCross={false}\n                            pushable={RANGE_BOUNDARY}\n                            step={RANGE_MAX / 100}\n                            reverse\n                        />\n                        <button\n                            className='btn btn-outline-secondary w-100 flex-shrink-0 position-relative'\n                            style={{ top: '25px' }}\n                            onClick={() => this.setState({ timerangeEditModal: TIMELINE_TEMPLATE })}\n                        >\n                            {requestTranslation('addTimelineButton')}\n                        </button>\n                    </Container>\n                    <Container className='flex-shrink-0'>\n                        <Checkbox\n                            label={requestTranslation('toggleTimelineMode')}\n                            className='mb-0'\n                            checked={!!timelineLabelFormat}\n                            onChange={() =>\n                                toggleConfirmationDialog({\n                                    text: requestTranslation('timelineModeSubtitle'),\n                                    title: requestTranslation('timelineModeTitle'),\n                                    callback: () => {\n                                        toggleLabelMode()\n                                        updateRadar(false)\n                                    }\n                                })\n                            }\n                        />\n                    </Container>\n                    <Container className='d-flex flex-shrink-0'>\n                        <button\n                            className='btn btn-primary ml-auto'\n                            onClick={timerangePageHandler}\n                        >\n                            {requestTranslation('done')}\n                        </button>\n                    </Container>\n                    {this.renderTimeRangeModal()}\n                </TimeRangeEditorContainer>\n            </Draggable>\n        )\n    }\n}\n\nconst TimeRangeEditorContainer = styled.div`\n    z-index: ${Z_INDEX_MODAL};\n    background-color: #F2F4F4;\n    position: absolute;\n    top: 100px;\n    left: ${({ left }) => left};\n    width: 300px;\n    max-height: 900px;\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n`\n\nconst DragIconContainer = styled.div`\n    width: 35px;\n    height: 100%;\n    border-right: ${ ({ border }) => border ? '1px solid #E9ECEC' : null };\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nconst InputContainer = styled.div`\n    width: 125px;\n    height: 38px;\n    position: relative;\n    border: 1px solid #ccc;\n`\n\nconst YearInput = styled.input`\n    width: 100%;\n    height: 100%;\n    border: none;\n    display: flex;\n    align-items: center;\n    font-size: 18px;\n    letter-spacing: 15px;\n    font-weight: bold;\n    padding-left: 15px;\n    margin-right: -21px;\n`\n\nconst LabelInput = styled.input`\n    border: 1px solid #ccc;\n    height: 38px;\n    padding: 0 15px;\n    font-weight: medium;\n    font-size: 14px;\n    width: 100%;\n`\n\nconst RangeStyles = createGlobalStyle`\n    .trunctuate {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n    .rc-slider.rc-slider-vertical {\n        pointer-events: none;\n        width: 100%;\n        .rc-slider-handle {\n            pointer-events: auto;\n            width: 100%;\n            height: 35px;\n            border-radius: 5px;\n            border: 1px solid #E9ECEC;\n            display: flex;\n            align-items: center;\n            /*\n                https://github.com/react-component/slider/blob/master/src/Handle.jsx\n                line 90 needs to be fixed, they forgot to check if slider is vertical\n                when doing translateY. Submit a merge request\n            */\n            transform: translateY(-50%) !important;\n        }\n        .rc-slider-handle:focus {\n            outline: none;\n            box-shadow: none;\n        }\n        .rc-slider-track {\n            background-color: #C8C8C9;\n            left: 15px;\n        }\n        .rc-slider-rail, .rc-slider-step {\n            left: 15px;\n        }\n    }\n    .dropdown-toggle::after {\n        display: none;\n    }\n`\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport TimerangeEditorForm from '../components/TimerangeEditorForm'\nimport { timerangePageHandler, updateRadar } from '../actions/radarSettings'\nimport { toggleConfirmationDialog } from '../actions/confirmDialog'\nimport {\n    updateTimelinePositions,\n    removeTimeline,\n    addTimeline,\n    updateTimerange,\n    updateTimerangePosition,\n    toggleLabelMode\n} from '../actions/timelines'\n\nexport default connect(\n    state => {\n        const {\n            radarSettings: {\n                editTimeRangesPageOpen,\n                timelineLabelFormat\n            },\n            timelines\n        } = state\n\n        return {\n            editTimeRangesPageOpen,\n            timelines,\n            timelineLabelFormat\n        }\n    },\n    dispatch => bindActionCreators({\n        timerangePageHandler,\n        toggleConfirmationDialog,\n        updateTimelinePositions,\n        removeTimeline,\n        addTimeline,\n        updateTimerange,\n        updateTimerangePosition,\n        updateRadar,\n        toggleLabelMode\n    }, dispatch)\n)(TimerangeEditorForm)\n","import _ from 'lodash'\nimport React from 'react'\nimport styled from 'styled-components'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { Checkbox, PhenomenonType, Tag } from '@sangre-fp/ui'\nimport { useTags } from '@sangre-fp/hooks'\n\nexport const Filters = props => {\n    const renderPhenomenaType = phenomenaType => {\n        const {groupType, id, alias, title, style} = phenomenaType\n        const {activeFilter, setActiveFilter} = props\n\n        return (\n            <StateContainer key={id}>\n                <PhenomenaState>\n                    <PhenomenonType type={alias} size={15} fill = {style ? style.color : null} />\n                </PhenomenaState>\n                <Checkbox\n                    label={groupType ? title : requestTranslation(alias)}\n                    value={id}\n                    checked={_.find(activeFilter, filter => filter.id === id)}\n                    onChange={() => setActiveFilter(phenomenaType)}\n                    className='phenomena-checkbox'\n                />\n            </StateContainer>\n        )\n    }\n\n    const renderTags = tags => {\n        const {language, activeTagFilter, setActiveTagFilter} = props\n\n        return (\n            <div>\n                {!!(_.isArray(tags) && tags.length) && (\n                    <div>\n                        <div className='d-flex flex-row flex-wrap'>\n                            {tags.map((tag, index) => {\n                                return (\n                                    <OptionsListItem key={index} style={{padding: '0 5px'}}>\n                                        <Tag\n                                            label={tag.label[language] || tag.label}\n                                            active={_.find(activeTagFilter, filter => filter === tag.uri)}\n                                            onClick={() => setActiveTagFilter(tag.uri)}\n                                        />\n                                    </OptionsListItem>\n                                )\n                            })}\n                        </div>\n                    </div>\n                )}\n            </div>\n        )\n    }\n\n    const renderLoading = () => <div>{requestTranslation('loading')}</div>\n\n    const {\n        filtersVisible,\n        phenomenaTypes,\n        toggleFilter,\n        resetFilters,\n        activeFilter,\n        activeTagFilter,\n        group,\n        hideInfoButton = false\n    } = props\n\n    const {tags} = useTags(group && group.id)\n    let [fpTags, groupTags] = tags\n    const activeFilters = [...activeFilter, ...activeTagFilter].length\n\n    return (\n        <div style={{ zIndex: 2 }}>\n            {!hideInfoButton && <div className='radar-nav' id='radar-nav-bottomleft' style={{zIndex: 1}}>\n                    <HubLink className='btn-round btn-lg d-flex align-items-center justify-content-center' target='_blank'\n                             rel='noopener noreferrer' href={requestTranslation('infoUrl')}>\n                        <span className='af-custom-info'/>\n                        <span className='sr-only'>Info</span>\n                    </HubLink>\n                </div> }\n            <FiltersButton\n              className={`btn-round btn-lg d-flex align-items-center justify-content-center ${activeFilters ? '' : 'inactive'}`}\n              onClick={toggleFilter}\n            >\n                <i className='material-icons' style={{transform: 'rotate(-90deg)', fontWeight: 'bold'}}>tune</i>\n                {!!activeFilters && (\n                  <ActiveFiltersIndicator\n                      className='d-flex justify-content-center align-items-center'>{activeFilters}</ActiveFiltersIndicator>\n                )}\n            </FiltersButton>\n            {filtersVisible && (\n                <LegendContainer className='pb-4'>\n                    <button className={'btn-close-modal'} onClick={toggleFilter}>\n                        <i className='material-icons'>close</i>\n                    </button>\n                    <Container>\n                        <h3 className='radar-widget-title mb-0'>{requestTranslation('filterPhenomena')}</h3>\n                    </Container>\n                    <Container style={{padding: '15px 10px'}}>\n                        <h5 className='mb-2 mt-1 ml-2'>{requestTranslation('filterByTag')}</h5>\n                        {renderTags([...groupTags, ...fpTags])}\n                    </Container>\n                    <Container>\n                        <h5 className='mb-3 mt-1'>{requestTranslation('filterByType')}</h5>\n                        {phenomenaTypes && phenomenaTypes.length ? _.map(phenomenaTypes, renderPhenomenaType) : renderLoading}\n                    </Container>\n                    <Container style={{borderBottom: 'none'}}>\n                        <button className='btn btn-outline-secondary w-100' onClick={resetFilters}>\n                            {requestTranslation('resetFilters')}\n                        </button>\n                    </Container>\n                </LegendContainer>\n            )}\n        </div>\n    )\n}\n\nconst OptionsListItem = styled.div`\n    padding: 0 12px;\n    display: flex;\n    align-items: center;\n    margin-top: 8px;\n`\n\nconst LegendContainer = styled.div`\n  width: 270px;\n  position: absolute;\n  background-color: #F2F4F4;\n  left: 37px;\n  bottom: 85px;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n`\n\nconst FiltersButton = styled.button`\n  position: absolute;\n  bottom: 65px;\n  left: 15px;\n  /*background-color: rgb(242,244,244) !important;*/\n\n  &.inactive {\n    background-color: transparent !important;\n    border: 2px solid white;\n\n    i {\n      color: white;\n    }\n  }\n`\n\nconst Container = styled.div`\n  padding: 15px 17px;\n  border-bottom: 1px solid #e9e9ea;\n  max-height: 260px;\n  overflow: auto;\n  ::-webkit-scrollbar {\n    width: 8px;\n    margin-right: 2px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: rgb(194, 208, 215);\n    border-radius: 20px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: white;\n    border-radius: 20px;\n  }\n`\n\nconst StateContainer = styled.div`\n  display: flex;\n  box-sizing: border-box;\n  min-height: 25px;\n  align-items: center;\n  position: relative;\n`\n\nconst PhenomenaState = styled.div`\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  position: absolute;\n  z-index: 10;\n  left: 27px;\n`\n\nconst HubLink = styled.a`\n  background-color: transparent;\n  border: 2px solid white;\n  &:hover {\n    background-color: transparent;\n  }\n`\n\nconst ActiveFiltersIndicator = styled.div`\n  width: 13px;\n  height: 13px;\n  background-color: white;\n  font-size: 9px;\n  position: absolute;\n  color: black;\n  top: 0px;\n  left: 0px;\n  border-radius: 50%;\n`\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Filters } from '../components/Filters'\nimport { toggleFilter, setActiveFilter, resetFilters, setActiveTagFilter } from '../actions/radarSettings'\n\nexport default connect(\n    state => {\n        const {\n            phenomenaTypes,\n            filters: {\n                filtersVisible,\n                activeFilter,\n                activeTagFilter\n            },\n            radarSettings: {\n                group,\n                radarLanguage\n            }\n        } = state\n\n        return {\n            phenomenaTypes,\n            filtersVisible,\n            activeFilter,\n            activeTagFilter,\n            group,\n            language: radarLanguage\n        }\n    },\n    dispatch => bindActionCreators({\n        toggleFilter,\n        setActiveFilter,\n        resetFilters,\n        setActiveTagFilter\n    }, dispatch)\n)(Filters)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createGlobalStyle } from 'styled-components'\n\nexport const RadarStyles = createGlobalStyle` \n   html, body {\n      overflow: hidden !important;\n      font-family: 'L10' !important;\n  }\n  \n  .radar-widget-title {\n    font-size: 18px;\n  }\n  \n  .fp-wysiwyg .ql-editor p, \n  .fp-wysiwyg .ql-editor h1,\n  .fp-wysiwyg .ql-editor h2,\n  .fp-wysiwyg .ql-editor h3,\n  .fp-wysiwyg .ql-editor h4,\n  .fp-wysiwyg .ql-editor h5,\n  .fp-wysiwyg .ql-editor h6,\n  .fp-wysiwyg .ql-editor iframe,\n  .fp-wysiwyg .ql-editor img {\n    margin-bottom: 20px;\n  }\n`","import { initTranslations } from '@sangre-fp/i18n'\n\nconst localTranslations = {\n    pptxTimestamp: {\n      en: 'Timestamp',\n      fi: 'Ajankohta'\n    },\n    pptxCommentsTitle: {\n      en: 'Comments',\n      fi: 'Kommentit'\n    },\n    pptxCommentsText: {\n      en: count => `There are ${count === 0 ? 'no' : count } comment${count !== 1 ? 's' : ''} on this radar. To review them${count === 0 ? ' later': ''}, please log in to the platform and click this link: `,\n        fi: count => count === 0 ? 'Kartalle ei ole vielä käyttäjien kommentteja. Pääset katsomaan niitä myöhemmin kirjautumalla palveluun ja klikkaamalla tätä linkkiä: ' : `Kartalla on yhteensä ${count} käyttäjien kommentti${count > 1 ? 'a' : ''}. Pääset katsomaan niitä kirjautumalla palveluun ja klikkaamalla tätä linkkiä: `\n    },\n    download: {\n        en: 'Download',\n        fi: 'Lataa'\n    },\n    downloadPPTXDescription: {\n        en: 'Download radar summary in PowerPoint format.',\n        fi: 'Lataa yhteenveto PowerPoint-muodossa.'\n    },\n    pptxGenerateReport: {\n        en: 'Download summary (ppt)',\n        fi: 'Lataa yhteenveto (ppt)'\n    },\n    generatingPPTXError: {\n        en: `generating PowerPoint`,\n        fi: `raporttia luodaan`\n    },\n    pptxNotVoted: {\n      en: 'Not voted',\n      fi: 'Ei ääniä'\n    },\n    pptxReportBy: {\n      en: 'by',\n      fi: '-'\n    },\n    pptxSectorListTitle: {\n      en: 'List of Sectors',\n      fi: 'Sektorit'\n    },\n    pptxRatedContent: {\n        en: 'Rated Content',\n        fi: 'Arvioitu sisältö'\n    },\n    pptxReportTitle: {\n        en: 'Content Summary',\n        fi: 'Yhteenveto'\n    },\n    pptxSector: {\n        en: 'Sector',\n        fi: 'Sektori'\n    },\n    pptxSectorContent: {\n        en: 'Content in the Sector',\n        fi: 'Sektorin sisältö'\n    },\n    pptxTopVotedContent: {\n        en: 'Top-Voted Content',\n        fi: 'Äänestetyt ilmiöt'\n    },\n    timelineModeTitle: {\n        en: `Please confirm you want to switch the label format`,\n        fi: `Haluatko, että haluat muuttaa aikajanan formaattia`\n    },\n    timelineModeSubtitle: {\n        en: ``,\n        fi: ``\n    },\n    timelineDeleteTitle: {\n        en: year => `Delete ${year}?`,\n        fi: year => `Poista ${year}?`\n    },\n    timelineDeleteSubtitle: {\n        en: `You're about to remove this time range. The content on the radar will not be removed, it will be re-organised according to the remaining ranges. Do you want to continue??`,\n        fi: `Olet poistamassa aikakehää. Sen sisältöä ei poisteta, vaan se järjestetään uudelleen jäljelle jäävien kehien mukaisesti. Haluatko jatkaa?`\n    },\n    addTimelineButton: {\n        en: `+ ADD NEW RANGE`,\n        fi: `+ LISÄÄ UUSI KEHÄ`\n    },\n    deleteSignalConfirmation: {\n        en: 'Are you sure?',\n        fi: 'Oletko varma?'\n    },\n    description: {\n        en: `Description`,\n        fi: `Kuvaus`\n    },\n    year: {\n        en: `Year`,\n        fi: `Vuosi`\n    },\n    add: {\n        en: `Add`,\n        fi: `Lisää`\n    },\n    timerangeBoundaryError: {\n        en: ({ firstYear, lastYear }) => `Please enter a valid input between ${firstYear} and ${lastYear}`,\n        fi: ({ firstYear, lastYear }) => `Syötä vuosi väliltä  ${firstYear} ja ${lastYear}`,\n    },\n    timerangeSpaceError: {\n        en: ({ previousYear, nextYear }) => `There's not enough space between ${previousYear} and ${nextYear} on your timerange. Please adjust your time ranges`,\n        fi: ({ previousYear, nextYear }) => `Vuosien ${previousYear} ja ${nextYear} välillä ei ole tilaa uudelle kehälle. Tee väliin tilaa (vuosilukuina) ja yritä uudestaan`,\n    },\n    timerangeAmountError: {\n        en: `You have reached the maxiumum amount of timeranges, please remove a timerange before trying to add a new one.`,\n        fi: `Kartalle ei mahdu useampia kehiä. Voit poistaa yhden lisätäksesi uuden tai nimetä nykyiset kehät uudelleen.`\n    },\n    timerangeError: {\n        en: `Please enter a valid input`,\n        fi: `Syötä vuosiluku`\n    },\n    timerangeSmallerYearError: {\n        en: nextYear => `Please enter a year smaller than ${nextYear}`,\n        fi: nextYear => `Syötä vuosiluku ennen vuotta ${nextYear}`,\n    },\n    timerangeLargerYearError: {\n        en: previousYear => `Please enter a year larger than ${previousYear}`,\n        fi: previousYear => `Syötä vuosiluku ${previousYear} jälkeen`,\n    },\n    timerangeCurrentYearError: {\n        en: currentYear => `Please enter a year after ${currentYear}`,\n        fi: currentYear => `Syötä vuosiluku ${currentYear} jälkeen`,\n    },\n    timelineEditor: {\n        en: `Timerange editor`,\n        fi: `Aikajakson muokkaus`\n    },\n    updatingTimelinesPositionError: {\n        en: `updating your timerange's position`,\n        fi: `päivitetään aikajakson sijaintia`\n    },\n    removingTimelineError: {\n        en: `removing your timerange`,\n        fi: `poistetaan aikajakso`\n    },\n    addingTimelineError: {\n        en: `adding your timerange`,\n        fi: `lisätään aikajakso`\n    },\n    timerangeExistsError: {\n        en: `This timerange already exists!`,\n        fi: `Tämä aikajakso on jo olemassa!`\n    },\n    label: {\n        en: `Label`,\n        fi: `Kehän nimi`\n    },\n    typeLabel: {\n        en: 'Type label',\n        fi: 'Tyypin nimi'\n    },\n    labelPosition: {\n        en: 'Label position',\n        fi: 'Kehän nimen sijainti'\n    },\n    afterLabel: {\n        en: previousLabel => `Below ${previousLabel}`,\n        fi: previousLabel => `Alapuolelle ${previousLabel}`\n    },\n    consecutiveYearError: {\n        en: 'The years behind these labels are consectuive, please switch back to year format and adjust for space before continuing',\n        fi: 'Vuosileimat kehien nimien taustalla ovat peräkkäiset. Palauta aikajana vuosi-formaattiin ja tee tilaa ennen kuin jatkat.'\n    },\n    filterPhenomena: {\n        en: `Filter content`,\n        fi: `Suodata sisältö`\n    },\n    goToHub: {\n        en: 'Open the hub',\n        fi: 'Avaa Hub'\n    },\n    moreInfoHub: {\n        en: 'For more info go to the hub',\n        fi: 'Lisää tietoa löydät HUBista (englanniksi)'\n    },\n    toggleTimelineMode: {\n        en: `Use text labels instead of years`,\n        fi: `Käytä tekstiä vuosiluvun sijaan`\n    },\n    done: {\n        en: `DONE`,\n        fi: `VALMIS`\n    },\n    confirm: {\n        en: `CONFIRM`,\n        fi: `MUOKKAA`\n    },\n    cancel: {\n        en: `CANCEL`,\n        fi: `PERUUTA`\n    },\n    filterByType: {\n        en: `BY TYPE`,\n        fi: `TYYPIT`\n    },\n    filterByTag: {\n        en: `BY TAG`,\n        fi: `TAGIT`\n    },\n    openPublicLink: {\n        en: `SHOW THE SHARED LINK`,\n        fi: `NÄYTÄ JAETTAVA LINKKI`\n    },\n    createPublicLink: {\n        en: `CREATE A SHARED LINK`,\n        fi: `LUO JAETTAVA LINKKI`\n    },\n    publicLink: {\n        en: `Shared Link`,\n        fi: `Jaettava linkki`\n    },\n    publicLinkNote: {\n        en: `Copy the link and share it in your network. Anyone with the link can access the radar and collaborate. For data privacy reasons, we recommend deleting the shared link when it’s not used anymore.`,\n        fi: `Kopioi linkki, ja jaa se verkostossasi. Otathan huomioon, että linkkiä klikkaamalla tälle kartalle pääsee kuka tahansa. Tietoturvasyistä suosittelemme jaettavan linkin poistamista, kun sitä ei enää tarvita.`\n    },\n    regeneratePublicLink: {\n        en: `REGENERATE LINK`,\n        fi: `LUO UUSI LINKKI`\n    },\n    deletePublicLink: {\n        en: `DELETE THE SHARED LINK`,\n        fi: `POISTA JAETTAVA LINKKI`\n    },\n    publicLinkURL: {\n        en: `Shared link: `,\n        fi: `Jaettava linkki:`\n    },\n    regeneratePublicLinkNote: {\n        en: `Note! Regenerating the link will deactivate the current link.`,\n        fi: `Huom. Uuden linkin luonti poistaa nykyisen linkin toiminnasta.`\n    },\n    deletePublicLinkBtn: {\n        en: `DELETE THE CURRENT SHARED LINK`,\n        fi: `POISTA NYKYINEN JAETTU LINKKI`\n    },\n    sharePublicLinkConfirmation: {\n        en: `Are you sure you want to regenerate a shared link?`,\n        fi: `Haluatko varmasti luoda uuden jaettavan linkin?`\n    },\n    sharePublicLinkConfirmationNote: {\n        en: `The current link will stop working when you create a new one.`,\n        fi: `Nykyinen linkki lakkaa toimimasta, kun luot uuden.`\n    },\n    deletePublicLinkConfirmation: {\n        en: `Are you sure you want to delete the shared link?`,\n        fi: `Haluatko varmasti poistaa jaettavan linkin?`,        \n    },\n    deletePublicLinkConfirmationNote: {\n        en: `When you delete the shared link, the radar remains visible to the users who have been granted access to the radar in the user management.`,\n        fi: `Poistettuasi jaetun linkin tämä kartta näkyy vain henkilöille, joille on käyttäjähallinnassa annettu sille pääsy.`\n    },\n    copyToClipboard: {\n        en: `Copy to clipboard`,\n        fi: `Kopioi leikepöydälle`\n    },\n    publicLinkCopied: {\n        en: `Link copied.`,\n        fi: `Linkki kopioitu.`\n    },\n    shareRadarFromUsrMngmt: {\n        en: `You can invite users to this radar from the User management, or by creating a Shared link and share that in your network. If you choose to create a Shared link, please note, that anyone with the link can access the radar and collaborate on it.`,\n        fi: `Voit kutsua kollegasi kartalle käyttäjähallinnasta tai tehdä jaettavan linkin ja jakaa sen verkostossasi. Huomaathan, että jakamaasi linkkiä klikkaamalla kuka tahansa voi päästä kartalle ja osallistua työskentelyyn.` \n    },\n    publicLinkExisted : {\n        en: `A shared link already exists for this radar. Click below to view it.`,\n        fi: `Tälle kartalle on tehty jaettava linkki. Voit katsoa sen alta.`\n    },\n    checkPublicLinkAlreadyExisted: {\n        en:`A shared link already exists for this radar. Click below to view it.`,\n        fi:`Tälle kartalle on tehty jaettava linkki. Voit katsoa sen alta.`\n    },\n    goToManagement: {\n        en:`OPEN THE USER MANAGEMENT`,\n        fi:`AVAA KÄYTTÄJÄHALLINTA`\n    },\n    ok: {\n        en:`OK`,\n        fi:`OK`\n    },\n    sharedLinkDeletedNote: {\n        en:`The shared link is now deleted from this radar.`,\n        fi:`Jaettava linkki on nyt poistettu tältä kartalta.`\n    },\n    upvotesForHaloDescription: {\n        en:`Sum of votes required for 'halo' effect`,\n        fi:`Sädekehään vaadittava äänimäärä`\n    },\n    createFormDiscussionDescription: {\n        en: ` Enable Discussion area in the Collaboration results section`,\n        fi: ` Aktivoi keskustelupalsta tulosten yhteenvetonäkymässä`\n    },\n    verticalAxisName: {\n        en:`Vertical axis name`,\n        fi:`Pystyakselin nimi`\n    },\n    HorizontalAxisName: {\n        en:`Horizontal axis name`,\n        fi:`Vaaka-akseli`\n    },\n    IntructionsForNamingAxis: {\n        en:`You can select the commonly used axis from the pulldown menu, and/or fill in the fields manually. `,\n        fi:`You can select the commonly used axis from the pulldown menu, and/or fill in the fields manually. `\n    },\n    FlipHorizontalVertical: {\n        en:`FLIP HORIZONTAL/VERTICAL`,\n        fi:`VAIHDA VAAKA- JA PYSTYAKSELIT`\n    },\n    clearAllFieldsBtn: {\n        en:`CLEAR ALL FIELDS`,\n        fi:`TYHJENNÄ KAIKKI KENTÄT`\n    },\n    editManuallyBtn: {\n        en:`EDIT MANUALLY`,\n        fi:`MUOKKAA KÄSIN`\n    },\n    InfoIconHoverVoting: {\n        en:`\"More information on Voting\"`,\n        fi:`\"Lisätietoja äänestämisestä\"`\n    },\n    InfoIconHoverRating: {\n        en:`\"More information on Rating\"`,\n        fi:`\"Lisätietoja arvioinnista\"`\n    },\n    InfoIconHoverCommenting: {\n        en:`\"More information on Commenting\"`,\n        fi:`\"Lisätietoja kommentoinnista\"`\n    },\n    InfoIconHoverDiscussion: {\n        en:`\"More information on Discussion area\"`,\n        fi:`\"Lisätietoja keskustelupalstasta\"`\n    },\n    InfoModalVotingNote: {\n        en: `The Voting tool enables voting of the content on the radar together with your team or with other stakeholders.`,\n        fi:`Voit äänestää kartalla olevaa sisältöä yhdessä tiimisi kanssa tai osallistamalla muita sidosryhmiäsi.`\n        \n    },\n\n    InfoModalVotingContent: {\n        en:`\n         After activating the Voting tool, anyone with access to the radar can vote on the content cards.`,\n        fi:`\n         Aktivoituasi äänestyksen kaikki, joilla on pääsy kartalle, voivat äänestää ennakointikartalla olevaa sisältöä.`\n    },\n    InfoModalVotingContent2: {\n        en:`\n         It activates ‘up’ and ‘down’ arrows on the top-right corner of Content cards.\n        `,\n        fi:`\n         Äänestyksessä jokaisen sisältökortin oikeaan yläkulmaan ilmestyvät nuolet ylös- ja alaspäin.\n        `\n    },\n    InfoModalVotingContent3: {\n        en:`\n         You are able to decide the voted question, e.g. prioritising the \"10 most impactful\" or \"5 least important\".`,\n        fi:`\n         Voit päättää kysymyksen asettelun osallistujille, esimerkiksi priorisoiden \"10 vaikuttavinta\" tai \"5 vähiten tärkeintä\".`\n    },\n    InfoModalVotingContent4: {\n        en:`\n         When the set threshold of votes for the 'halo' effect is reached, it displays a light circle around the content dot on the radar.`,\n        fi:`\n         Halutessasi voit määrittää rajan sille, kuinka monta ääntä sisältökortti tarvitsee, jotta se saa karttanäkymässä ympärilleen sädekehän.`\n    },\n    InfoModalVotingContent5: {\n        en:`\n          After the voting activity, results of the voting can be found by clicking the centre of the radar.`,\n        fi:`\n         Äänestyksen jälkeen löydät äänestyksen tulokset painamalla kartan keskustaa.`\n    },\n    InfoModalVotingContent6: {\n        en:`\n          A summary of votes can be exported from the results view.`,\n        fi:`\n         Äänestys-sivulta voit ladata äänestyksen yhteenvedon jatkohyödyntämistä varten.`\n    },\n    InfoModalVotingContent7: {\n        en:`\n         Remember to Save your settings after you have made changes. If you wish to discard the changes you made, click Cancel.\n        `,\n        fi:`\n          Muistathan tallentaa tekemäsi valinnat. Mikäli haluat poistua tallentamatta, paina Peruuta.`\n    },\n    LearnMoreFromHUB: {\n        en:`\n         Learn more from the HUB:\n        `,\n        fi:`\n          Lisätietoja HUBista (sisältö englanniksi):`\n    },\n    \n    LearnMoreVotingBtn: {\n        en:`How the Voting system works in Futures Platform?`,\n        fi: `How the Voting system works in Futures Platform?`\n    },\n    GuideVotingBtn: {\n        en:`How to organise a Voting session in practise, and why?`,\n        fi: `How to organise a Voting session in practise, and why?`\n    },\n    InfoModalRatingNote: {\n        en:`The Rating tool enables evaluation and assessment of the content on the radar via two axis, and displays the results in a fourfold table.`,\n        fi: `Arviointityökalu mahdollistaa sisällön arvioinnin kahdella akselilla visualisoiden arvioinnin tulokset nelikentässä.\n        `\n    },\n    InfoModalRatingContent: {\n        en:`\n         After activating the Rating tool, anyone with access to the radar can rate on the content cards.`,\n        fi:`\n         Aktivoituasi arvioinnin kaikki, joilla on pääsy kartalle, voivat arvioida ennakointikartalla olevaa sisältöä.`\n    },\n    InfoModalRatingContent2: {\n        en:`\n         Activating Rating tool activates two 'axis sliders' on each content card.`,\n        fi:`\n         Arvioinnissa jokaiselle sisältökortille ilmestyy kaksi liukusäädintä.`\n    },\n    InfoModalRatingContent3: {\n        en:`\n         Access some of the most commonly used axis from the dropdown menu, and/or fill in custom axis names manually.`,\n        fi:`\n         Voit hyödyntää pudostusvalikosta löytyviä usein käytettyjä akseleita ja/tai voit nimetä akselit vapaasti itse.`\n    },\n    InfoModalRatingContent4: {\n        en:`\n          After the rating activity, results can be found by clicking the centre of the radar.`,\n        fi:`\n         Arvioinnin jälkeen löydät arvioinnin tulokset painamalla kartan keskustaa.`\n    },\n    InfoModalRatingContent5: {\n        en:`\n         A summary of ratings can be exported from the results view.\n        `,\n        fi:`\n         Arviointi-sivulta voit ladata arviointien yhteenvedon jatkohyödyntämistä varten.`\n    },\n    InfoModalRatingContent6: {\n        en:`\n         Remember to Save your settings after you have made changes. If you wish to discard the changes you made, click Cancel.\n        `,\n        fi:`\n         Muistathan tallentaa tekemäsi valinnat. Mikäli haluat poistua tallentamatta, paina Peruuta.\n        `\n    },\n    LearnMoreRatingBtn: {\n        en:`How the Rating system works in Futures Platform?`,\n        fi: `How the Rating system works in Futures Platform?`\n    },\n    GuideRatingBtn: {\n        en:`How to organise a Rating session in practise, and why?`,\n        fi: `How to organise a Rating session in practise, and why?`\n    },\n    InfoModalCommentingNote: {\n        en:`The Commenting tool enables collection of insights, ideas and thoughts on the content cards. `,\n        fi: `Kommentointi mahdollistaa havaintojen, ideoiden sekä ajatusten keräämisen sisältökorteille.`\n    },\n    InfoModalCommentingContent: {\n        en:`\n         After activating the Commenting tool, anyone with access to the radar can leave their comments on the content cards..\n        `,\n        fi: `\n         Aktivoituasi kommentoinnin kaikki, joilla on pääsy kartalle, voivat kommentoida ennakointikartalla olevaa sisältöä.\n        `\n    },\n    InfoModalCommentingContent2: {\n        en:`\n         It activates three commenting fields on the content cards: Opportunities, Threats and Actions.`,\n        fi: `\n         Kommentteja voi kirjoittaa kolmeen kenttään: Mahdollisuudet, Uhat ja Toimenpiteet.`\n    },\n    InfoModalCommentingContent3: {\n        en:`\n         All comments are gathered to the results view which you can access by clicking the centre of the radar.`,\n        fi: `\n         Kaikki kommentit koostetaan Kommentit-sivulle, jolle pääset painamalla kartan keskustaa.`\n    },\n    InfoModalCommentingContent4: {\n        en:`\n         A summary of comments can be exported from the results view.`,\n        fi: `\n          Kommentit-sivulta voit ladata kommenttien yhteenvedon jatkohyödyntämistä varten.`\n    },\n    LearnMoreCommentingBtn: {\n        en:`How the Commenting system works in Futures Platform?`,\n        fi: `How the Commenting system works in Futures Platform?`\n    },\n    GuideCommentingBtn: {\n        en:`How to organise a Commenting session in practise, and why?`,\n        fi: `How to organise a Commenting session in practise, and why?`\n    },\n    InfoModalDiscussionNote: {\n        en:`Allow free conversation, ask for feedback, or collect other notes regarding the foresight radar / topic you are working with.`,\n        fi: `Keskustelupalsta on paikka vapaalle keskustelulle, palautteen keräämiselle tai muiden havaintojen tallentamiselle.\n        `\n    },\n    InfoModalDiscussionContent: {\n        en:`\n         Activate the discussion board on the Collaboration results view which you can access by clicking the centre of the radar.\n        `,\n        fi: `\n         Voit aktivoida keskustelupalstan tulosten yhteenvetonäkymän vasempaan laitaan, johon pääset painamalla kartan keskustaa.\n        `\n    },\n    InfoModalDiscussionContent2: {\n        en:`\n         The discussion area can be used to discuss on Voting, Rating and Commenting results, or to collect any other kind of notes regarding the radar.`,\n        fi: `\n         Keskustelupalstalla voi keskustella äänestämisen, arvioinnin tai kommentoinnin tuloksista, ja siihen voi kerätä vapaasti kommentteja ja ajatuksia.`\n    },\n    InfoModalDiscussionContent3: {\n        en:`        \n         The discussion on the Discussion area can be exported from the results view.`,\n        fi: `\n         Tulosten yhteenvetonäkymästä voit ladata keskustelut jatkohyödyntämistä varten.`\n    },\n    LearnMoreDiscussionBtn: {\n        en:`How the Discussion area works in Futures Platform?`,\n        fi: `How the Discussion area works in Futures Platform?`\n    },\n    GuideDiscussionBtn: {\n        en:`How to organise a Discussion in practise, and why?`,\n        fi: `How to organise a Discussion in practise, and why?`\n    },\n    commenting: {\n        en:`Commenting`,\n        fi: `Kommentointi`\n    },\n    CommentingTool: {\n        en:`Commenting tool`,\n        fi: `Kommentointi`\n    },\n    RatingTool: {\n        en:`Rating tool`,\n        fi: `Arviointi`\n    },\n    VotingTool: {\n        en:`Voting tool`,\n        fi: `Äänestys`\n    },\n    DiscussionAreaTool: {\n        en:`Discussion area`,\n        fi: `Keskustelupalsta`\n    },\n    discussion: {\n        en: `Discussion area`,\n        fi: `Keskustelupalsta`\n    },\n    activateUsers: {\n        en:`Collaboration tools`,\n        fi: `Toiminnot`\n    },\n    createFormVotingDescription: {\n        en:`Enable Voting on Content cards`,\n        fi: `Salli äänestys sisältökorteilla`\n    },\n    upvotesForHalo: {\n        en:`Enable 'halo' effect on the Radar`,\n        fi: `Salli sädekehät karttanäkymässä`\n    },\n    createFormRatingDescription: {\n        en:`Enable two axis Rating on Content cards (fourfold table)`,\n        fi: `Aktivoi arviointi sisältökorteilla (nelikenttä)`\n    },\n    selectValue: {\n        en:`Select...`,\n        fi: `Valitse...`\n    },\n    manualEditLeftEnd: {\n        en:`Horizontal axis – Left end`,\n        fi: `Vaaka-akseli – vasen`\n    },\n    manualEditRightEnd: {\n        en:`Horizontal axis – Right end`,\n        fi: `Vaaka-akseli – oikea`\n    },\n    manualEditLowEnd: {\n        en:`Vertical axis – Low end`,\n        fi: `Pystyakseli – ala`\n    },\n    manualEditHighEnd: {\n        en:`Vertical axis – High end`,\n        fi: `Pystyakseli –  ylä`\n    },\n    manualEditTopLeft: {\n        en:`Fourfold table – top left`,\n        fi: `Nelikenttä – vasen yläosa`\n    },\n    manualEditTopRight: {\n        en:`Fourfold table – top right`,\n        fi: `Nelikenttä – oikea yläosa`\n    },\n    manualEditBottomLeft: {\n        en:`Fourfold table – bottom left`,\n        fi: `Nelikenttä – vasen alaosa`\n    },\n    manualEditBottomRight: {\n        en:`Fourfold table – bottom right`,\n        fi: `Nelikenttä – oikea alaosa`\n    },\n    createFormCommentingDescription: {\n        en:`Enable Commenting on Content cards`,\n        fi: `Aktivoi kommentointikentät sisältökorteilla`\n    },\n    allowLikeCommenting: {\n        en:`Enable Liking other users’ comments`,\n        fi: `Salli käyttäjien tykätä toistensa kommenteista`\n    },\n    GotItBtn: {\n        en:`GOT IT`,\n        fi: `OK`\n    },\n    DoneBtn: {\n        en:`DONE`,\n        fi: `VALMIS`\n    },\n\n    \n   \n    \n    \n}\n\ninitTranslations(localTranslations);\n","import './polyfills'\nimport 'react-app-polyfill/ie11'\nimport 'core-js'\nimport 'url-search-params-polyfill'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store from './configureStore'\nimport { RadarPage } from './containers'\nimport * as serviceWorker from './serviceWorker'\nimport { GlobalStyles } from '@sangre-fp/ui'\nimport { RadarStyles } from './styles'\nimport { ToastContainer } from 'react-toastify'\n\nimport { startSession } from '@sangre-fp/connectors/session'\nimport './translations'\n\n// package styles\nimport 'react-select/dist/react-select.css'\nimport 'react-quill/dist/quill.snow.css'\nimport 'react-toggle/style.css'\nimport 'react-toastify/dist/ReactToastify.css'\nimport 'rc-slider/dist/rc-slider.css'\nimport 'rc-tooltip/assets/bootstrap.css'\n\nconst renderApp = (returnUri, radarLogoLinkDisabled) => {\n    return (\n        <Provider store={store}>\n            <GlobalStyles />\n            <RadarStyles />\n            <ToastContainer\n                toastClassName='fp-toast'\n                position='top-left'\n                progressClassName='toast-progress'\n            />\n            <RadarPage returnUri={returnUri} radarLogoLinkDisabled={radarLogoLinkDisabled} />\n        </Provider>\n    )\n}\n\nconst appElement = document.getElementById('fp-radar-page')\nstartSession(window.location.origin).then(() => {\n    ReactDOM.render(\n        renderApp(\n            appElement.getAttribute('data-return-uri'),\n            appElement.getAttribute('data-rlld') === '1'\n        ), appElement)\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"custom-react-select-height-att\":\"CreateRadarForm_custom-react-select-height-att__3HSYb\",\"custom-react-select-margin-bottom-att\":\"CreateRadarForm_custom-react-select-margin-bottom-att__1lS7o\",\"custom-react-select-width-att\":\"CreateRadarForm_custom-react-select-width-att__2SRWa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ReactModal__Content\":\"PublicLink_ReactModal__Content__3WOSB\",\"Modal__Title\":\"PublicLink_Modal__Title__2Cqix\",\"SavePublicLink__Container\":\"PublicLink_SavePublicLink__Container__hWhdN\",\"RegenerateBtn\":\"PublicLink_RegenerateBtn__3vqov\"};","/* eslint-disable */\n\nif (!String.prototype.includes) {\n  String.prototype.includes = function(search, start) {\n    'use strict';\n    if (typeof start !== 'number') {\n      start = 0;\n    }\n\n    if (start + search.length > this.length) {\n      return false;\n    } else {\n      return this.indexOf(search, start) !== -1;\n    }\n  };\n}\n"],"sourceRoot":""}