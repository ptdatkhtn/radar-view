{"version":3,"sources":["components/CollaborationChartSetting/edit1.svg","../../React-apps/connectors/tag-service-api/index.js","../../React-apps/connectors/statistics-api/index.js","components/CollaborationChartSetting/edit2.svg","helpers.js","reducers/radarSettings.js","reducers/phenomena.js","reducers/filters.js","reducers/signals.js","reducers/index.js","actions/network.js","../../React-apps/connectors/media-api/index.js","actions/radarSettings.js","configureStore.js","components/Phenomenon.js","env.js","components/Phenomena.js","components/AllPhenomena.js","containers/AllPhenomenaContainer.js","selectors/index.js","config.js","quill.js","components/RatingSummaryPreview.js","components/AxisPreview.js","components/ConfirmationModalForRatings/ConfirmationModalForRatings.js","components/CollaborationChartSetting/index.js","components/RatingModalPreviewEditMode/RatingModalPreviewEditMode.js","components/EmbedLinkModal.js","components/InformationModal/InformationModal.js","components/CreateRadarForm.js","containers/CreateRadarFormContainer.js","containers/SandboxPhenomenaSelectorContainer.js","components/AddPhenomenaSandbox.js","radarDataApiProxy.js","actions/phenomenaTypes.js","../../React-apps/connectors/screenshot-service-api/index.js","pptx-generator.js","actions/radarData.js","containers/AddPhenomenaSandboxContainer.js","actions/confirmDialog.js","containers/ConfirmDialogContainer.js","components/AddSignalForm.js","actions/signals.js","containers/AddSignalFormContainer.js","components/SignalList.js","containers/SignalListContainer.js","components/ShareRadarModal.js","containers/ShareRadarModalContainer.js","components/PublicLink/PublicLink.js","components/ConfirmationModal/ConfirmationModal.js","components/DeleteConfirmationModal/DeleteConfirmationModal.js","components/SharedLinkModalAfterDelete/SharedLinkModalAfterDelete.js","components/SideNav.js","containers/SideNavContainer.js","containers/ErrorModalContainer.js","components/SectorEditorForm.js","components/EditSectorMenu.js","components/RadarPage.js","actions/sectors.js","containers/RadarPageContainer.js","actions/timelines.js","components/TimerangeEditorForm.js","containers/TimeRangeEditorFormContainer.js","components/Filters.js","containers/FiltersContainer.js","serviceWorker.js","styles.js","translations.js","index.js","../../React-apps/connectors/news-feed-api/index.js","../../React-apps/connectors/phenomena-api/index.js","../../React-apps/connectors/content-service-api/index.js","components/CreateRadarForm.module.css","../../React-apps/connectors/search-api/index.js","../../React-apps/connectors/radar-data-api/normalize.js","../../React-apps/connectors/radar-data-api/index.js","components/PublicLink/PublicLink.module.css","../../React-apps/connectors/session.js","../../React-apps/connectors/drupal-api/normalize.js","../../React-apps/connectors/drupal-api/index.js","polyfills.js"],"names":["module","exports","POST","httpRequest","method","path","a","payload","axios","url","process","headers","getSessionToken","data","then","res","tagPhenomenon","groupId","phenomenonUuid","tagUri","property","tag","content","error","Boolean","removeTagPhenomenon","getTagUrisByPhenomenonUuid","tags","filter","map","getTagUrisByPhenomenonUuids","phenomenonUuids","uuid","tagsByUris","Array","isArray","length","result","Object","entries","docUri","docUuid","replace","getTagByUri","uri","re","resolver","group","namePart","groupTags","Number","find","name","fpTags","matches","match","getLocalizedTagByUri","lang","label","addTagUris","prefix","getGroupTags","get","getGroupSettings","getFpTags","getHubspotAlertsTaxonomy","results","translation","url_alias","getLocalizedFpTags","withCredentials","phenomenaStatisticsApi","getPhenomenaStatistics","uuids","getCoordsFromAngleAndRadius","angle","radius","d3","slice","detectLeftButton","evt","event","window","buttons","which","button","publicEditorRole","permissions","_","permission","makeGroup","role","id","radarsUsed","radarsAllowedString","radarsAllowed","accountDrupalRoles","accountPermissions","availableResources","canEditPublic","canEdit","value","hasAvailableRadars","isFpEditor","getUserRoles","paramsString","document","location","search","searchParams","URLSearchParams","initialState","existingRadarPage","addRadarFormOpen","addRadarFormPage","groups","radarName","mapIntro","radarLanguage","getCurrentLanguage","phenomenaSet","hideUsersFromTrial","radarImage","votingOn","ratingsOn","discussionOn","commentsOn","likingOn","votingUp","editMenuOpen","editSectorsPageOpen","editTimeRangesPageOpen","addPhenomenaVisible","editPhenomenaVisible","account","displayHaloWhenRating","enableUrlLogin","urlLoginExpire","urlLoginLink","isRadarTemplate","radarTitleImage","timelineLabelFormat","draggedPhenomenonId","filtersVisible","activeFilter","activeTagFilter","signalListVisible","signalCreateVisibility","signals","totalRadarSignals","combineReducers","sectors","filters","state","type","TOGGLE_FILTERS","SET_ACTIVE_FILTER","SET_ACTIVE_TAG_FILTER","includes","RESET_FILTERS","phenomena","REFETCH_DATA_SUCCESS","FETCH_RADAR_SUCCESS","UPDATE_PHENOMENON","phenomenon","UPDATE_PHENOMENON_VERSION","version","CREATE_PHENOMENA_SUCCESS","concat","DELETE_PHENOMENA_SUCCESS","item","CREATE_PHENOMENA_POSITION_SUCCESS","UPDATE_PHENOMENON_INGESTION_SUCCESS","timelines","radarSettings","SET_DRAGGED_PHENOMENON","TOGGLE_LABEL_MODE","TOGGLE_EDIT_MENU_VISIBILITY","UPDATE_RADAR_SUCCESS","CREATE_RADAR_SUCCESS","origin","pathname","href","time_ranges","HANDLE_ADD_FORM_VISIBILITY","setLanguage","canDeleteRadar","String","userId","ownerId","canEditRadar","isVisitor","canShareRadar","CHANGE_RADAR_SHARING","CHANGE_RADAR_SHARING_EXPIRY","CHANGE_EXISTING_RADAR_PAGE","HANDLE_EDIT_SECTOR_PAGE_VISIBILITY","HANDLE_EDIT_TIMERANGES_PAGE_VISIBILITY","CHANGE_RADAR_NAME","CHANGE_MAP_INTRO","CHANGE_RADAR_LANGUAGE","CHANGE_ADD_FORM_PAGE","CHANGE_PHENOMENA_SET","CHANGE_RADAR_GROUP","CHANGE_HIDE_USERS_FROM_TRIAL","CHANGE_RADAR_IMAGE","CHANGE_RADAR_TITLE_IMAGE","CHANGE_VOTING_ON","CHANGE_DISPLAY_HALO_WHEN_RATING","CHANGE_RATINGS_ON","CHANGE_RATINGS_SETTINGS","CHANGE_DISCUSSION_ON","CHANGE_COMMENTS_ON","CHANGE_LIKING_ON","CHANGE_VOTING_UP","GET_GROUPS_SUCCESS","HANDLE_ADD_PHENOMENA_VISIBILITY","HANDLE_EDIT_PHENOMENA_VISIBILITY","UPDATE_RADAR_VERSION","radar_version","radarSets","loading","errors","phenomenaTypes","phenomenaTypesById","HANDLE_SIGNAL_LIST_VISIBILITY","HANDLE_SIGNAL_CREATE_VISIBILITY","FETCH_SIGNALS_SUCCESS","total","FETCH_MORE_SIGNALS_SUCCESS","CREATE_SIGNAL_SUCCESS","confirmDialog","loadingError","component","defaultMessage","message","actionTypes","getNetworkMethods","successType","success","dispatch","err","uploadFileRequest","filePath","file","fileHeaders","uploadUrl","put","uploadFile","getImageUrl","MEDIA_API_URL","handleImageUploadIfNeeded","imageFile","image","toggleEditMenuVisiblity","visibilityState","getUserGroups","requestTranslation","groupRequest","drupalApi","getGroups","membershipRequest","getMemberships","Promise","all","memberships","membershipGroupIds","values","membership","parseInt","gid","indexOf","catch","changeAddRadarFormVisibility","page","changeDisplayHaloWhenRating","rating","changeRadarName","changeMapIntro","changeRadarLanguage","language","changeRadarGroup","changeAddRadarFormPage","changePhenomenaSet","set","changeHideUsersFromTrial","bool","changeRadarImage","changeRadarTitleImage","changeVotingOn","changeRatingsOn","changeRadarSharing","changeRadarSharingExpiry","date","changeRatingsSettings","axisXTitle","axisXMax","axisXMin","axisYTitle","axisYMax","axisYMin","fourFieldsTopLeft","fourFieldsTopRight","fourFieldsBottomLeft","fourFieldsBottomRight","changeDiscussionOn","changeCommentsOn","changeLikingOn","changeVotingUp","toggleFilter","setActiveFilter","setActiveTagFilter","resetFilters","createRadar","getState","isObject","radarInput","updateRadar","hideForm","getRadarSets","getRadarTemplates","sectorPageHandler","timerangePageHandler","clearAllErrors","changeAddPhenomenaVisibility","changeEditPhenomenaVisibility","console","composeEnhancers","compose","store","createStore","rootReducer","applyMiddleware","thunk","radarCallbacks","openPhenomenonEditor","Phenomenon","handleDrag","e","stopPropagation","props","onPhenomenaDrag","phenomenonRef","ref","getPhenomenonType","defaultValue","alias","getClassNameState","includesTag","getFilterClassName","tagFilter","setFilter","getClassNameDrag","dragged","deleting","this","addEventListener","removeEventListener","fill","labelWidth","phenomenaSize","cx","cy","fontSize","hidden","radarId","title","short_title","halo","style","color","hideEdit","hasGroup","hasOwnProperty","groupUrl","urlParams","vsid","getPhenomenonUrl","classes","classNames","left","data-href","className","size","x","y","width","height","xlinkHref","display","alignItems","justifyContent","textAnchor","verticalAnchor","PureComponent","getConstrainedValue","min","max","Phenomena","range","copyPhenomena","constraints","sector","xScale","domain","yScale","index","fy","startForce","nodes","force","stop","strength","distanceMax","on","node","setState","getNodeCoordinates","invert","nextProps","nextPhenomena","isEqual","draggedPhenomenon","phenomenaDisplayProps","key","AllPhenomena","timeRanges","getPhenomenaDisplayProps","connect","bindActionCreators","isCollaborationToolsAllowed","createSelector","g","collaboration_tools","customQuillModules","toolbar","header","font","list","indent","clipboard","matchVisual","radarLanguages","initialCommentTopics","checked","TIMELINE_TEMPLATE","position","year","description","timerangeColors","interpolate","formats","CanvasContainer","styled","div","containerWidth","h3","canvas","HeaderContainer","h2","AxisX","customHeight","axisWidth","horizontalAxisName","leftEnd","rightEnd","cellStyle","whiteSpace","cellPadding","cellSpacing","align","margin","border","textAlign","overflow","textOverflow","AxisY","axisHeight","verticalAxisName","topEnd","lowEnd","containerHeight","writingMode","transform","RatingSummaryPreview","topHeader","bottomHeader","topLeft","topRight","bottomLeft","bottomRight","useState","appContext","setAppContext","axis","axisContext","drawLine","begin","end","lineWidth","strokeStyle","beginPath","moveTo","lineTo","stroke","drawText","text","fillStyle","fillText","drawNormalAxis","clientHeight","clientWidth","useEffect","canvasAxis","getElementById","getContext","svgApp","background","ConfirmationModalForRatings","ConfirmationModalNote","confirmationModal","confirmationModalClose","confirmationModalHandleBtn","isOpen","contentLabel","ariaHideApp","paddingModalStyles","onClick","toUpperCase","GlobalStyle","createGlobalStyle","ButtonModalStyled","primary","marginRight","ButtonModalActions","ModalContent","EditButton","img","ModalTitle","ModalInputHint","ModalInputValue","input","SETTING_VALUE","SETTING_VALUE_TITLE","getLanguage","onEdit","marginTop","zIndex","fontWeight","paddingLeft","src","edit2","paddingRight","marginBottom","CollaborationChartSetting","passisCustomToRatingModalPreviewModeVertical","passisCustomToRatingModalPreviewModeHoronzal","inputSelectedX","inputSelectedY","isCustomHorozol","isCustomVertical","showModal","currentSettingIndex","inputValueModal","isEditHorizontal","setIsEditHorizontal","isVerticalEdit","setIsVerticalEdit","inputSelectedXValue","setinputSelectedXValue","inputSelectedYValue","setinputSelectedYValue","topLeftValue","topRightValue","bottomLeftValue","bottomRightValue","leftEndValue","rightEndValue","topEndValue","lowEndValue","horizontalAxisNameValue","verticalAxisNameValue","onCloseModal","prevState","onEditSetting","onSaveModal","resolve","trim","localStorage","setItem","JSON","stringify","retrievedObject","parse","getItem","clearRect","mockData","some","i","leftAttr","rightAttr","nameAxis","setCanvas","useCallback","onRequestClose","confirmDialogModalStyles","maxLength","onChange","persist","target","disabled","CustomModalStyles","URL","webkitURL","overlay","withStyles","theme","popover","pointerEvents","paper","padding","spacing","backgroundColor","isRatingPreviewEditOpen","axisYSelect","axisXSelect","RatingAnchorEl","RatingDescriptionDisplayed","openClearAllFields","widthContentWidth","onHoverRatingIcon","onLeaveRatingIcon","handleDisplayVericalAxisRatingChange","handleDisplayHorizontalAxisRatingChange","openClearAllFieldsModal","handleFlipHorizontalAndVerticalChange","closeClearAllFieldsModal","clearAllFieldsBtn","handleRatingPreviewEditModeClose","handleRatingOff","passCheckedCustomData","emitFlagToRefetchDataOfChart","handleUpdateStateWhenClickedDoneBtnInCreateRadarForm","isCustomVerticalProp","isCustomHorozontalProp","React","setIsCustomVertical","setIsCustomHorozol","setTopEnd","setLowEnd","setLeftEnd","setRightEnd","xName","setXName","yName","setYname","fourFieldsTopLeftValue","setfourFieldsTopLeftValue","fourFieldsTopRightValue","setfourFieldsTopRight","fourFieldsBottomLeftValue","setfourFieldsBottomLeftValue","fourFieldsBottomRightValue","setfourFieldsBottomRightValue","axisXSelectValue","setaxisXSelect","axisYSelectValue","setaxisYSelect","handleBothClickedDoneAndPassCheckedCustomData","isVertical","isHorizontal","CustomHalfWidth","InformationIcon","onMouseEnter","onMouseLeave","Popover","open","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","onClose","disableRestoreFocus","HoverBox","SpaceBetween","icons","defaultChecked","FullWidthBgContainer","paddingTop","HalfWidth","Columns","Column","searchable","styles","options","clearable","RatingGroupBtn","RatingHandleBtnGroup","HandleRatingsBtn","prestate","pre","HandleRatingsBtnActive","HandleDoneBtn","handleDoneBtn","removeItem","InfoCircle","p","EmbedLinkModal","EmbedLinkModalOpen","EmbedLinkModalClose","EmbedLink","viewportHeight","innerHeight","viewportHeight065","CloseBtnWrapper","InformationModal","InfoModalHeader","InfoModalDescription","InfoModalDescription2","InfoModalDescription3","InfoModalDescription4","InfoModalDescription5","InfoModalNote","InfoModalOpen","InfoModalClose","LearnMoreBtn","GuideBtn","LearnMoreLink","GuideLink","openEmbedLinkModalGuideLink","setOpenEmbedLinkModalGuideLink","openEmbedLinkModalLearnMoreLink","setOpenEmbedLinkModalLearnMoreLink","marginLeft","listStyleType","flexDirection","CreateRadarForm","VotingAnchorEl","CommentingAnchorEl","DiscussionAnchorEl","VotingDescriptionDisplayed","CommentingDescriptionDisplayed","DiscussionDescriptionDisplayed","openRatingModalEditMode","openVotingInformationModal","openRatingInformationModal","openCommentingInformationModal","openDiscussionInformationModal","votingHaloOn","handleResize","editorMode","current","offsetWidth","setFieldError","field","hasError","validateRadarName","hasRadarNameError","validateGroup","hasGroupError","groupValue","handleRadarNameChange","handleMapIntroChange","handleValueChange","handleRadarLanguageChange","handlePhenomenaSetChange","imageUrl","radarSet","logo_image","handleDisplayHaloWhenRatingChange","handleGroupChange","handleDiscussionOnChange","handleVotingOnChange","handleVotingHaloOnChange","handleRatingsOnChange","handleLikingOnChange","handleCommentsOnChange","handleVotingSelection","handleHideUsersFromTrialClick","handleTopicChange","topicLabel","updatedTopics","commentTopics","topic","handleImageSelect","fileName","files","reader","FileReader","onload","Image","createObjectURL","readAsDataURL","handleTitleImageSelect","imageTitleFile","handleTitleImageDelete","handleImageDelete","handleNextClick","validate","handleBackClick","handleCloseClick","redirectUser","renderConclusionForm","paddingBottom","modules","renderBasicSettingsForm","propsRadarTitleImage","renderTitleLogoInput","radarLogoEnabled","SelectImageContainer","RadarImageContainer","RadarImage","RadarImageCloseContainer","RadarImageClose","SelectImageInputContainer","SelectImageInput","accept","placeholder","SelectImageButton","RadarTitleImage","whiteBg","renderFormPage","renderUserOptionsForm","renderHeaderAndLanguageForm","createRef","first","titleLogo","debounce","shouldSetDefaultRadarSet","push","onLeaveVotingIcon","currentTarget","onLeaveCommentingIcon","onLeaveDiscussionIcon","isCustom","inputVerticalAxisValue","inputHorozoltalAxisValue","UpVotesWrapper","times","FieldError","Input","maxWidth","renderFieldError","SelectWrapper","select","toLowerCase","phrase","firstPage","Pagination","PaginationLine","PaginationNumber","active","renderCancelButton","renderNextButton","shown","renderPagination","getRadarSetsByLanguage","PhenomenaSelector","AddPhenomenaSandbox","createModalShown","filtersShown","successfullyCreatedCallback","handlePhenomenaSelection","selectedPhenomena","handleCreateNew","handleAdd","addPublicPhenomenaToRadar","hideAddForm","bumpResetFilters","updateMouseCoords","storePhenomenon","radar","modalStyles","onSubmit","newsFeedChanges","onCancel","onDelete","placing","handle","opacity","cursor","onSelect","onCreate","onAddToRadarClick","sandbox","handleFilterChange","renderCreateModal","handler","radarApi","Error","updateRadarVersion","radarDataApiProxy","Proxy","radarDataApi","getPhenomenaTypes","screenshot","selector","waitFor","encoding","addHeading","addTitle","addSlide","addCoverSlide","addPreviewSlide","addSectorsSlide","addSectorSummarySlide","addSectorContent","addTopVotedContentSlide","addRatedContentImageSlide","addRatedContentAxisSlide","addCommentSummarySlide","slide","tr","addText","comment_count","breakLine","radarResultsUrl","hyperlink","xPhenomena","yPhenomena","xOffset","forEach","w","h","bold","rows","rating_avg","phenomenonTypeTitlesById","toFixed","addTable","colW","valign","addImage","pageNum","totalCount","vote_sum","summary","time_range","time","yearMin","yearMax","timeRangeStr","isTextBox","shrinkText","Math","trunc","toText","notes","bullet","lineSpacing","masterName","undefined","radarUrl","autoShrink","createdDate","username","opts","pptx","assign","fontFace","txt","PptxGenJS","getUsername","reportCreatedDate","Date","toLocaleDateString","phenomenonTypes","reduce","obj","getRadar","results_url","radarPhenomenaDataById","getRadarPhenomena","radarPhenomena","sort","defineLayout","layout","defineSlideMaster","objects","sectorPhenomena","sectorId","splice","sortedPhenomena","aVoteSum","aTimestamp","bVoteSum","bTimestamp","topVotedPageCount","ceil","topVotedPageNum","axisPhenomena","aRatingAvg","bRatingAvg","aAvg","writeFile","html","htmlToText","fromString","wordwrap","ignoreImage","singleNewLineParagraphs","fetchRadar","radarData","linkEl","createElement","setAttribute","head","appendChild","phenomenaData","speech_bubble","refetchRadarData","deleteRadarPhenomenon","callback","phenomenon_uuid","deletePhenomenon","updatePhenomenonPosition","phenomenaApiErrorHandler","errorFunc","response","error_code","archived","_upload","rest","phenomenonInput","media","storePhenomenonWithNewsFeeds","storedPhenomenon","status","failedNewsFeedTitles","NEWSFEED_ERROR_PARTIAL","NEWSFEED_ERROR","updatePhenomenon","positionData","updatedPhenomenon","updatePhenomenonVersion","cloneRadar","parentRadarId","deleteRadar","generatePowerpoint","generatePPTX","toggleConfirmationDialog","ConfirmDialog","AddSignalForm","body","errorsShown","handleTitleChange","handleBodyChange","handleCreate","createSignal","changeSignalCreateVisibility","SignalImage","changeSignalListVisibility","fetchRadarSignals","searchInput","getSignals","archiveSignal","signalId","archiveDocument","TYPE_SIGNAL","signal","titleMissing","languageMissing","doc","upsertDocument","SignalList","debounceTimeout","handleArchiveSignal","handleScroll","signalData","totalPages","scrollHeight","scrollTop","handleSearchChange","clearTimeout","setTimeout","nextState","nextPage","willBeVisible","canArchiveSignals","image_url","created","created_at","created_by_name","toJSON","SignalItem","alt","objectFit","dangerouslySetInnerHTML","__html","split","reverse","join","confirm","SearchResultsList","small","renderSignal","bind","onScroll","renderSignals","ShareRadarModal","requestClose","requestOpenPublicLink","checkPublicLinkExsited","publicLink","isPublicShareUrlEnabled","borderRadius","Component","PublicLink","isModalOpen","publicURL","openConfirmationModal","openDeleteConfirmationModal","shareInput","setShareInput","linkCopied","setLinkCopied","onRequestCloseModal","ReactModal__Content","Modal__Title","readOnly","onFocus","el","onCopy","focus","flexShrink","RegenerateBtn","SavePublicLink__Container","ConfirmationModal","regeneratePublicLink","DeleteConfirmationModal","deletePublicLink","deleteConfirmationModal","deleteConfirmationModalClose","SharedLinkModalAfterDelete","SharedLinkModalAfterDeleteClose","RadarTitle","SideNav","deletingModalOpen","sharingModalOpen","clonedModalOpen","generatingModalOpen","publicLinkModal","publicSharedLink","publicSharedUserInfo","radarShareId","publicSharedLinkExsited","radarTitle","toggleOpenEditMenu","clonedRadarCallback","newRadarHref","closeRadar","redirect","getReturnUrl","closePublicLink","openPublicLinkModal","createOrReplaceRadarPublicShare","getRadarPublicShare","onRegeneratePublicLink","regenerateRadarPublicShare","closeConfirmationModal","closeDeleteConfirmationModal","onDeletePublicLink","removeRadarPublicShare","onCloseSharedLinkModalAfterDelete","onShareRadarClick","shareQuery","publicShareUrlEnabled","returnId","signalToolEnabled","collaborationToolsAllowed","renderRadarEditor","Edit","EditMenu","EditTriangle","EditMenuHeader","lineHeight","EditMenuItem","CloseButton","Container","span","returnUri","ErrorModal","SectorEditorForm","titleInput","descriptionInput","handleDescriptionChange","updateSector","Title","SubTitle","ButtonsContainer","EditSectorMenu","timeranges","addSector","deleteSector","handleEditSectorForm","top","RadarPage","zoomed","phenomenaDragged","isZoomable","zoomTransform","handleResultsRedirect","isEditorPageOpen","hideSectorMenuEdit","editMenuPosition","showSectorEditMenu","pageX","pageY","handleEditPhenomenonFormClose","renderRadar","k","shouldRadarRender","xmlns","svgRef","radarRef","renderTimelines","renderSectors","renderTimelineTooltip","renderLogo","renderPhenomena","renderDragMarker","renderMenuLink","scaled","r","icon","renderEditabilityTooltip","offset","middleOfSectorAngle","startAngle","endAngle","toolTipOffset","renderSectorEditor","last","lastSectors","lastRadius","outerRadius","editSector","zoomExtent","newlyCreated","setDraggedPhenomenon","documentElement","updatingPhenomena","longpressTimeout","onPhenomenaDragEnd","handleMouseAction","radarRadius","radians","atan2","PI","sqrt","pow","isOutside","timeRange","innerRadius","outerTimeRange","boundaryRadius","boundaryTime","endYear","startYear","outerSector","scale","mouseCoords","deleteRadarPhenomenonOpen","preventDefault","svg","labelHeight","iconSize","handleWebsocketUpdate","update","toast","svgDimensions","containerSize","zoom","scaleExtent","isIconImgLoading","sectorDescriptionModal","attachEvents","prevProps","call","scaleBy","isLast","strokeWidth","strokeDasharray","selectedKey","arc","d","radarLogoLinkDisabled","logoRadius","tooltipHeight","tooltipY","line","isPlaceholder","getTimerangeLabelPath","dy","startOffset","topics","onMessage","Authorization","hideInfoButton","RadarTitleLogo","direction","renderTitle","renderBottomLeftNav","renderEditSectorMenu","renderSandbox","radarWidth","baseVal","renderEditPhenomenonForm","renderSockJsClient","renderCreateRadarModal","renderSectorDescriptionModal","renderDeleteRadarPhenomenonModal","h1","placement","selectedSector","isEmpty","next","previous","createSector","affectedSectors","s","resultData","deletedSectorId","radarVersion","getPhenomena","getSectorPhenomena","phenomenas","getTimelineSectors","getTimeRanges","timeLineBoundaries","getRadarData","createTimeRanges","getDraggedPhenomenon","Dimensions","WrappedComponent","thisRadius","centerRadius","previousRadius","band","keys","sectorIndex","step","phenomenonRadius","getCreateTimeRanges","createPhenomenon","createPhenomenonWithPosition","roundToX","num","X","round","updateTimerange","timerange","updateRadarTimeRange","timeRangeData","updateTimerangePosition","newTimelinePositions","oldTimelinePositions","newPosition","difference","timelineToUpdate","updatePositions","removeTimeline","deleteRadarTimeRange","positions","timeline","updateTimelinePositions","timelineYearRangeValues","addTimeline","newTimelines","newTimelineIndex","sortedIndexBy","timelinePosition","addRadarTimeRange","newTimelineState","toggleLabelMode","timerangeEditModal","updateTimerangeBlock","oldPositions","calculateModalDisplacement","MODAL_TO_RADAR_MARGIN","availableWidth","innerWidth","MODAL_WIDTH","cancelEvents","blurHandles","handleYearChange","handleLabelChange","handleLabelPositionChange","generateLabelPositionOptions","nextPosition","option","validateTimerangeInput","firstYear","lastYear","isNaN","nextTimeline","previousTimeline","RANGE_BOUNDARY","previousYear","nextYear","findIndex","resetTimerangeEditModal","renderTimeRangeModal","edit","disabledText","LabelInput","InputContainer","YearInput","renderHandles","handleProps","dragging","isDisabled","toString","DragIconContainer","data-toggle","onMouseDown","onMouseUp","aria-labelledby","upperFirst","toLower","savePreviousPosition","handles","getElementsByClassName","blur","orientation","navigator","userAgent","TimeRangeEditorContainer","isMobileDevice","RangeStyles","onBeforeChange","onAfterChange","newPositions","allowCross","pushable","RANGE_MAX","Z_INDEX_MODAL","TimerangeEditorForm","OptionsListItem","LegendContainer","FiltersButton","StateContainer","PhenomenaState","HubLink","ActiveFiltersIndicator","useTags","activeFilters","rel","renderTags","phenomenaType","groupType","borderBottom","hostname","RadarStyles","initTranslations","pptxTimestamp","en","fi","pptxCommentsTitle","pptxCommentsText","count","download","downloadPPTXDescription","pptxGenerateReport","generatingPPTXError","pptxNotVoted","pptxReportBy","pptxSectorListTitle","pptxRatedContent","pptxReportTitle","pptxSector","pptxSectorContent","pptxTopVotedContent","timelineModeTitle","timelineModeSubtitle","timelineDeleteTitle","timelineDeleteSubtitle","addTimelineButton","deleteSignalConfirmation","add","timerangeBoundaryError","timerangeSpaceError","timerangeAmountError","timerangeError","timerangeSmallerYearError","timerangeLargerYearError","timerangeCurrentYearError","currentYear","timelineEditor","updatingTimelinesPositionError","removingTimelineError","addingTimelineError","timerangeExistsError","typeLabel","labelPosition","afterLabel","previousLabel","consecutiveYearError","filterPhenomena","goToHub","moreInfoHub","toggleTimelineMode","done","cancel","filterByType","filterByTag","openPublicLink","createPublicLink","publicLinkNote","publicLinkURL","regeneratePublicLinkNote","deletePublicLinkBtn","sharePublicLinkConfirmation","sharePublicLinkConfirmationNote","deletePublicLinkConfirmation","deletePublicLinkConfirmationNote","copyToClipboard","publicLinkCopied","shareRadarFromUsrMngmt","publicLinkExisted","checkPublicLinkAlreadyExisted","goToManagement","ok","sharedLinkDeletedNote","upvotesForHaloDescription","createFormDiscussionDescription","HorizontalAxisName","IntructionsForNamingAxis","FlipHorizontalVertical","editManuallyBtn","InfoIconHover","InfoModalVotingNote","InfoModalVotingContent","InfoModalVotingContent2","InfoModalVotingContent3","InfoModalVotingContent4","InfoModalVotingContent5","LearnMoreVotingBtn","GuideVotingBtn","InfoModalRatingNote","InfoModalRatingContent","InfoModalRatingContent2","InfoModalRatingContent3","InfoModalRatingContent4","InfoModalRatingContent5","LearnMoreRatingBtn","GuideRatingBtn","InfoModalCommentingNote","InfoModalCommentingContent","InfoModalCommentingContent2","InfoModalCommentingContent3","LearnMoreCommentingBtn","GuideCommentingBtn","InfoModalDiscussionNote","InfoModalDiscussionContent","InfoModalDiscussionContent2","InfoModalDiscussionContent3","LearnMoreDiscussionBtn","GuideDiscussionBtn","commenting","CommentingTool","RatingTool","VotingTool","activateUsers","createFormVotingDescription","upvotesForHalo","createFormRatingDescription","selectValue","manualEditLeftEnd","manualEditRightEnd","manualEditLowEnd","manualEditHighEnd","manualEditTopLeft","manualEditTopRight","manualEditBottomLeft","manualEditBottomRight","createFormCommentingDescription","allowLikeCommenting","appElement","startSession","ReactDOM","render","getAttribute","toastClassName","progressClassName","serviceWorker","ready","registration","unregister","newsFeedApi","addNewsFeed","removeNewsFeed","feedUuid","getNewsFeeds","mergePhenomena","phenomenonDocuments","searchApiResult","radarDataApiData","include_archived","NEWSFEED_SUCCESS","archivePhenomenon","storeNewsFeeds","addedNewsFeeds","deletedNewsFeeds","newsFeed","operations","delete","added","newsFeedStatus","getPhenomenonByUUIDAndGroup","getDocument","related_phenomena","relatedPhenomena","newsFeeds","transformFromLegacy","shortTitle","lead","video","videoText","phenomenonType","feedTag","timing","links","feed_tags","transformToLegacy","videoUrl","mediaText","other","httpPostRequest","query","enhanced","types","time_min","time_max","test","radar_uuid","getRadars","empty","fields","template","normalizePhenomenon","x_offset","sector_id","normalizePhenomenonInput","radar_id","parseFloat","restData","phenomenonData","sectorData","sessionStorage","getCsrfToken","roles","csrfRes","csrfToken","tokenRes","token","user_id","user_name","interceptors","use","reject","normalizeRadar","hide_users","map_intro","axis_x_title","axis_x_max","axis_x_min","axis_y_title","axis_y_max","axis_y_min","four_fields_top_left","four_fields_top_right","four_fields_bottom_left","four_fields_bottom_right","enable_issue_rating","allow_issue_rating","show_freewall","enable_issue_commenting","allow_comment_thumbing","display_halo_when_rating","signal_tool_enabled","owner_id","enable_url_login","url_login_expire","url_login_link","radar_template","title_logo","timeline_label_format","normalizeRadarInput","template_id","normalizeUpdateRadarInput","normalizeCreateRadarInput","normalizeRelatedPhenomena","phenom","dto","short_name","group_id","megatrend","issue_state","video_url","media_text","ingress_body","feed_tag","visibility","normalizePhenomenonTypes","customTypes","defaultTypes","order","sortedTypes","sortBy","sortTypes","normalizeGroupPhenomenonTypes","groupPhenomenonTypes","normalizeFeedTags","feedTags","normalizeRestApiResult","drupalRestApiObject","normalizeGroup","GET","DELETE","PATCH","parent_radar_id","createRadarSectorPhenomenon","updateRadarSectorPhenomenon","phenomenonId","deleteRadarSectorPhenomenon","updateGroup","getRadarsByGroupId","getMembershipByGroupId","roleFilter","searchPhrase","deleteMemberships","membershipIds","mid","updateMembershipRole","getGroupById","grantRadarUserAccess","revokeRadarUserAccess","inviteToRadar","createRadarShareLink","groupTypes","getRssFeedTags","getGroupsWithMemberShips","groupsToNormalize","fetchShares","regenerateShare","deleteShare","handlePublicShareInfo","expired","login_expire","getTime","info","radar_share_url","getVotingResults","prototype","start"],"mappings":"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","file":"static/js/main.eb460209.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/edit1.faccf3a6.svg\";","import { getGroupSettings, getHubspotAlertsTaxonomy } from '../drupal-api'\nimport { get } from 'lodash-es'\nimport axios from 'axios'\nimport { getSessionToken } from '../session'\n\nconst TAG_SERVICE_API_URL = process.env.REACT_APP_TAG_SERVICE_API_URL\n\nconst GET = 'GET'\nconst POST = 'POST'\nconst DELETE = 'DELETE'\nconst PUT = 'PUT'\nconst PATCH = 'PATCH'\n\nasync function httpRequest (method, path, payload = null) {\n  return axios({\n    method: method,\n    url: `${TAG_SERVICE_API_URL}/${path}`,\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${getSessionToken()}`\n    },\n    data: payload\n  }).then(res => res.data)\n}\n\nexport async function tagPhenomenon (groupId, phenomenonUuid, tagUri, property = 'fp:docs/props/has') {\n  const { error } = await httpRequest(POST, `?group=${groupId}`, { tag: tagUri, content: `fp:docs/phenomenon/${phenomenonUuid}`, property })\n  return Boolean(error)\n}\n\nexport async function removeTagPhenomenon (groupId, phenomenonUuid, tagUri, property = 'fp:docs/props/has') {\n  const { error } = await httpRequest(POST, `remove?group=${groupId}`, { tag: tagUri, content: `fp:docs/phenomenon/${phenomenonUuid}`, property })\n  return Boolean(error)\n}\n\n/**\n * Returns tag uri string array for a phenomenon uuid\n *\n * @param groupId\n * @param phenomenonUuid\n * @param property\n * @return {Promise<String[]>}\n */\nexport async function getTagUrisByPhenomenonUuid (groupId, phenomenonUuid, property = 'fp:docs/props/has') {\n  const tags = await httpRequest(GET, `fp:docs/phenomenon/${phenomenonUuid}?group=${groupId}`) || []\n  return tags.filter(({ property: tagProperty }) => tagProperty === property).map(({ tag }) => tag)\n\n}\n\n/**\n * Returns an object with phenomenon uuids as keys and tag uri string arrays as values\n *\n * @param groupId\n * @param {String[]} phenomenonUuids\n * @param property\n * @return {Promise<{[String]: String[] }>}\n */\nexport async function getTagUrisByPhenomenonUuids (groupId, phenomenonUuids, property = 'fp:docs/props/has') {\n  let tagsByUris = await httpRequest(POST, `tags?group=${groupId}`, { content: phenomenonUuids.map(uuid => `fp:docs/phenomenon/${uuid}`) })\n\n  // If returned object is empty, Service returns falsily empty array instead of an object\n  if (Array.isArray(tagsByUris) && tagsByUris.length === 0) {\n    return {}\n  }\n  const result = {}\n  for (let [ docUri, tags ] of Object.entries(tagsByUris)) {\n    const docUuid = docUri.replace('fp:docs/phenomenon/', '')\n    result[docUuid] = tags.filter(({ property: tagProperty }) => tagProperty === property).map(({ tag }) => tag)\n  }\n  return result\n\n}\n\nexport async function getTagByUri (uri) {\n  const prefixes = [\n    {\n      re: /^fp:tags\\/group\\/(\\d+)\\/(.*)$/,\n      resolver: ([, group, namePart]) => groupTags[Number(group)].find(({ name }) => name === namePart)\n    },\n    {\n      re: /^fp:tags\\/theme\\/(.*)$/,\n      resolver: ([, namePart]) => fpTags.find(({ name }) => name === namePart)\n    }\n  ]\n  for (const { re, resolver } of prefixes) {\n    const matches = uri.match(re)\n    if (matches !== null) {\n      return resolver(matches)\n    }\n  }\n}\n\nexport async function getLocalizedTagByUri (uri, lang) {\n  const { ...tag } = getTagByUri(uri)\n  if (tag) {\n    if (typeof tag.label === 'string') {\n      return tag\n    } else {\n      return { ...tag, label: tag.label[lang] }\n    }\n  }\n}\n\nfunction addTagUris (prefix, tags) {\n  return tags.map(({ name, ...tag }) => ({ uri: `${prefix}${name}`, ...tag }))\n}\n\nexport async function getGroupTags (groupId) {\n  // server returns 500 error for public group, which has groupId of 0, workaround\n  if (groupId) {\n    return addTagUris(`fp:tags/group/${groupId}/`, get(await getGroupSettings(Number(groupId)), ['data', 'settings', 'tags'], []))\n  }\n\n  return []\n}\n\nexport async function getFpTags () {\n  const { results = [] } = await getHubspotAlertsTaxonomy()\n  return addTagUris('fp:tags/theme/', results.map(({ name, translation, url_alias = '' }) => ({ label: {'fi': translation, 'en': name}, name: url_alias.replace('/hubspot-alerts/', '')})))\n}\n\nexport async function getLocalizedFpTags (lang) {\n  return getFpTags().map(({ label, ...tag }) => ({ ...tag, label: label[lang] }))\n}\n","import axios from 'axios'\nimport { getSessionToken } from '../session'\n\nconst PHENOMENA_STATISTICS_API_URL = process.env.REACT_APP_PHENOMENA_STATISTICS_API_URL\n\nconst GET = 'GET'\nconst POST = 'POST'\nconst DELETE = 'DELETE'\nconst PATCH = 'PATCH'\n\nasync function httpRequest(method, path, payload = null) {\n    return axios({\n        method,\n        url: `${PHENOMENA_STATISTICS_API_URL}/${path}`,\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${getSessionToken()}`\n        },\n        withCredentials: true,\n        data: payload || null\n    })\n}\n\nconst phenomenaStatisticsApi = {\n  getPhenomenaStatistics: async (uuids) => {\n    return httpRequest(GET, `?uuid=${uuids}`)\n  }\n}\n\nexport default phenomenaStatisticsApi","module.exports = __webpack_public_path__ + \"static/media/edit2.de35a092.svg\";","import * as d3 from 'd3'\nimport {\n    PUBLIC_URL\n} from './env'\nimport _ from 'lodash'\nimport { getUserRoles } from '@sangre-fp/connectors/session'\n\nexport const getCoordsFromAngleAndRadius = (angle, radius) => d3.radialLine()([[angle, radius]])\n    .match(/^M(.+),(.+)Z$/)\n    .slice(1)\n    .map(Number)\n\nexport const detectLeftButton = evt => {\n    const event = evt || window.event\n    if ('buttons' in evt) {\n        return event.buttons === 1\n    }\n    const button = event.which || event.button\n    return button === 1\n}\n\nexport const getPhenomenonUrl = (radarId = false, phenomenon, hideEdit = false) => {\n    const { group, id } = phenomenon\n    const hasGroup = phenomenon.hasOwnProperty('group')\n    const groupUrl = hasGroup ? `group=${group}` : ''\n\n    if (!radarId) {\n        return `${PUBLIC_URL}/fp-phenomena/${id}${groupUrl.length ? `/?${groupUrl}` : ''}`\n    }\n\n    const urlParams = new URLSearchParams(window.location.search)\n    const vsid = urlParams.get('vsid')\n\n    // eslint-disable-next-line\n    return `${PUBLIC_URL}/node/${radarId}?issue=${id}&map_id=${radarId}&source_position=right&source_page=radar-view${groupUrl.length ? `&${groupUrl}` : ''}${hideEdit ? '&hideEdit=true' : ''}${vsid ? `&vsid=${vsid}` : ''}`\n}\n\nexport const editorRole = role =>  role === 'manager' || role === 'owner' || role === 'editor'\n\nexport const publicEditorRole = permissions => !!_.find(permissions, permission => permission === 'fp editor')\n\nexport const makeGroup = group => {\n    const {\n        id,\n        label,\n        radarsUsed,\n        radarsAllowed: radarsAllowedString,\n        accountDrupalRoles,\n        accountPermissions,\n        availableResources\n    } = group\n\n    // backend is returning this as a string for whatever reason\n    const radarsAllowed = Number(radarsAllowedString)\n\n    // not sure why this info is in the group\n    const canEditPublic = accountDrupalRoles && publicEditorRole(accountDrupalRoles[0])\n    const canEdit = accountPermissions && editorRole(accountPermissions.role)\n\n    return {\n        ...group,\n        id,\n        value: id,\n        label,\n        radarsAllowed,\n        radarsUsed,\n        hasAvailableRadars: radarsUsed < radarsAllowed,\n        availableResources,\n        canEditPublic,\n        canEdit\n    }\n}\n\nexport const isFpEditor = publicEditorRole(getUserRoles())\n\nexport const arrayMoveMutate = (array, from, to) => {\n    array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0])\n}\n\nexport const arrayMove = (array, from, to) => {\n    const arr = array.slice()\n    arrayMoveMutate(arr, from, to)\n    return arr\n}\n","import _ from 'lodash'\nimport { makeGroup, isFpEditor } from '../helpers'\nimport { getCurrentLanguage, setLanguage } from '@sangre-fp/i18n'\nimport {\n    HANDLE_ADD_FORM_VISIBILITY,\n    CHANGE_ADD_FORM_PAGE,\n    CHANGE_RADAR_NAME,\n    CHANGE_MAP_INTRO,\n    CHANGE_RADAR_LANGUAGE,\n    CHANGE_PHENOMENA_SET,\n    CHANGE_HIDE_USERS_FROM_TRIAL,\n    CHANGE_RADAR_IMAGE,\n    CHANGE_RADAR_TITLE_IMAGE,\n    CHANGE_VOTING_ON,\n    CHANGE_RATINGS_ON,\n    CHANGE_RATINGS_SETTINGS,\n    CHANGE_DISCUSSION_ON,\n    CHANGE_COMMENTS_ON,\n    CHANGE_LIKING_ON,\n    CHANGE_VOTING_UP,\n    CHANGE_EXISTING_RADAR_PAGE,\n    HANDLE_EDIT_SECTOR_PAGE_VISIBILITY,\n    HANDLE_EDIT_TIMERANGES_PAGE_VISIBILITY,\n    HANDLE_ADD_PHENOMENA_VISIBILITY,\n    GET_GROUPS_SUCCESS,\n    CHANGE_RADAR_GROUP,\n    HANDLE_EDIT_PHENOMENA_VISIBILITY,\n    CHANGE_DISPLAY_HALO_WHEN_RATING,\n    CHANGE_RADAR_SHARING,\n    CHANGE_RADAR_SHARING_EXPIRY,\n    CREATE_RADAR_SUCCESS,\n    FETCH_RADAR_SUCCESS,\n    UPDATE_RADAR_SUCCESS,\n    UPDATE_RADAR_VERSION,\n    TOGGLE_EDIT_MENU_VISIBILITY,\n    TOGGLE_LABEL_MODE,\n    SET_DRAGGED_PHENOMENON\n} from '@sangre-fp/reducers/actionTypes'\n\n// polyfill fix for edge\nconst paramsString = document.location.search\nconst searchParams = new URLSearchParams(paramsString)\nconst id = Number(searchParams.get('node'))\n\nconst initialState = {\n    id: id || false,\n    existingRadarPage: !!id,\n    addRadarFormOpen: !id,\n    addRadarFormPage: 1,\n    groups: [],\n    group: false,\n    radarName: '',\n    mapIntro: null,\n    radarLanguage: getCurrentLanguage(),\n    phenomenaSet: false,\n    hideUsersFromTrial: false,\n    radarImage: false,\n    votingOn: false,\n    ratingsOn: false,\n    discussionOn: false,\n    commentsOn: false,\n    likingOn: false,\n    votingUp: true,\n    editMenuOpen: false,\n    editSectorsPageOpen: false,\n    editTimeRangesPageOpen: false,\n    addPhenomenaVisible: false,\n    editPhenomenaVisible: null,\n    account: false,\n    displayHaloWhenRating: null,\n    enableUrlLogin: false,\n    urlLoginExpire: null,\n    urlLoginLink: '',\n    isRadarTemplate: false,\n    radarTitleImage: false,\n    timelineLabelFormat: false,\n    draggedPhenomenonId: false\n}\n\nexport default (state = initialState, { type, payload }) => {\n    switch (type) {\n        case SET_DRAGGED_PHENOMENON:\n            return {\n                ...state,\n                draggedPhenomenonId: payload\n            }\n        case TOGGLE_LABEL_MODE:\n            return {\n                ...state,\n                timelineLabelFormat: !state.timelineLabelFormat\n            }\n        case TOGGLE_EDIT_MENU_VISIBILITY:\n            return {\n                ...state,\n                editMenuOpen: payload\n            }\n        case UPDATE_RADAR_SUCCESS:\n            return {\n                ...state,\n                ...payload\n            }\n        case CREATE_RADAR_SUCCESS:\n            const { origin, pathname } = window.location\n            window.location.href = origin + pathname + `?node=${payload.id}`\n\n            return {\n                ...state,\n                ...payload,\n                editSectorsPageOpen: !payload.time_ranges.length\n            }\n        case HANDLE_ADD_FORM_VISIBILITY:\n            return {\n                ...state,\n                addRadarFormOpen: !state.addRadarFormOpen,\n                addRadarFormPage: payload || 1\n            }\n        case FETCH_RADAR_SUCCESS:\n            setLanguage(payload.radarLanguage)\n            const account = payload.account\n            const role = account ? account.role : false\n            const canDeleteRadar = role === 'owner' || role === 'manager' || String(account.userId) === String(payload.ownerId)\n            const canEditRadar = role === 'owner' || role === 'editor' || role === 'manager' || isFpEditor\n            const isVisitor = role === 'visitor'\n            const canShareRadar = role === 'owner' || role === 'manager'\n\n            return {\n                ...state,\n                ...payload,\n                canDeleteRadar,\n                canEditRadar,\n                isVisitor,\n                canShareRadar\n            }\n        case CHANGE_RADAR_SHARING:\n            return {\n                ...state,\n                enableUrlLogin: payload\n            }\n        case CHANGE_RADAR_SHARING_EXPIRY:\n            return {\n                ...state,\n                urlLoginExpire: payload\n            }\n        case CHANGE_EXISTING_RADAR_PAGE:\n            return {\n                ...state,\n                existingRadarPage: payload\n            }\n        case HANDLE_EDIT_SECTOR_PAGE_VISIBILITY:\n            return {\n                ...state,\n                editSectorsPageOpen: !state.editSectorsPageOpen\n            }\n        case HANDLE_EDIT_TIMERANGES_PAGE_VISIBILITY:\n            return {\n                ...state,\n                editTimeRangesPageOpen: !state.editTimeRangesPageOpen\n            }\n        case CHANGE_RADAR_NAME:\n            return {\n                ...state,\n                radarName: payload\n            }\n        case CHANGE_MAP_INTRO:\n            return {\n                ...state,\n                mapIntro: payload\n            }\n        case CHANGE_RADAR_LANGUAGE:\n            setLanguage(payload)\n\n            return {\n                ...state,\n                radarLanguage: payload\n            }\n        case CHANGE_ADD_FORM_PAGE:\n            return {\n                ...state,\n                addRadarFormPage: payload\n            }\n        case CHANGE_PHENOMENA_SET:\n            return {\n                ...state,\n                phenomenaSet: payload\n            }\n        case CHANGE_RADAR_GROUP:\n            return {\n                ...state,\n                group: payload\n            }\n        case CHANGE_HIDE_USERS_FROM_TRIAL:\n            return {\n                ...state,\n                hideUsersFromTrial: payload\n            }\n        case CHANGE_RADAR_IMAGE:\n            return {\n                ...state,\n                radarImage: payload\n            }\n        case CHANGE_RADAR_TITLE_IMAGE:\n            return {\n                ...state,\n                radarTitleImage: payload\n            }\n        case CHANGE_VOTING_ON:\n            return {\n                ...state,\n                votingOn: payload\n            }\n        case CHANGE_DISPLAY_HALO_WHEN_RATING:\n            return {\n                ...state,\n                displayHaloWhenRating: payload\n            }\n        case CHANGE_RATINGS_ON:\n            return {\n                ...state,\n                ratingsOn: payload\n            }\n        case CHANGE_RATINGS_SETTINGS:\n            return {\n                ...state,\n                ...payload\n            }\n        case CHANGE_DISCUSSION_ON:\n            return {\n                ...state,\n                discussionOn: payload\n            }\n        case CHANGE_COMMENTS_ON:\n            return {\n                ...state,\n                commentsOn: payload\n            }\n        case CHANGE_LIKING_ON:\n            return {\n                ...state,\n                likingOn: payload\n            }\n        case CHANGE_VOTING_UP:\n            return {\n                ...state,\n                votingUp: payload\n            }\n        case GET_GROUPS_SUCCESS:\n            // filter out groups without ids\n            const groups = _.filter(\n                _.map(payload, makeGroup),\n                group => group.id\n            )\n\n            return {\n                ...state,\n                groups\n            }\n        case HANDLE_ADD_PHENOMENA_VISIBILITY:\n            return {\n                ...state,\n                addPhenomenaVisible: !state.addPhenomenaVisible\n            }\n        case HANDLE_EDIT_PHENOMENA_VISIBILITY:\n            return {\n                ...state,\n                editPhenomenaVisible: payload\n            }\n        case UPDATE_RADAR_VERSION:\n            return {\n                ...state,\n                radar_version: payload\n            }\n        default:\n            return state\n    }\n}\n","import {\n    FETCH_RADAR_SUCCESS,\n    UPDATE_PHENOMENON,\n    CREATE_PHENOMENA_SUCCESS,\n    DELETE_PHENOMENA_SUCCESS,\n    CREATE_PHENOMENA_POSITION_SUCCESS,\n    UPDATE_PHENOMENON_INGESTION_SUCCESS,\n    UPDATE_PHENOMENON_VERSION,\n    REFETCH_DATA_SUCCESS\n} from '@sangre-fp/reducers/actionTypes'\n\nconst initialState = []\n\nexport default (state = initialState, { type, payload }) => {\n    switch (type) {\n        case REFETCH_DATA_SUCCESS:\n            return payload.phenomena\n\n        case FETCH_RADAR_SUCCESS:\n            return payload.phenomena\n\n        case UPDATE_PHENOMENON:\n            return state.map(phenomenon => {\n                if (phenomenon.id === payload.id) {\n                    return {\n                        ...phenomenon,\n                        ...payload\n                    }\n                }\n\n                return phenomenon\n            })\n\n        case UPDATE_PHENOMENON_VERSION: {\n            return state.map(phenomenon => {\n                if (phenomenon.id === payload.id) {\n                    return {\n                        ...phenomenon,\n                        version: payload.version\n                    }\n                }\n\n                return phenomenon\n            })\n        }\n\n        case CREATE_PHENOMENA_SUCCESS:\n            return state.concat(payload)\n\n        case DELETE_PHENOMENA_SUCCESS:\n            return state.filter(item => item.id !== payload.id)\n\n        case CREATE_PHENOMENA_POSITION_SUCCESS:\n            return state.map(phenomenon => {\n                if (phenomenon.id === payload.id) {\n                    return {\n                        ...phenomenon,\n                        ...payload\n                    }\n                }\n\n                return phenomenon\n            })\n\n        case UPDATE_PHENOMENON_INGESTION_SUCCESS:\n            return state.map(phenomenon => {\n                if (phenomenon.id === payload.id) {\n                    return {\n                        ...phenomenon,\n                        ...payload\n                    }\n                }\n\n                return phenomenon\n            })\n\n        default:\n            return state\n    }\n}\n","import _ from 'lodash'\nimport {\n    TOGGLE_FILTERS,\n    SET_ACTIVE_FILTER,\n    RESET_FILTERS,\n    SET_ACTIVE_TAG_FILTER\n} from '@sangre-fp/reducers/actionTypes'\n\nconst initialState = {\n    filtersVisible: false,\n    activeFilter: [],\n    activeTagFilter: []\n}\n\nexport default (state = initialState, { type, payload }) => {\n    switch (type) {\n        case TOGGLE_FILTERS:\n            return {\n                ...state,\n                filtersVisible: !state.filtersVisible\n            }\n        case SET_ACTIVE_FILTER:\n            return {\n                ...state,\n                activeFilter: _.find(state.activeFilter, payload) ? state.activeFilter.filter(filter => filter !== payload) : [...state.activeFilter, payload]\n            }\n        case SET_ACTIVE_TAG_FILTER:\n            return {\n                ...state,\n                activeTagFilter: _.includes(state.activeTagFilter, payload) ? state.activeTagFilter.filter(filter => filter !== payload) : [...state.activeTagFilter, payload]\n            }\n        case RESET_FILTERS:\n            return {\n                ...state,\n                activeFilter: [],\n                activeTagFilter: []\n            }\n        default:\n            return state\n    }\n}\n","import {\n    HANDLE_SIGNAL_LIST_VISIBILITY,\n    FETCH_SIGNALS_SUCCESS,\n    HANDLE_SIGNAL_CREATE_VISIBILITY,\n    CREATE_SIGNAL_SUCCESS,\n    FETCH_MORE_SIGNALS_SUCCESS\n} from '@sangre-fp/reducers/actionTypes'\n\nconst initialState = {\n    signalListVisible: false,\n    signalCreateVisibility: false,\n    signals: [],\n    totalRadarSignals: false\n}\n\nexport default (state = initialState, { type, payload }) => {\n    switch (type) {\n        case HANDLE_SIGNAL_LIST_VISIBILITY:\n            return {\n                ...state,\n                signalListVisible: !state.signalListVisible\n            }\n        case HANDLE_SIGNAL_CREATE_VISIBILITY:\n            return {\n                ...state,\n                signalCreateVisibility: !state.signalCreateVisibility\n            }\n        case FETCH_SIGNALS_SUCCESS:\n            return {\n                ...state,\n                signals: payload.result,\n                totalRadarSignals: payload.total\n            }\n        case FETCH_MORE_SIGNALS_SUCCESS:\n            return {\n                ...state,\n                signals: [...state.signals, ...payload.result],\n                totalRadarSignals: payload.total\n            }\n        case CREATE_SIGNAL_SUCCESS:\n            return {\n                ...state,\n                signals: [{ ...payload }, ...state.signals],\n                totalRadarSignals: state.totalRadarSignals + 1\n            }\n        default:\n            return state\n    }\n}\n","import { combineReducers } from 'redux'\nimport radarSettings from './radarSettings'\nimport phenomena from './phenomena'\nimport timelines from '@sangre-fp/reducers/timelines'\nimport filters from './filters'\nimport signals from './signals'\n\nimport {\n    loading,\n    errors,\n    radarSets,\n    phenomenaTypes,\n    phenomenaTypesById,\n    confirmDialog,\n    sectors\n} from '@sangre-fp/reducers'\n\nexport default combineReducers({\n    sectors,\n    filters,\n    phenomena,\n    timelines,\n    radarSettings,\n    radarSets,\n    loading,\n    errors,\n    phenomenaTypes,\n    phenomenaTypesById,\n    signals,\n    confirmDialog\n})\n","import * as actionTypes from '@sangre-fp/reducers/actionTypes'\n\nexport const loadingStart = component => ({\n    type: `${actionTypes.LOADING}/${component}`,\n    payload: { component }\n})\n\nexport const loadingSuccess = component => ({\n    type: `${actionTypes.LOADING_SUCCESS}/${component}`,\n    payload: { component }\n})\n\nexport const loadingError = (component, error, defaultMessage, message) => ({\n    type: `${actionTypes.LOADING_ERROR}/${component}`,\n    payload: { component, error, defaultMessage, message }\n})\n\nexport const getNetworkMethods = (type, successType, defaultMessage) => {\n    const loading = () => loadingStart(type)\n    const success = payload => dispatch => {\n        dispatch(loadingSuccess(type))\n        return dispatch({\n            type: successType,\n            payload\n        })\n    }\n    const error = (err, message) => dispatch =>\n        dispatch(loadingError(type, err, defaultMessage, message))\n    return {\n        loading,\n        success,\n        error\n    }\n}\n\n","import axios from 'axios'\n// import { MEDIA_API_URL } from '../../env'\nimport { getSessionToken } from '../session'\n\nconst MEDIA_API_URL = process.env.REACT_APP_MEDIA_API_URL\n\nasync function uploadFileRequest(filePath, file) {\n    const fileHeaders = {\n        'Content-Type': file.type || 'application/octet-stream',\n        'Authorization': `Bearer ${getSessionToken()}`\n    }\n    const uploadUrl = `${MEDIA_API_URL}/${filePath}`\n    return axios\n        .put(uploadUrl, file, { headers: fileHeaders })\n            .then(res => res.data.name || res.data)\n}\n\nexport async function uploadFile(file, groupId = 0) {\n    return uploadFileRequest(groupId ? `${groupId}/${file.name}` : `${file.name}`, file)\n}\n\nexport const getImageUrl = path => {\n    if (path && !path.match(/^https?:\\/\\//)) {\n        return MEDIA_API_URL + '/' + path\n    }\n\n    return path\n}\n\nexport const handleImageUploadIfNeeded = async (imageFile, groupId) => {\n    if (imageFile && typeof imageFile !== 'string') {\n        const image = await uploadFile(imageFile, groupId)\n        return getImageUrl(image)\n    }\n\n    return imageFile\n}\n","import _ from 'lodash'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { getNetworkMethods } from './network'\nimport drupalApi from '@sangre-fp/connectors/drupal-api'\nimport { handleImageUploadIfNeeded } from '@sangre-fp/connectors/media-api'\n\nexport const toggleEditMenuVisiblity = (visibilityState = false) => dispatch => (\n    dispatch({ type: actionTypes.TOGGLE_EDIT_MENU_VISIBILITY , payload: visibilityState })\n)\n\nexport const getUserGroups = () => dispatch => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.GET_GROUPS,\n        actionTypes.GET_GROUPS_SUCCESS,\n        requestTranslation('fetchingGroupsError')\n    )\n\n    dispatch(loading())\n\n    const groupRequest = drupalApi.getGroups()\n    const membershipRequest = drupalApi.getMemberships()\n\n    return Promise.all([groupRequest, membershipRequest]).then(([groups, memberships]) => {\n        const membershipGroupIds = memberships ? Object.values(memberships).map(membership => parseInt(membership.gid, 10)) : []\n        dispatch(success(groups ? Object.values(groups).filter(group => membershipGroupIds.indexOf(group.id) !== -1) : []))\n    })\n    .catch(err => {\n        dispatch(error(err))\n    })\n}\n\nexport const changeAddRadarFormVisibility = (page = false) => dispatch => {\n    if (page) {\n        dispatch({ type: actionTypes.HANDLE_ADD_FORM_VISIBILITY, payload: page })\n    } else {\n        dispatch({ type: actionTypes.HANDLE_ADD_FORM_VISIBILITY })\n    }\n}\n\nexport const changeDisplayHaloWhenRating = rating => dispatch => dispatch({ type: actionTypes.CHANGE_DISPLAY_HALO_WHEN_RATING, payload: rating })\nexport const changeRadarName = name => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_NAME, payload: name })\nexport const changeMapIntro = mapIntro => dispatch => dispatch({ type: actionTypes.CHANGE_MAP_INTRO, payload: mapIntro })\nexport const changeRadarLanguage = language => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_LANGUAGE, payload: language })\nexport const changeRadarGroup = group => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_GROUP, payload: group })\nexport const changeAddRadarFormPage = page => dispatch => dispatch({ type: actionTypes.CHANGE_ADD_FORM_PAGE, payload: page })\nexport const changePhenomenaSet = set => dispatch => dispatch({ type: actionTypes.CHANGE_PHENOMENA_SET, payload: set })\nexport const changeHideUsersFromTrial = bool => dispatch => dispatch({ type: actionTypes.CHANGE_HIDE_USERS_FROM_TRIAL, payload: bool })\nexport const changeRadarImage = image => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_IMAGE, payload: image })\nexport const changeRadarTitleImage = image => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_TITLE_IMAGE, payload: image })\nexport const changeVotingOn = bool => dispatch => dispatch({ type: actionTypes.CHANGE_VOTING_ON, payload: bool })\nexport const changeRatingsOn = bool => dispatch => dispatch({ type: actionTypes.CHANGE_RATINGS_ON, payload: bool })\nexport const changeRadarSharing = bool => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_SHARING, payload: bool })\n\nexport const changeRadarSharingExpiry = date => dispatch => dispatch({ type: actionTypes.CHANGE_RADAR_SHARING_EXPIRY, payload: date })\n\nexport const changeRatingsSettings = ({\n    axisXTitle,\n    axisXMax,\n    axisXMin,\n    axisYTitle,\n    axisYMax,\n    axisYMin,\n    fourFieldsTopLeft,\n    fourFieldsTopRight,\n    fourFieldsBottomLeft,\n    fourFieldsBottomRight\n}) => dispatch => dispatch({\n    type: actionTypes.CHANGE_RATINGS_SETTINGS,\n    payload: {\n        axisXTitle,\n        axisXMax,\n        axisXMin,\n        axisYTitle,\n        axisYMax,\n        axisYMin,\n        fourFieldsTopLeft,\n        fourFieldsTopRight,\n        fourFieldsBottomLeft,\n        fourFieldsBottomRight\n    }\n})\n\nexport const changeDiscussionOn = bool => dispatch =>\n    dispatch({ type: actionTypes.CHANGE_DISCUSSION_ON, payload: bool })\n\nexport const changeCommentsOn = bool => dispatch =>\n    dispatch({ type: actionTypes.CHANGE_COMMENTS_ON, payload: bool })\n\nexport const changeLikingOn = bool => dispatch =>\n    dispatch({ type: actionTypes.CHANGE_LIKING_ON, payload: bool })\n\nexport const changeVotingUp = bool => dispatch =>\n    dispatch({ type: actionTypes.CHANGE_VOTING_UP, payload: bool })\n\nexport const toggleFilter = () => dispatch => dispatch({ type: actionTypes.TOGGLE_FILTERS })\n\nexport const setActiveFilter = filter => dispatch => dispatch({ type: actionTypes.SET_ACTIVE_FILTER, payload: filter })\n\nexport const setActiveTagFilter = filter => dispatch => dispatch({ type: actionTypes.SET_ACTIVE_TAG_FILTER, payload: filter })\n\nexport const resetFilters = () => dispatch => dispatch({ type: actionTypes.RESET_FILTERS })\n\nexport const createRadar = () => async (dispatch, getState) => {\n    const radarSettings = getState().radarSettings\n    const {\n        group,\n        radarImage,\n        radarTitleImage\n    } = radarSettings\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.CREATE_RADAR,\n        actionTypes.CREATE_RADAR_SUCCESS,\n        requestTranslation('creatingRadarError')\n    )\n\n    dispatch(loading())\n\n    try {\n        const groupId = _.isObject(group) ? _.get(group, 'id', 0) : group\n\n        const radarInput = {\n            ...radarSettings,\n            radarImage: await handleImageUploadIfNeeded(radarImage, groupId),\n            radarTitleImage: await handleImageUploadIfNeeded(radarTitleImage, groupId)\n        }\n\n        const data = await drupalApi.createRadar(radarInput)\n\n        dispatch(success(data))\n    } catch (err) {\n        dispatch(error(err))\n    }\n}\n\nexport const updateRadar = (hideForm = true) => async (dispatch, getState) => {\n    const radarSettings = getState().radarSettings\n\n    const {\n        group,\n        radarImage,\n        radarTitleImage,\n        id\n    } = radarSettings\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.UPDATE_RADAR,\n        actionTypes.UPDATE_RADAR_SUCCESS,\n        requestTranslation('updatingRadarError')\n    )\n\n    dispatch(loading())\n\n    try {\n        const groupId = _.isObject(group) ? _.get(group, 'id', 0) : group\n\n        const radarInput = {\n            ...radarSettings,\n            radarImage: await handleImageUploadIfNeeded(radarImage, groupId),\n            radarTitleImage: await handleImageUploadIfNeeded(radarTitleImage, groupId)\n        }\n\n        const data = await drupalApi.updateRadar(id, radarInput)\n\n        if (hideForm) {\n            dispatch({ type: actionTypes.HANDLE_ADD_FORM_VISIBILITY })\n        }\n\n        dispatch(success(data))\n    } catch (e) {\n        dispatch(error(e))\n    }\n}\n\nexport const getRadarSets = () => (dispatch) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.GET_RADAR_SETS,\n        actionTypes.GET_RADAR_SETS_SUCCESS,\n        requestTranslation('fetchingSetsError')\n    )\n\n    dispatch(loading())\n\n    return drupalApi.getRadarTemplates()\n        .then(data => dispatch(success(data)))\n        .catch(err => dispatch(error(err)))\n}\n\nexport const sectorPageHandler = () => dispatch =>\n    dispatch({ type: actionTypes.HANDLE_EDIT_SECTOR_PAGE_VISIBILITY })\n\nexport const timerangePageHandler = () => dispatch =>\n    dispatch({ type: actionTypes.HANDLE_EDIT_TIMERANGES_PAGE_VISIBILITY })\n\nexport const clearAllErrors = () => dispatch =>\n    dispatch({ type: actionTypes.CLEAR_ALL_ERRORS })\n\nexport const changeAddPhenomenaVisibility = () => ({ type: actionTypes.HANDLE_ADD_PHENOMENA_VISIBILITY })\n\nexport const changeEditPhenomenaVisibility = phenomenonUuid => (dispatch, getState) => {\n    const { phenomena } = getState()\n\n    const phenomenon = phenomenonUuid\n        ? _.find(phenomena, { id: phenomenonUuid })\n        : null\n\n    if (phenomenonUuid && !phenomenon) {\n        console.error('Invalid phenomenonUuid', phenomenonUuid)\n    }\n\n    return dispatch({\n        type: actionTypes.HANDLE_EDIT_PHENOMENA_VISIBILITY,\n        payload: phenomenon\n    })\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from './reducers'\nimport {changeEditPhenomenaVisibility} from \"./actions/radarSettings\";\n\nconst composeEnhancers = process.env.NODE_ENV !== 'production' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\n\n\nwindow.radarCallbacks = {\n    ...(window.radarCallbacks || {}),\n    openPhenomenonEditor: uuid => store.dispatch(changeEditPhenomenaVisibility(uuid))\n}\n\nexport default store\n","import _ from 'lodash'\nimport React, { PureComponent } from 'react'\nimport Text from 'react-svg-text'\nimport { getPhenomenonUrl } from '../helpers'\nimport classNames from 'classnames'\nimport { PhenomenonType } from '@sangre-fp/ui'\n\n\nexport default class Phenomenon extends PureComponent {\n    handleDrag = e => {\n        // turning off prevent default because it didn't allow phenomena to open on ipad\n        // e.preventDefault()\n        e.stopPropagation()\n        const { onPhenomenaDrag, phenomenon } = this.props\n        onPhenomenaDrag(e, phenomenon)\n    }\n\n    componentDidMount() {\n        const { onPhenomenaDrag } = this.props\n\n        if (onPhenomenaDrag) {\n            this.phenomena.addEventListener('mousedown', this.handleDrag)\n            this.phenomena.addEventListener('touchstart', this.handleDrag)\n            this.phenomena.addEventListener('ontouchstart', this.handleDrag)\n        }\n    }\n\n    componentWillUnmount() {\n        const onPhenomenaDrag = this.props\n\n        if (onPhenomenaDrag) {\n            this.phenomena.removeEventListener('mousedown', this.handleDrag)\n            this.phenomena.addEventListener('touchstart', this.handleDrag)\n            this.phenomena.addEventListener('ontouchstart', this.handleDrag)\n        }\n    }\n\n    phenomenonRef = ref => {\n        this.phenomena = ref\n    }\n\n    getPhenomenonType = () => {\n        const { phenomenaTypesById, phenomenon: { content: { type: id } } } = this.props\n\n        const defaultValue =  _.find(phenomenaTypesById, type => type.alias === 'undefined')\n\n        return phenomenaTypesById[id] || defaultValue\n    }\n\n    getClassNameState = () => {\n        const { alias } = this.getPhenomenonType()\n\n        return alias\n    }\n\n    includesTag = (tags, filter) => {\n        let includes = false\n\n        _.map(tags, tag => {\n            if (_.includes(filter, tag)) {\n                includes = true\n            }\n        })\n\n        return includes\n    }\n\n    getFilterClassName = () => {\n        const { id } = this.getPhenomenonType()\n        const { filter, tagFilter, phenomenon: { tags } } = this.props\n\n        if (\n            filter\n            && filter.length\n            && !(_.find(filter, setFilter => setFilter.id === id))\n        ) {\n            return 'phenomenon-disabled'\n        }\n\n        if (\n            tagFilter\n            && tagFilter.length\n            && !this.includesTag(tags, tagFilter)\n        ) {\n            return 'phenomenon-disabled'\n        }\n\n        return null\n    }\n\n    getClassNameDrag = (dragged, deleting) => {\n        if (dragged && deleting) {\n            return 'deleting'\n        }\n\n        if (dragged) {\n            return 'dragged'\n        }\n\n        return ''\n    }\n\n    render() {\n        const {\n            deleting,\n            labelWidth,\n            phenomenaSize,\n            cx,\n            cy,\n            fontSize,\n            dragged,\n            hidden,\n            radarId,\n            phenomenon,\n            votingOn\n        } = this.props\n\n        const { content: { title, short_title }, group, halo } = phenomenon\n\n        // todo change to use project URL\n        // eslint-disable-next-line\n        const watermarkLink = 'https://go.futuresplatform.com/sites/all/themes/AltFutures_theme/images/watermark-fp.png?v=2'\n\n        let fill\n        if (dragged) {\n            if (deleting) {\n                fill = 'rgba(229, 104, 105, 1)'\n            } else {\n               fill = 'rgba(43, 201, 143, 0.3)'\n            }\n        } else if (this.getPhenomenonType().style) {\n            fill = this.getPhenomenonType().style.color\n        } else {\n            fill = 'rgba(43, 201, 143, 1)'\n        }\n\n        const radius = phenomenaSize / 2\n        const style = {\n            fontSize: `${fontSize}px`\n        }\n        const href = getPhenomenonUrl(radarId, phenomenon)\n\n        const classes = classNames(\n            'phenomenon',\n            this.getClassNameState(),\n            this.getClassNameDrag(dragged, deleting),\n            this.getFilterClassName(),\n            {\n                left: typeof radarId !== 'undefined',\n                hidden\n            }\n        )\n\n        return (\n            <g data-href={href}\n               ref={this.phenomenonRef}\n               className={classes}\n            >\n                <PhenomenonType phenomenon={phenomenon}\n                                type={this.getPhenomenonType().alias}\n                                size={phenomenaSize}\n                                x={cx}\n                                halo={votingOn && halo}\n                                y={cy}\n                                fill={fill} />\n                { group === 0 && !deleting &&\n                    <image\n                        x={cx - radius}\n                        y={cy - radius}\n                        width={radius * 2}\n                        height={radius * 2}\n                        xlinkHref={watermarkLink}\n                    />\n                }\n                { deleting &&\n                    <foreignObject\n                        x={cx - radius}\n                        y={cy - radius}\n                        width={phenomenaSize}\n                        height={phenomenaSize}\n                        style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center'\n                        }}\n                    >\n                        <div\n                            className={'material-icons'}\n                            style={{\n                                color: 'rgba(255, 255, 255, 0.4)',\n                                fontSize: '35px',\n                                width: '100%',\n                                height: '100%',\n                                display: 'flex',\n                                justifyContent: 'center',\n                                alignItems: 'center'\n                            }}\n                            textAnchor={'middle'}\n                        >\n                            delete\n                        </div>\n                    </foreignObject>\n                }\n                <Text textAnchor={'middle'}\n                      verticalAnchor={'start'}\n                      x={cx}\n                      y={cy + (radius * 1.4)}\n                      width={labelWidth}\n                      className={'phenomena-label noselect'}\n                      style={style}>\n                    {short_title || title}\n                </Text>\n            </g>\n        )\n    }\n}\n","export const PUBLIC_URL = process.env.REACT_APP_PUBLIC_URL\nexport const MEDIA_API_URL = process.env.REACT_APP_MEDIA_API_URL\nexport const DRUPAL_API_URL = process.env.REACT_APP_DRUPAL_API_URL\nexport const SEARCH_API_URL = process.env.REACT_APP_SEARCH_API_URL\nexport const RADAR_DATA_API_URL = process.env.REACT_APP_RADAR_DATA_API_URL\nexport const RADAR_DATA_WEBSOCKET_URL = process.env.REACT_APP_RADAR_DATA_WEBSOCKET_URL\nexport const NEWS_FEED_API_URL = process.env.REACT_APP_NEWS_FEED_API_URL\nexport const PHENOMENA_STATISTICS_API_URL = process.env.REACT_APP_PHENOMENA_STATISTICS_API_URL\nexport const TAG_SERVICE_API_URL = process.env.REACT_APP_TAG_SERVICE_API_URL\n","import React, { PureComponent } from 'react'\nimport * as d3 from 'd3'\nimport Phenomenon from './Phenomenon'\nimport { getCoordsFromAngleAndRadius } from '../helpers'\nimport isEqual from 'lodash/isEqual'\n\nconst getConstrainedValue = ([min, max], value) => {\n    if (value < min) {\n        return min\n    }\n    if (value > max) {\n        return max\n    }\n    return value\n}\n\nexport default class Phenomena extends PureComponent {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            nodes: this.copyPhenomena()\n        }\n    }\n\n    // TODO check if this should be variable based on the actual sector size\n    range = [0, 100]\n    copyPhenomena = (phenomena = this.props.phenomena) => {\n        const { sector: { constraints } } = this.props\n        this.xScale = d3.scaleLinear().domain(constraints.angle).range(this.range)\n        this.yScale = d3.scaleLinear().domain(constraints.radius).range(this.range)\n        return phenomena.map(({ angle, radius, size }, index) => ({\n            index,\n            x: this.xScale(angle),\n            y: this.yScale(radius),\n            fy: this.yScale(radius),\n            size\n        }))\n    }\n\n    startForce = () => {\n        // const {centroid} = this.props\n        // const [x, y] = centroid\n        const { nodes } = this.state\n\n        if (this.force) {\n            this.force.stop()\n        }\n\n        if (nodes.length > 1) {\n            this.force =\n                d3.forceSimulation(nodes)\n                // TODO check if forceCollide or distanceMin could be used to prevent overlays\n                    .force('charge', d3\n                            .forceManyBody()\n                            .strength(-5)\n                            // TODO check scaling distances based on the actual arc length\n                            .distanceMax(this.range[1] / nodes.length)\n                        // TODO check scaling distanceMin based on the actual arc length\n                        // .distanceMin(d => d.size)\n                    )\n                    // TODO check scaling radius based on the actual arc length\n                    // .force('collision', d3.forceCollide().radius(d => d.size))\n                    .on('tick', () => {\n                        // eslint-disable-next-line\n                        nodes.map(node => {\n                            node.x = getConstrainedValue(this.range, node.x)\n                            node.y = getConstrainedValue(this.range, node.y)\n                        })\n                        this.setState({ nodes: nodes.slice() })\n                    })\n        }\n    }\n\n    componentDidMount() {\n        this.startForce()\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const { phenomena: nextPhenomena } = nextProps\n        const { phenomena } = this.props\n\n        if (!isEqual(nextPhenomena, phenomena)) {\n            this.setState({ nodes: this.copyPhenomena(nextPhenomena) }, this.startForce)\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.force) {\n            this.force.stop()\n        }\n    }\n\n    getNodeCoordinates = (index) => {\n        const { nodes } = this.state\n\n        const node = nodes[index]\n\n        const angle = this.xScale.invert(node.x)\n        const radius = this.yScale.invert(node.y)\n\n        const [cx, cy] = getCoordsFromAngleAndRadius(angle, radius)\n\n        return { cx, cy }\n    }\n\n    render() {\n        const { phenomena, draggedPhenomenon, phenomenaDisplayProps } = this.props\n\n        return (\n            <g>\n                {phenomena.map((phenomenon, index) => {\n                    const { id } = phenomenon\n                    const dragged = draggedPhenomenon\n                        && draggedPhenomenon.id === id\n\n                    return (\n                        <Phenomenon\n                            {...this.props}\n                            {...this.getNodeCoordinates(index)}\n                            key={index}\n                            hidden={dragged}\n                            phenomenon={phenomenon}\n                            {...phenomenaDisplayProps}\n                        />\n                    )\n                })}\n            </g>\n        )\n    }\n}\n","import React, { PureComponent } from 'react'\nimport Phenomena from './Phenomena'\n\nexport default class AllPhenomena extends PureComponent {\n    render() {\n        const { timeRanges, getPhenomenaDisplayProps } = this.props\n        const phenomenaDisplayProps = getPhenomenaDisplayProps()\n\n        return (\n            <g className={'phenomena'}>\n                {timeRanges.map((({ value, sectors }) =>\n                    sectors.filter(({ phenomena }) => !!phenomena.length).map(sector => (\n                        <Phenomena\n                            {...this.props}\n                            key={`${sector.id}-${value}`}\n                            sector={sector}\n                            phenomena={sector.phenomena}\n                            phenomenaDisplayProps={phenomenaDisplayProps}\n                        />\n                    )))\n                )}\n            </g>\n        )\n    }\n}\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport AllPhenomena from '../components/AllPhenomena'\nimport { } from '../actions/radarSettings'\n\nexport default connect(\n    state => {\n        const {\n            radarSettings: {\n                id,\n                canEditRadar,\n                votingOn\n            },\n            filters: {\n                activeFilter,\n                activeTagFilter\n            }\n        } = state\n\n        return {\n            radarId: id,\n            canEdit: canEditRadar,\n            filter: activeFilter,\n            tagFilter: activeTagFilter,\n            votingOn\n        }\n    },\n    dispatch => bindActionCreators({\n    }, dispatch)\n)(AllPhenomena)\n","import { createSelector } from 'reselect'\nimport { find } from 'lodash'\n\nconst getRadarSettingsGroups = (state) => state.radarSettings && state.radarSettings.groups\n\nexport const isCollaborationToolsAllowed = createSelector([ getRadarSettingsGroups ], (groups) => {\n    return (groupId) => {\n        const group = find(groups, g => groupId === g.id)\n        if (group) {\n            if (group.availableResources.hasOwnProperty('collaboration_tools')) {\n                return !!group.availableResources.collaboration_tools\n            }\n            // Allowed for legacy accounts\n            return true\n        }\n        return false\n    }\n})\n","import * as d3 from 'd3'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { getSessionToken } from '@sangre-fp/connectors/session'\n\nexport const customQuillModules = {\n    toolbar: [\n        [{ header: ['1', '2', '3', '4', '5'] }, { font: [] }],\n        ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n        [{ list: 'ordered' }, { list: 'bullet' },\n            { indent: '-1' }, { indent: '+1' }],\n        ['link'],\n        ['clean']\n    ],\n    clipboard: {\n        // toggle to add extra line breaks when pasting HTML:\n        matchVisual: false\n    }\n}\n\nexport const centerRadiusPercentage = 0.15\nexport const radarBorderWidth = 80\n\nexport const ALL_GROUP_VALUE = -1\n\nexport const radarLanguages = () => [\n    { value: 'en', label: requestTranslation('english') },\n    { value: 'fi', label: requestTranslation('finnish') }\n]\n\nexport const radarLanguagesWithAll = () => [\n    { value: 'all', label: requestTranslation('all') },\n    ...radarLanguages()\n]\n\nexport const initialCommentTopics = [\n    { label: 'Opportunities', checked: false },\n    { label: 'Threats', checked: false },\n    { label: 'Actions', checked: false }\n]\n\nexport const getWebSocketHeaders = () => ({ Authorization: `Bearer ${getSessionToken()}` })\n\nexport const RANGE_MIN = 0\nexport const RANGE_MAX = 1\nexport const MAX_TIMELINES = 10\nexport const RANGE_BOUNDARY = RANGE_MAX / MAX_TIMELINES\nexport const TIMELINE_TEMPLATE = {\n    position: null,\n    year: '',\n    description: '',\n    label: ''\n}\n\nexport const timerangeColors = d3.scaleLinear()\n    .domain([30, 2, 1, 0])\n    .range(['#333334', '#E7E7E8', '#F3F3F4', '#FBFBFC'])\n    .interpolate(d3.interpolateRgb)\n","export const modules = {\n    toolbar: [\n        [{ header: ['1', '2', '3', '4', '5'] }, { font: [] }],\n        ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n        [{ list: 'ordered' }, { list: 'bullet' },\n            { indent: '-1' }, { indent: '+1' }],\n        ['link', 'video'],\n        ['clean']\n    ],\n    clipboard: {\n        // toggle to add extra line breaks when pasting HTML:\n        matchVisual: false\n    }\n}\n\nexport const formats = [\n    'header', 'font', 'size',\n    'bold', 'italic', 'underline', 'strike', 'blockquote',\n    'list', 'bullet', 'indent',\n    'link', 'video'\n]","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport AxisPreview from './AxisPreview'\nimport { requestTranslation } from \"@sangre-fp/i18n\";\nconst LABEL_WIDTH = 16\n\nconst CanvasContainer = styled.canvas`\n  border: 1px solid #979797;\n`\n\nexport const HeaderContainer = styled.h2`\n  &&{\n    font-weight: normal;\n    font-size: 16px;\n  }\n`\nexport const Spacing = styled.div`\n  background-color: #f1f3f3;\n  width: 100%;\n  height: ${({ customHeight }) => `${customHeight}px`};\n`\n\nconst AxisX = ({\n  axisWidth,\n  horizontalAxisName,\n  leftEnd,\n  rightEnd,\n  containerWidth\n}) => {\n  const cellStyle = { fontSize: 12, height: 16, whiteSpace: 'nowrap', color: '#979797' }\n  return (\n    <>\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth, margin: 0, border: 'none' }}>\n        <tbody style={{ border: 'none' }}>\n          <tr style={{ border: 'none' }}>\n            <td style={{ ...cellStyle, textAlign: 'left' }}>\n              <div style={{ width: containerWidth / 2, overflow: 'hidden', textOverflow: 'ellipsis' }}>{leftEnd}</div>\n            </td>\n            <td style={{ ...cellStyle, textAlign: 'right' }}>\n              <div style={{ width: containerWidth / 2, overflow: 'hidden', textOverflow: 'ellipsis' }}>{rightEnd}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth, margin: 0 }}>\n        <tbody style={{ border: 'none' }}>\n          <tr style={{ border: 'none' }}>\n            <td style={{ ...cellStyle, textAlign: 'center' }}>\n              <div style={{ width: containerWidth, overflow: 'hidden', textOverflow: 'ellipsis' }}>{horizontalAxisName}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  )\n}\n\nconst AxisY = ({\n  axisHeight,\n  verticalAxisName,\n  topEnd,\n  lowEnd,\n  containerHeight\n}) => {\n  const cellStyle = {\n    fontSize: 12,\n    whiteSpace: 'nowrap',\n    color: '#979797'\n  }\n  return (\n    <>\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight }}>\n        <tbody style={{ border: 'none' }}>\n          <tr style={{ ...cellStyle, border: 'none' }}>\n            <td style={{ border: 'none' }}>\n              <div style={{ width: 16, writingMode: 'vertical-lr', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight, textAlign: 'center' }}>{verticalAxisName}</div>\n            </td>\n          </tr>\n          \n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight, border: 'none' }}>\n        <tbody style={{ border: 'none' }}>\n          <tr style={{ ...cellStyle, border: 'none' }}>\n            <td style={{ border: 'none' }}>\n              <div style={{ width: 16, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 10, textAlign: 'right' }}>{topEnd}</div>\n            </td>\n          </tr>\n\n          <tr style={{ ...cellStyle, border: 'none' }}>\n            <td style={{ border: 'none' }}>\n              <div style={{ width: 16, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 10, textAlign: 'left' }}>{lowEnd}</div>\n            </td>\n          </tr>\n          \n        </tbody>\n      </table>\n    </>\n  )\n}\n\nconst RatingSummaryPreview = ({\n  topHeader = 'Preview for content cards:',\n  bottomHeader = '',\n  containerWidth = 400,\n  containerHeight = 400,\n  topLeft = requestTranslation('topLeft'),\n  topRight = requestTranslation('topRight'),\n  bottomLeft = requestTranslation('bottomLeft'),\n  bottomRight = requestTranslation('bottomRight'),\n  horizontalAxisName = requestTranslation('HorizontalAxisName'),\n  leftEnd = requestTranslation('leftEnd'),\n  rightEnd = requestTranslation('rightEnd'),\n  verticalAxisName = requestTranslation('verticalAxisName'),\n  topEnd = requestTranslation('highEnd'),\n  lowEnd = requestTranslation('lowEnd')\n}) => {\n  const [appContext, setAppContext] = useState({})\n  // areaDraw 1, 2 from the first row left to right\n  // areaDraw 3, 4 from the second row left to right\n  const { axis, axisContext } = appContext\n\n  const drawLine = ({ begin, end }) => {\n    axisContext.lineWidth = 1\n    axisContext.strokeStyle = 'rgb(37 37 37)'\n    axisContext.beginPath()\n    axisContext.moveTo(...begin)\n    axisContext.lineTo(...end)\n    axisContext.stroke()\n  }\n\n  const drawText = ({ x, y, text }) => {\n    axisContext.font = 'italic 14px Arial'\n    axisContext.strokeStyle = 'rgb(224, 222, 222)'\n    axisContext.fillStyle = 'rgb(224, 222, 222)'\n    axisContext.textAlign = 'center'\n    axisContext.fillText(text, x, y)\n  }\n\n  const drawTexts = () => {\n    drawText({ x: containerWidth / 4, y: containerHeight / 4, text: topLeft })\n    drawText({ x: containerWidth * 0.75, y: containerHeight / 4, text: topRight })\n    drawText({ x: containerWidth * 0.25, y: containerHeight * 0.75, text: bottomLeft })\n    drawText({ x: containerWidth * 0.75, y: containerHeight * 0.75, text: bottomRight })\n  }\n\n  const drawNormalAxis = () => {\n    axis.width = containerWidth\n    axis.height = containerHeight\n    \n    drawLine({ begin: [0, axis.clientHeight / 2], end: [axis.clientWidth, axis.clientHeight / 2] })\n    drawLine({ begin: [axis.clientWidth / 2, 0], end: [axis.clientWidth / 2, axis.clientHeight] })\n    drawTexts()\n  }\n\n  useEffect(() => {\n    if (appContext.axis) {\n      drawNormalAxis()\n    }\n  }, [appContext, topLeft, topRight, bottomLeft, bottomRight, containerWidth])\n\n  useEffect(() => {\n    const canvasAxis = document.getElementById('axis')\n\n    setAppContext({\n      axis: canvasAxis,\n      axisContext: canvasAxis.getContext('2d'),\n      svgApp: document.getElementById('svg-app')\n    })\n  }, [])\n\n  return (\n    <>\n      <HeaderContainer>{bottomHeader}</HeaderContainer>\n      {/* <Spacing customHeight={10}/> */}\n      <div style={{ display: 'flex', width: `${containerWidth}px` }}>\n        <AxisY containerHeight={containerHeight} axisHeight={containerHeight} verticalAxisName={verticalAxisName} topEnd={topEnd} lowEnd={lowEnd}/>\n        <div style={{ width: containerWidth, height: containerHeight }}>\n          <div style={{ position: 'relative', width: containerWidth, height: containerHeight, background: 'white' }}>\n            <CanvasContainer id='axis'/>\n          </div>\n          <AxisX containerWidth={containerWidth} axisWidth={containerWidth} horizontalAxisName={horizontalAxisName} leftEnd={leftEnd} rightEnd={rightEnd}/>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default RatingSummaryPreview","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  width: ${({ containerWidth }) => `${containerWidth}px`};\n`\n\nconst TitleWrapper = styled.h3`\n  &&{\n    font-size: 14px;\n    font-weight: bold;\n    color: #121212;\n    margin-bottom: 20px;\n  }\n`\nconst AxisLabelContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n  font-size: 14px;\n`\n\nconst BarContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 20px;\n`\nconst Line = styled.div`\n  position: absolute;\n  background-color: #979797;\n  border-radius: 6px;\n  height: 6px;\n  width: 100%;\n`\nconst Circle = styled.div`\n  position: absolute;\n  background-color: #979797;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  left: 50%;\n  top: -35%;\n`\n\nconst AxisPreview = ({\n  containerWidth,\n  title,\n  leftLabel,\n  rightLabel\n}) => {\n  return (\n    <Container containerWidth={containerWidth}>\n      <TitleWrapper>{title}</TitleWrapper>\n      <AxisLabelContainer>\n        <div>{leftLabel}</div>\n        <div>{rightLabel}</div>\n      </AxisLabelContainer>\n      <BarContainer>\n        <Line/>\n        <Circle/>\n      </BarContainer>\n    </Container>\n  )\n}\n\nexport default AxisPreview","import React from \"react\";\nimport { Modal, paddingModalStyles } from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nconst ConfirmationModalForRatings = ({\n  ConfirmationModalNote,\n  confirmationModal,\n  confirmationModalClose,\n  confirmationModalHandleBtn\n}) => {\n  return (\n    <Modal\n      isOpen={confirmationModal}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <h3 className=\"confirmation-modal-title\">\n          {ConfirmationModalNote}\n        </h3>\n        {/* <p style={{textAlign: 'center'}}>{requestTranslation(\"sharePublicLinkConfirmationNote\")}</p> */}\n        <div className=\"confirmation-modal-actions\">\n          <button\n            onClick={confirmationModalClose}\n            className=\"btn btn-lg btn-plain-gray\"\n          >\n            {requestTranslation(\"cancel\").toUpperCase()}\n          </button>\n          <button\n            className=\"btn btn-lg btn-primary\"\n            onClick={confirmationModalHandleBtn}\n          >\n            {requestTranslation(\"clear\").toUpperCase()}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ConfirmationModalForRatings;\n","import React, { useEffect, useState, useCallback } from 'react'\nimport styled, { createGlobalStyle } from 'styled-components'\nimport edit1 from './edit1.svg'\nimport edit2 from './edit2.svg'\nimport { requestTranslation, getLanguage } from '@sangre-fp/i18n'\nimport {\n    Loading,\n    Radiobox,\n    Checkbox,\n    Modal, \n    confirmDialogModalStyles\n} from '@sangre-fp/ui'\n\nimport { mockData } from '../CreateRadarForm'\n\nconst GlobalStyle = createGlobalStyle`\n  .ReactModal__Overlay--after-open {\n    background-color: rgba(0,0,0,.77)!important;\n    z-index: 100;\n  }\n`\n\nconst CanvasContainer = styled.canvas`\n  border: 1px solid #979797;\n`\nconst ButtonModalStyled = styled.button`\n  cursor: pointer;\n  height: 46px;\n  background-color: ${({ primary }) => !!primary ? '#6FBF40' : 'rgba(0,0,0,0)'};\n  border: none;\n  border-radius: 26px;\n  width: 86px;\n  color: ${({ primary }) => !!primary ? 'white' : '#666'};\n  font-weight: 700;\n  font-size: 16px;\n  margin-right: ${({ marginRight }) => !!marginRight ? marginRight : 0}px;\n  :hover {\n    opacity: 0.9;\n  }\n  :disabled {\n    opacity: 0.5;\n    cursor: unset;\n  }\n`\nconst ButtonModalActions = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n`\nconst ModalContent = styled.div`\n  padding: 12px 16px;\n`\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    width: 450,\n    height: 276,\n    boxSizing: 'border-box',\n    zIndex: 10\n  },\n}\nconst EditButton = styled.img`\n  cursor: pointer;\n  :hover {\n    opacity: 0.8;\n  }\n`\nconst ModalTitle = styled.h2`\n  color: #121212;\n  font-weight: 700;\n  font-size: 20px;\n  margin: 0;\n  margin-bottom: 24px;\n`\nconst ModalInputHint = styled.div`\n  color: #121212;\n  font-weight: 400;\n  font-size: 14px;\n  margin: 24px 0;\n`\nconst ModalInputValue = styled.input`\n  width: 100%;\n  height: 44px;\n  border: 1px solid #bababa;\n  box-sizing: border-box;\n  padding: 12px;\n`\n\nconst SETTING_VALUE = {\n  TOP_LEFT: 'topLeftValue',\n  TOP_RIGHT: 'topRightValue',\n  BOTTOM_LEFT: 'bottomLeftValue',\n  BOTTOM_RIGHT: 'bottomRightValue',\n  LEFT_END: 'leftEndValue',\n  RIGHT_END: 'rightEndValue',\n  TOP_END: 'topEndValue',\n  LOW_END: 'lowEndValue',\n  HORIZONTAL: 'horizontalAxisNameValue',\n  VERTICAL: 'verticalAxisNameValue'\n}\nconst SETTING_VALUE_TITLE = {\n  [SETTING_VALUE.TOP_LEFT]: getLanguage() === 'en' ? 'Fourfold table  top left' : 'Nelikentt  vasen ylosa',\n  [SETTING_VALUE.TOP_RIGHT]: getLanguage() === 'en' ? 'Fourfold table  top right' : 'Nelikentt  oikea ylosa',\n  [SETTING_VALUE.BOTTOM_LEFT]: getLanguage() === 'en' ? 'Fourfold table  bottom left' : 'Nelikentt  vasen alaosa',\n  [SETTING_VALUE.BOTTOM_RIGHT]:  getLanguage() === 'en' ? 'Fourfold table  bottom right' : 'Nelikentt  oikea alaosa',\n  [SETTING_VALUE.LEFT_END]:  getLanguage() === 'en' ? 'Horizontal axis  Left end' : 'Vaaka-akseli  vasen',\n  [SETTING_VALUE.RIGHT_END]: getLanguage() === 'en' ? 'Horizontal axis  Right end' : 'Vaaka-akseli  oikea',\n  [SETTING_VALUE.TOP_END]: getLanguage() === 'en' ? 'Vertical axis  High end' : 'Pystyakseli   yl',\n  [SETTING_VALUE.LOW_END]: getLanguage() === 'en' ? 'Vertical axis  Low end' : 'Pystyakseli  ala',\n  [SETTING_VALUE.HORIZONTAL]:  getLanguage() === 'en'? 'Horizontal axis - horizontal': 'Vaaka-akseli',\n  [SETTING_VALUE.VERTICAL]:  getLanguage() === 'en'? 'Vertical axis - vertical':'Pystyakseli',\n}\n\nconst ICON_SPACING = 30\n\nconst AxisX = ({\n  axisWidth,\n  horizontalAxisName,\n  leftEnd,\n  rightEnd,\n  containerWidth,\n  onEdit\n}) => {\n  const cellStyle = { fontSize: 12, height: 16, whiteSpace: 'nowrap', color: '#637282' }\n\n  return (\n    <>\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth + 2, margin: 0, marginTop: -17, zIndex: 10, position: 'relative' }}>\n      <tbody style={{border: 'none'}}>\n        <tr style={{border: 'none'}}>\n            <td style={{ ...cellStyle, fontSize: 16, fontWeight: 500, paddingLeft: ICON_SPACING }}>\n              <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.LEFT_END)} />\n            </td>\n            <td style={{ ...cellStyle, textAlign: 'center', fontSize: 16, fontWeight: 500 }}>\n              <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.HORIZONTAL)} />\n            </td>\n            <td style={{ ...cellStyle, textAlign: 'right', fontSize: 16, fontWeight: 500, paddingRight: ICON_SPACING }}>\n              <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.RIGHT_END)} />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth, margin: 0, marginTop: 2 }}>\n        <tbody style={{border: 'none'}}>\n          <tr style={{border: 'none'}}>\n            <td style={{ ...cellStyle, textAlign: 'left' }}>\n              <div style={{ width: containerWidth / 2, overflow: 'hidden', textOverflow: 'ellipsis' }}>{leftEnd}</div>\n            </td>\n            <td style={{ ...cellStyle, textAlign: 'right' }}>\n              <div style={{ width: containerWidth / 2, overflow: 'hidden', textOverflow: 'ellipsis' }}>{rightEnd}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' align='center' style={{ width: axisWidth, margin: 0, marginTop: 12 }}>\n      <tbody style={{border: 'none'}}>\n          <tr style={{border: 'none'}}>\n            <td style={{ ...cellStyle, textAlign: 'center', fontSize: 16, fontWeight: 500 }}>\n              <div style={{ width: containerWidth, overflow: 'hidden', textOverflow: 'ellipsis' }}>{horizontalAxisName}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  )\n}\n\nconst AxisY = ({\n  axisHeight,\n  verticalAxisName,\n  topEnd,\n  lowEnd,\n  containerHeight,\n  onEdit\n}) => {\n  const cellStyle = {\n    fontSize: 12,\n    whiteSpace: 'nowrap',\n    color: '#637282'\n  }\n  return (\n    <>\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight, marginRight: 10 }}>\n        <tbody style={{border: 'none'}}>\n          <tr style={{ ...cellStyle, fontSize: 16, fontWeight: 500, border: 'none' }}>\n            <td style={{border: 'none'}}>\n              <div style={{ width: 18, writingMode: 'vertical-lr', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight, textAlign: 'center' }}>{verticalAxisName}</div>\n            </td>\n          </tr>\n\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight, marginRight: 8 }}>\n        <tbody style={{border: 'none'}}>\n          <tr style={{ ...cellStyle, border: 'none' }}>\n          <td style={{border: 'none'}}>\n              <div style={{ width: 16, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 10, textAlign: 'right' }}>{topEnd}</div>\n            </td>\n          </tr>\n\n          <tr style={{ ...cellStyle, border: 'none' }}>\n          <td style={{border: 'none'}}>\n              <div style={{ width: 16, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 10, textAlign: 'left' }}>{lowEnd}</div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <table cellPadding='0' cellSpacing='0' style={{ height: axisHeight + 2, marginRight: -17, zIndex: 1 }}>\n        <tbody style={{border: 'none'}}>\n          <tr style={{ ...cellStyle, border: 'none' }}>\n            <td style={{ textAlign: 'right', border: 'none' }}>\n              <div style={{ width: 34, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 24 - ICON_SPACING, textAlign: 'right', marginTop: ICON_SPACING }}>\n                <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.TOP_END)} />\n              </div>\n            </td>\n          </tr>\n\n          <tr style={{ ...cellStyle, border: 'none' }}>\n          <td style={{border: 'none'}}>\n              <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.VERTICAL)} />\n            </td>\n          </tr>\n\n          <tr style={{ ...cellStyle, border: 'none' }}>\n            <td style={{ textAlign: 'left', border: 'none' }}>\n              <div style={{ width: 34, writingMode: 'vertical-rl', transform: 'rotate(180deg)', overflow: 'hidden', textOverflow: 'ellipsis', height: containerHeight / 2 - 24 - ICON_SPACING, textAlign: 'left', marginBottom: ICON_SPACING }}>\n                <EditButton src={edit2} onClick={() => onEdit(SETTING_VALUE.LOW_END)} />\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  )\n}\n\nconst CollaborationChartSetting = ({\n  containerWidth = 664,\n  containerHeight = 424,\n  topLeft = 'Top left',\n  topRight = 'Top right',\n  bottomLeft = 'Bottom left',\n  bottomRight = 'Bottom right',\n  horizontalAxisName = 'Horizontal axis name',\n  leftEnd = 'Left end',\n  rightEnd = 'Right end',\n  verticalAxisName = 'Vertical axis name',\n  topEnd = 'Top end',\n  lowEnd = 'Low end',\n  passisCustomToRatingModalPreviewModeVertical,\n  passisCustomToRatingModalPreviewModeHoronzal,\n  inputSelectedX,\n  inputSelectedY,\n  isCustomHorozol,\n  isCustomVertical\n}) => {\n  const [appContext, setAppContext] = useState({})\n  const [state, setState] = useState({\n    showModal: false,\n    currentSettingIndex: null,\n    inputValueModal: '',\n    [SETTING_VALUE.TOP_LEFT]: topLeft,\n    [SETTING_VALUE.TOP_RIGHT]: topRight,\n    [SETTING_VALUE.BOTTOM_LEFT]: bottomLeft,\n    [SETTING_VALUE.BOTTOM_RIGHT]: bottomRight,\n    [SETTING_VALUE.LEFT_END]: leftEnd,\n    [SETTING_VALUE.RIGHT_END]: rightEnd,\n    [SETTING_VALUE.TOP_END]: topEnd,\n    [SETTING_VALUE.LOW_END]: lowEnd,\n    [SETTING_VALUE.HORIZONTAL]: horizontalAxisName,\n    [SETTING_VALUE.VERTICAL]: verticalAxisName\n  })\n\n  const [isEditHorizontal, setIsEditHorizontal] = useState(isCustomHorozol)\n  const [isVerticalEdit, setIsVerticalEdit] = useState(isCustomVertical)\n  const [inputSelectedXValue, setinputSelectedXValue] = useState(inputSelectedX)\n  const [inputSelectedYValue, setinputSelectedYValue] = useState(inputSelectedY)\n\n  const { showModal, inputValueModal, currentSettingIndex, topLeftValue, topRightValue, bottomLeftValue, bottomRightValue, leftEndValue, rightEndValue, topEndValue, lowEndValue, horizontalAxisNameValue, verticalAxisNameValue } = state\n  // areaDraw 1, 2 from the first row left to right\n  // areaDraw 3, 4 from the second row left to right\n  const { axis, axisContext } = appContext\n\n  const onCloseModal = () => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        showModal: false,\n        currentSettingIndex: null\n      }\n    })\n  }\n\n  const onEditSetting = (value) => {\n    setState(prevState => {\n      return {\n        ...prevState,\n        showModal: true,\n        currentSettingIndex: value,\n        inputValueModal: state[value]\n      }\n    })\n  }\n\n  const onSaveModal = async() => {\n    Promise.resolve()\n      .then(() => { setState(prevState => {\n      return {\n        ...prevState,\n        showModal: false,\n        [currentSettingIndex]: inputValueModal.trim()\n      }\n    })})\n      .then(() => {\n        if (currentSettingIndex === 'topEndValue' \n          || currentSettingIndex === 'lowEndValue'\n          || currentSettingIndex === 'verticalAxisNameValue') {\n            // setIsVerticalEdit(true)\n          passisCustomToRatingModalPreviewModeVertical(true)\n        }\n        if (currentSettingIndex === 'leftEndValue'\n        || currentSettingIndex === 'rightEndValue'\n        || currentSettingIndex === 'horizontalAxisNameValue') {\n          // setIsEditHorizontal(true)\n          passisCustomToRatingModalPreviewModeHoronzal(true)\n        }\n      })\n\n    \n\n    \n\n    // localStorage.setItem('chartData', JSON.stringify({\n    //   leftEndValue, \n    //   rightEndValue, \n    //   topEndValue, \n    //   lowEndValue, \n    //   horizontalAxisNameValue, \n    //   verticalAxisNameValue,\n    //   topLeftValue, \n    //   topRightValue, \n    //   bottomLeftValue, \n    //   bottomRightValue,\n    //   inputSelectedXValue: inputSelectedXValue,\n    //   inputSelectedYValue: inputSelectedYValue\n    // }));\n  }\n\n  useEffect (() => {\n    localStorage.setItem('chartData', JSON.stringify({\n      leftEndValue, \n      rightEndValue, \n      topEndValue, \n      lowEndValue, \n      horizontalAxisNameValue, \n      verticalAxisNameValue,\n      topLeftValue, \n      topRightValue, \n      bottomLeftValue, \n      bottomRightValue,\n      inputSelectedXValue: inputSelectedXValue,\n      inputSelectedYValue: inputSelectedYValue,\n      isEditHorizontal,\n      isVerticalEdit\n    }));\n  }, [\n    leftEndValue, \n    rightEndValue, \n    topEndValue, \n    lowEndValue, \n    horizontalAxisNameValue, \n    verticalAxisNameValue,\n    topLeftValue, \n    topRightValue, \n    bottomLeftValue, \n    bottomRightValue,\n    inputSelectedXValue,\n    inputSelectedYValue,\n    isVerticalEdit,\n    isEditHorizontal\n  ])\n\n  useEffect (() => {\n    const retrievedObject = JSON.parse(localStorage.getItem('chartData'))\n    \n    setState(prevState => {\n      return {\n        ...prevState,\n        [SETTING_VALUE.LEFT_END]: retrievedObject ? retrievedObject.leftEndValue : leftEnd,\n        [SETTING_VALUE.RIGHT_END]: retrievedObject ? retrievedObject.rightEndValue : rightEnd,\n        [SETTING_VALUE.TOP_END]: retrievedObject ? retrievedObject.topEndValue : topEnd,\n        [SETTING_VALUE.LOW_END]: retrievedObject ? retrievedObject.lowEndValue : lowEnd,\n        [SETTING_VALUE.HORIZONTAL]: retrievedObject ? retrievedObject.horizontalAxisNameValue : horizontalAxisName,\n        [SETTING_VALUE.VERTICAL]: retrievedObject ? retrievedObject.verticalAxisNameValue : verticalAxisName,\n        [SETTING_VALUE.TOP_LEFT]: retrievedObject ? retrievedObject.topLeftValue : topLeft,\n        [SETTING_VALUE.TOP_RIGHT]: retrievedObject ? retrievedObject.topRightValue : topRight,\n        [SETTING_VALUE.BOTTOM_LEFT]: retrievedObject ? retrievedObject.bottomLeftValue : bottomLeft,\n        [SETTING_VALUE.BOTTOM_RIGHT]: retrievedObject ? retrievedObject.bottomRightValue : bottomRight,\n      }\n    })\n    setIsEditHorizontal(isCustomHorozol)\n    setIsVerticalEdit(isCustomVertical)\n    setinputSelectedXValue(inputSelectedX)\n    setinputSelectedYValue(inputSelectedY)\n\n    // localStorage.setItem('chartData', JSON.stringify({\n    //   leftEndValue: leftEnd, \n    //   rightEndValue: rightEnd, \n    //   topEndValue: topEnd, \n    //   lowEndValue: lowEnd, \n    //   horizontalAxisNameValue: horizontalAxisName, \n    //   verticalAxisNameValue: verticalAxisName,\n    //   topLeftValue: topLeft, \n    //   topRightValue: topRight, \n    //   bottomLeftValue: bottomLeft, \n    //   bottomRightValue: bottomRight,\n    //   inputSelectedXValue: inputSelectedX,\n    //   inputSelectedYValue: inputSelectedY\n    // }));\n  }, [\n    horizontalAxisName,\n    leftEnd,\n    rightEnd,\n    verticalAxisName,\n    topEnd,\n    lowEnd,\n    topLeft,\n    topRight,\n    bottomLeft,\n    bottomRight,\n    inputSelectedX,\n    inputSelectedY,\n    isCustomHorozol,\n    isCustomVertical,\n    setState,\n    setIsEditHorizontal,\n    setIsVerticalEdit,\n    setinputSelectedXValue,\n    setinputSelectedYValue\n  ])\n\n  \n  const onChangeInputModal = (e) => {\n    e.persist()\n    setState(prevState => {\n      return {\n        ...prevState,\n        inputValueModal: e.target.value\n      }\n    })\n  }\n\n  const drawLine = ({ begin, end }) => {\n    axisContext.strokeStyle = '#979797'\n    axisContext.beginPath()\n    axisContext.moveTo(...begin)\n    axisContext.lineTo(...end)\n    axisContext.stroke()\n  }\n\n  const drawText = ({ x, y, text }) => {\n    axisContext.font = 'italic 16px Arial'\n    axisContext.fillStyle = 'rgb(224, 222, 222)'\n    axisContext.textAlign = 'center'\n    axisContext.fillText(text, x, y)\n  }\n\n  const drawTexts = () => {\n    drawText({ x: containerWidth / 4, y: containerHeight / 4, text: topLeftValue })\n    drawText({ x: containerWidth * 0.75, y: containerHeight / 4, text: topRightValue })\n    drawText({ x: containerWidth * 0.25, y: containerHeight * 0.75, text: bottomLeftValue })\n    drawText({ x: containerWidth * 0.75, y: containerHeight * 0.75, text: bottomRightValue })\n  }\n\n  const drawNormalAxis = () => {\n    // clear before redrawing\n    axisContext.clearRect(0, 0, containerWidth, containerHeight)\n\n    drawLine({ begin: [0, axis.clientHeight / 2 + 0.5], end: [axis.clientWidth + 0.5, axis.clientHeight / 2 + 0.5] })\n    drawLine({ begin: [axis.clientWidth / 2 + 0.5, 0], end: [axis.clientWidth / 2 + 0.5, axis.clientHeight + 0.5] })\n    drawTexts()\n  }\n\n  useEffect(() => {\n    if (appContext.axis) {\n      drawNormalAxis()\n    }\n  }, [appContext, topLeftValue, topRightValue, bottomLeftValue, bottomRightValue])\n\n  useEffect(() => {\n    const canvasAxis = document.getElementById('setting-app-axis')\n    if (canvasAxis) {\n      canvasAxis.width = containerWidth\n      canvasAxis.height = containerHeight\n\n      setAppContext({\n        axis: canvasAxis,\n        axisContext: canvasAxis.getContext('2d')\n      })\n    }\n  }, [])\n  useEffect(() => {\n    mockData.some(i => {\n      if(String(inputSelectedX) === String(i.title) \n        && String(leftEnd) === String(i.leftAttr)\n        && String(rightEnd) === String(i.rightAttr)\n        && !isCustomHorozol) {\n          setState(prevState => {\n            return {\n              ...prevState,\n              [SETTING_VALUE.LEFT_END]: i.leftAttr,\n              [SETTING_VALUE.RIGHT_END]: i.rightAttr,\n              [SETTING_VALUE.HORIZONTAL]: i.nameAxis,\n            }\n          })\n\n          return true\n      } else if (String(inputSelectedX) === String(i.title) && isCustomHorozol) {\n        setState(prevState => {\n          return {\n            ...prevState,\n            [currentSettingIndex]: inputValueModal.trim()\n          }\n        })\n\n        return true\n      }\n  })\n  }, [inputSelectedX] )\n\n  useEffect(() => {\n    mockData.some(i => {\n      if(String(inputSelectedY) === String(i.title) \n        && String(lowEnd) === String(i.leftAttr)\n        && String(topEnd) === String(i.rightAttr)\n        && !isCustomVertical) {\n          setState(prevState => {\n            return {\n              ...prevState,\n              [SETTING_VALUE.LOW_END]: i.leftAttr,\n              [SETTING_VALUE.TOP_END]: i.rightAttr,\n              [SETTING_VALUE.VERTICAL]: i.nameAxis,\n            }\n          })\n          return true\n      } else if (String(inputSelectedY) === String(i.title) && isCustomVertical) {\n        setState(prevState => {\n          return {\n            ...prevState,\n            [currentSettingIndex]: inputValueModal.trim()\n          }\n        })\n\n        return true\n      }\n  })\n  }, [inputSelectedY] )\n  const setCanvas = useCallback((node) => {\n    // set one time only\n    if (node && !axisContext) {\n      node.width = containerWidth\n      node.height = containerHeight\n      setAppContext({\n        axis: node,\n        axisContext: node.getContext('2d')\n      })\n    }\n  }, [])\n\n  return (\n    <>\n      <GlobalStyle />\n      {showModal && (\n        <Modal\n          isOpen={showModal}\n          onRequestClose={onCloseModal}\n          style={confirmDialogModalStyles}\n          ariaHideApp={false}\n        >\n          <ModalContent style={{ zIndex: 2 }}>\n            <ModalTitle>{SETTING_VALUE_TITLE[currentSettingIndex]}</ModalTitle>\n            <ModalInputValue value={inputValueModal} maxLength={20} onChange={onChangeInputModal} />\n            <ModalInputHint>(max. 20 characters)</ModalInputHint>\n\n            <ButtonModalActions>\n              <ButtonModalStyled marginRight={12} onClick={onCloseModal}>Cancel</ButtonModalStyled>\n              <ButtonModalStyled primary disabled={!inputValueModal} onClick={onSaveModal}>SAVE</ButtonModalStyled>\n            </ButtonModalActions>\n          </ModalContent>\n        </Modal>\n      )}\n\n      <div style={{ display: 'flex', width: `${containerWidth}px` }}>\n        <AxisY onEdit={onEditSetting} containerHeight={containerHeight} axisHeight={containerHeight} verticalAxisName={verticalAxisNameValue} topEnd={topEndValue} lowEnd={lowEndValue} />\n        <div style={{ width: containerWidth, height: containerHeight }}>\n          <div style={{ position: 'relative', width: containerWidth, height: containerHeight, background: 'white' }}>\n            <svg id='svg-app' style={{ position: 'absolute', width: containerWidth + 2, height: containerHeight + 2 }}>\n              <foreignObject x={containerWidth / 2 - 80} y={containerHeight / 2 - 80} width='34' height='34'>\n                <EditButton src={edit2} onClick={() => onEditSetting(SETTING_VALUE.TOP_LEFT)} />\n              </foreignObject>\n              <foreignObject x={containerWidth / 2 - 80} y={containerHeight / 2 + 40} width='34' height='34'>\n                <EditButton src={edit2} onClick={() => onEditSetting(SETTING_VALUE.BOTTOM_LEFT)} />\n              </foreignObject>\n\n              <foreignObject x={containerWidth / 2 + 40} y={containerHeight / 2 - 80} width='34' height='34'>\n                <EditButton src={edit2} onClick={() => onEditSetting(SETTING_VALUE.TOP_RIGHT)} />\n              </foreignObject>\n              <foreignObject x={containerWidth / 2 + 40} y={containerHeight / 2 + 40} width='34' height='34'>\n                <EditButton src={edit2} onClick={() => onEditSetting(SETTING_VALUE.BOTTOM_RIGHT)} />\n              </foreignObject>\n            </svg>\n            <CanvasContainer ref={setCanvas} id='setting-app-axis' style={{ width: containerWidth, height: containerHeight }} />\n          </div>\n          <AxisX onEdit={onEditSetting} containerWidth={containerWidth} axisWidth={containerWidth} horizontalAxisName={horizontalAxisNameValue} leftEnd={leftEndValue} rightEnd={rightEndValue} />\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default CollaborationChartSetting","import React, { useState, useRef, useLayoutEffect, useEffect } from 'react'\nimport styled from 'styled-components'\nimport _ from 'lodash'\nimport Select from 'react-select'\nimport Toggle from 'react-toggle'\nimport {\n    Loading,\n    Radiobox,\n    Checkbox,\n    Modal, \n    paddingModalStyles\n} from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { radarLanguages, initialCommentTopics, customQuillModules } from '../../config'\nimport { PUBLIC_URL } from '../../env'\nimport ReactQuill from 'react-quill'\nimport filter from 'lodash/filter'\nimport find from 'lodash/find'\nimport first from 'lodash/first'\nimport times from 'lodash/times'\nimport { formats } from '../../quill'\nimport classNames from 'classnames'\nimport {InfoCircle} from '@styled-icons/boxicons-regular'\nimport Popover from '@material-ui/core/Popover';\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from '../CreateRadarForm.module.css'\nimport RatingSummaryPreview from '../RatingSummaryPreview';\nimport debounce from 'lodash/debounce'\nimport ConfirmationModalForRatings from '../ConfirmationModalForRatings/ConfirmationModalForRatings'\nimport { SettingsInputAntennaTwoTone } from '@material-ui/icons'\nimport CollaborationChartSetting from '../CollaborationChartSetting'\nimport {mockData} from '../CreateRadarForm'\n\nconst URL = window.URL || window.webkitURL\n\nexport const PAGE_HEADER_AND_LANGUAGE = 1\nexport const PAGE_BASIC_SETTINGS = 2\nexport const PAGE_USER_OPTIONS = 3\nexport const PAGE_CONCLUSIONS = 4\n\n// TODO enable when implemented\nconst COMMENT_TOPICS_ENABLED = false\nconst RATING_ARROWS_ENABLED = false\n\nexport const CustomModalStyles = { content: { ...paddingModalStyles.content}, overlay: { ...paddingModalStyles.overlay} }\n// export const mockData= [\n//     {\n//         title: 'Time',\n//         label: 'Time',\n//         leftAttr: 'near term',\n//         rightAttr: 'long term'\n//     },\n//     {\n//         title: 'Probability',\n//         label: 'Probability',\n//         leftAttr: 'low',\n//         rightAttr: 'high'\n//     },\n//     {\n//         title: 'Fit with current strategy',\n//         label: 'Fit with current strategy',\n//         leftAttr: 'near term',\n//         rightAttr: 'long term'\n//     },\n//     {\n//         title: 'Fit with new strategy',\n//         label: 'Fit with new strategy',\n//         leftAttr: 'weak',\n//         rightAttr: 'strong'\n//     },\n//     {\n//         title: 'Direction of the trend',\n//         label: 'Direction of the trend',\n//         leftAttr: 'weakening',\n//         rightAttr: 'increasing'\n//     },\n//     {\n//         title: 'Importance',\n//         label: 'Importance',\n//         leftAttr: 'low',\n//         rightAttr: 'high'\n//     },\n//     {\n//         title: 'Impact1',\n//         label: 'Impact',\n//         leftAttr: 'moderate',\n//         rightAttr: 'huge'\n//     },\n//     {\n//         title: 'Impact2',\n//         label: 'Impact',\n//         leftAttr: 'local',\n//         rightAttr: 'global'\n//     },\n//     {\n//         title: 'Nature1',\n//         label: 'Nature',\n//         leftAttr: 'threat',\n//         rightAttr: 'opportunity'\n//     },\n//     {\n//         title: 'Nature2',\n//         label: 'Nature',\n//         leftAttr: 'long term trend',\n//         rightAttr: 'emergent'\n//     },\n//     {\n//         title: 'Speed of change',\n//         label: 'Speed of change',\n//         leftAttr: 'gradual',\n//         rightAttr: 'tsunami'\n//     },\n//     {\n//         title: 'Size of threat/risk',\n//         label: 'Size of threat/risk',\n//         leftAttr: 'moderate',\n//         rightAttr: 'huge'\n//     },\n//     {\n//         title: 'Size of opportunity',\n//         label: 'Size of opportunity',\n//         leftAttr: 'moderate',\n//         rightAttr: 'huge'\n//     },\n//     {\n//         title: 'Nature3',\n//         label: 'Nature',\n//         leftAttr: 'non-disrupting',\n//         rightAttr: 'disrupting'\n//     },\n//     {\n//         title: 'Fit with existing capabilities',\n//         label: 'Fit with existing capabilities',\n//         leftAttr: 'weak',\n//         rightAttr: 'strong'\n//     },\n//     {\n//         title: 'Magnitude of actions required',\n//         label: 'Magnitude of actions required',\n//         leftAttr: 'minor',\n//         rightAttr: 'huge'\n//     },\n//     {\n//         title: 'Custom',\n//         label: 'Custom',\n//         leftAttr: 'x',\n//         rightAttr: 'y'\n//     },\n// ]\n\n\nconst useStyles = theme => ({\n    popover: {\n      pointerEvents: 'none',\n      width: '40%'\n    },\n    paper: {\n      padding: theme.spacing(1),\n      backgroundColor: '#424242',\n      color: '#fff',\n      width: 'fit-content'\n    },\n  });\n\nconst  RatingModalPreviewEditMode = ({\n    isRatingPreviewEditOpen,\n    ratingsOn,\n    axisXTitle,\n    axisXMin,\n    axisXMax,\n    axisYTitle,\n    axisYMin,\n    axisYMax,\n    fourFieldsTopLeft,\n    fourFieldsTopRight,\n    fourFieldsBottomLeft,\n    fourFieldsBottomRight,\n    axisYSelect,\n    axisXSelect,\n    RatingAnchorEl,\n    RatingDescriptionDisplayed,\n    openClearAllFields,\n    widthContentWidth,\n    onHoverRatingIcon,\n    onLeaveRatingIcon,\n    handleDisplayVericalAxisRatingChange,\n    handleDisplayHorizontalAxisRatingChange,\n    handleFlipHorizontalAndVerticalChange,\n    openClearAllFieldsModal,\n    closeClearAllFieldsModal,\n    clearAllFieldsBtn,\n    classes,\n    // handleRatingsOnChange,\n    handleRatingPreviewEditModeClose,\n    handleRatingOff,\n    passCheckedCustomData,\n    emitFlagToRefetchDataOfChart,\n    handleUpdateStateWhenClickedDoneBtnInCreateRadarForm,\n    isCustomVerticalProp,\n    isCustomHorozontalProp\n}) => {\n        // const { classes } = props;\n        \n        const handleRatingsOnChange = (e) => {\n            handleRatingOff(e)\n        }\n        \n        const [isCustomVertical, setIsCustomVertical] = React.useState(isCustomVerticalProp)\n        const [isCustomHorozol, setIsCustomHorozol] = React.useState(isCustomHorozontalProp)\n\n        const [topEnd, setTopEnd] = React.useState(axisYMax)\n        const [lowEnd, setLowEnd] = React.useState(axisYMin)\n        const [leftEnd, setLeftEnd] = React.useState(axisXMin)\n        const [rightEnd, setRightEnd] = React.useState(axisXMax)\n        const [xName, setXName] = React.useState(axisXTitle)\n        const [yName, setYname] = React.useState(axisYTitle)\n        const [fourFieldsTopLeftValue, setfourFieldsTopLeftValue] = React.useState(fourFieldsTopLeft)\n        const [fourFieldsTopRightValue, setfourFieldsTopRight] = React.useState(fourFieldsTopRight)\n        const [fourFieldsBottomLeftValue, setfourFieldsBottomLeftValue] = React.useState(fourFieldsBottomLeft)\n        const [fourFieldsBottomRightValue, setfourFieldsBottomRightValue] = React.useState(fourFieldsBottomRight)\n        const [axisXSelectValue, setaxisXSelect] = React.useState(axisXSelect)\n        const [axisYSelectValue, setaxisYSelect] = React.useState(axisYSelect)\n\n        const getDataFromLocalStorageThenSaveToLocalState = () => {\n            const retrievedObject = JSON.parse(localStorage.getItem('chartData'))\n\n            Promise.resolve()\n            .then(() => {\n                const {\n                    leftEndValue, \n                    rightEndValue, \n                    topEndValue, \n                    lowEndValue, \n                    horizontalAxisNameValue, \n                    verticalAxisNameValue,\n                    topLeftValue, \n                    topRightValue, \n                    bottomLeftValue, \n                    bottomRightValue,\n                    inputSelectedXValue,\n                    inputSelectedYValue,\n                    isEditHorizontal,\n                    isVerticalEdit\n            } = retrievedObject\n\n                if (retrievedObject) {\n                    setLowEnd(retrievedObject.lowEndValue)\n                    setTopEnd(retrievedObject.topEndValue)\n                    setLeftEnd(retrievedObject.leftEndValue)\n                    setRightEnd(retrievedObject.rightEndValue)\n                    setXName(retrievedObject.horizontalAxisNameValue)\n                    setYname(retrievedObject.verticalAxisName)\n                    setfourFieldsTopLeftValue(() => retrievedObject.topLeftValue)\n                    setfourFieldsTopRight((() => retrievedObject.topRightValue))\n                    setfourFieldsBottomLeftValue(() => retrievedObject.bottomLeftValue)\n                    setfourFieldsBottomRightValue(() => retrievedObject.bottomRightValue)\n                    setaxisXSelect(prestate => retrievedObject.inputSelectedXValue)\n                    setaxisYSelect(prestate => retrievedObject.inputSelectedYValue)\n                    setIsCustomVertical(pre => isVerticalEdit)\n                    setIsCustomHorozol( pre => isEditHorizontal)\n                }\n            }\n            )\n        }\n\n        const receivedCheckDataFromCollaborationChartSettingVertical = (isVertical) => {\n            setIsCustomVertical(isVertical)\n            // getDataFromLocalStorageThenSaveToLocalState()\n            \n        }\n\n        const receivedCheckDataFromCollaborationChartSettingHoronzal = (isHorizontal) => {\n            setIsCustomHorozol(isHorizontal)\n            // getDataFromLocalStorageThenSaveToLocalState()\n            \n        }\n\n        const handleBothClickedDoneAndPassCheckedCustomData = async(isVertical, isHorizontal) => {\n            passCheckedCustomData(isVertical, isHorizontal)\n            // Retrieve the object from storage\n            const retrievedObject = await localStorage.getItem('chartData');\n            retrievedObject && emitFlagToRefetchDataOfChart(JSON.parse(retrievedObject));\n            handleRatingPreviewEditModeClose()\n        }\n\n        const handleOpenClearAllFieldsModal = () => {\n            Promise.resolve()\n            .then(() => { \n                \n                // localStorage.removeItem(\"chartData\")\n                setLowEnd(() => requestTranslation('lowEnd'))\n                setTopEnd(() => requestTranslation('highEnd'))\n                setLeftEnd(() => requestTranslation('leftEnd'))\n                setRightEnd(() =>requestTranslation('rightEnd'))\n                setXName(() => requestTranslation('HorizontalAxisName'))\n                setYname(() => requestTranslation('verticalAxisName'))\n                setfourFieldsTopLeftValue(() => requestTranslation('topLeft'))\n                setfourFieldsTopRight((() => requestTranslation('topRight')))\n                setfourFieldsBottomLeftValue(() => requestTranslation('bottomLeft'))\n                setfourFieldsBottomRightValue(() => requestTranslation('bottomRight'))\n                setaxisXSelect(()=> '')\n                setaxisYSelect(() => '')\n                \n                setIsCustomHorozol(false)\n                setIsCustomVertical(false)\n\n                }\n            )\n            .then(() => {\n                localStorage.removeItem(\"chartData\")\n                clearAllFieldsBtn()\n            })\n            \n           \n        }\n\n        const handleDisplayVericalAxisRatingChangeOnRatingModalPreviewEditMode = ({value}) => {\n            // handleDisplayVericalAxisRatingChange({value})\n            mockData.some(i => {\n                if (String(value) === 'Custom') {\n                    setIsCustomVertical(true)\n                    handleDisplayVericalAxisRatingChange({value}, true)\n                    return true\n                }\n                else if(String(value) === String(i.title)) {\n                    setTopEnd(i.rightAttr)\n                    setLowEnd(i.leftAttr)\n                    setYname(i.nameAxis)\n                    setaxisYSelect(i.title)\n                    setIsCustomVertical(false)\n                    handleDisplayVericalAxisRatingChange({value}, false)\n                    return true\n                }\n            })\n            \n        }\n\n        const handleDisplayHorizontalAxisRatingChangeOnRatingModalPreviewEditMode = ({value}) => {\n            // handleDisplayHorizontalAxisRatingChange({value})\n            mockData.some(i => {\n                if (String(value) === 'Custom') {\n                    setIsCustomHorozol(true)\n                    handleDisplayHorizontalAxisRatingChange({value}, true)\n                    return true\n                }\n                else if(String(value) === String(i.title)) {\n                    setRightEnd(i.rightAttr)\n                    setLeftEnd(i.leftAttr)\n                    setXName(i.nameAxis)\n                    setaxisXSelect(i.title)\n                    setIsCustomHorozol(false)\n                    handleDisplayHorizontalAxisRatingChange({value}, false)\n                    return true\n                }\n            })\n            \n        }\n\n        const handleFlipHorizontalAndVerticalChangeInRatingEditChartMode = () => {\n            const retrievedObject = JSON.parse(localStorage.getItem('chartData'))\n            const {\n                    leftEndValue, \n                    rightEndValue, \n                    topEndValue, \n                    lowEndValue, \n                    horizontalAxisNameValue, \n                    verticalAxisNameValue,\n                    topLeftValue, \n                    topRightValue, \n                    bottomLeftValue, \n                    bottomRightValue,\n                    inputSelectedXValue,\n                    inputSelectedYValue,\n                    isEditHorizontal,\n                    isVerticalEdit\n            } = retrievedObject\n\n            localStorage.setItem('chartData', JSON.stringify({\n                leftEndValue: lowEndValue, \n                rightEndValue: topEndValue, \n                topEndValue: rightEndValue, \n                lowEndValue: leftEndValue, \n                horizontalAxisNameValue: verticalAxisNameValue, \n                verticalAxisNameValue: horizontalAxisNameValue,\n                topLeftValue, \n                topRightValue, \n                bottomLeftValue, \n                bottomRightValue,\n                inputSelectedXValue: inputSelectedYValue,\n                inputSelectedYValue: inputSelectedXValue,\n                isVerticalEdit: isEditHorizontal,\n                isEditHorizontal: isVerticalEdit\n              }));\n\n            \n\n            Promise.resolve()\n            .then(() => { \n                if (retrievedObject) {\n                    setLowEnd(retrievedObject.leftEndValue)\n                    setTopEnd(retrievedObject.rightEndValue)\n                    setLeftEnd(retrievedObject.lowEndValue)\n                    setRightEnd(retrievedObject.topEndValue)\n                    setXName(retrievedObject.verticalAxisNameValue)\n                    setYname(retrievedObject.horizontalAxisNameValue)\n                    setfourFieldsTopLeftValue(() => retrievedObject.topLeftValue)\n                    setfourFieldsTopRight((() => retrievedObject.topRightValue))\n                    setfourFieldsBottomLeftValue(() => retrievedObject.bottomLeftValue)\n                    setfourFieldsBottomRightValue(() => retrievedObject.bottomRightValue)\n                    setaxisXSelect(prestate => retrievedObject.inputSelectedYValue)\n                    setaxisYSelect(prestate => retrievedObject.inputSelectedXValue)\n                    setIsCustomVertical(pre => isEditHorizontal)\n                    setIsCustomHorozol( pre => isVerticalEdit)\n                }\n            }\n            )\n        }\n\n        const handleDoneBtn = (isCustomVertical, isCustomHorozol) => {\n            handleBothClickedDoneAndPassCheckedCustomData(isCustomVertical, isCustomHorozol)\n            handleUpdateStateWhenClickedDoneBtnInCreateRadarForm()\n        }\n\n        useEffect(() => {\n            setRightEnd(axisXMax)\n        }, [axisXMax])\n        useEffect(() => {\n            setLeftEnd(axisXMin)\n        }, [axisXMin])\n        useEffect(() => {\n            setLowEnd(axisYMin)\n        }, [axisYMin])\n        useEffect(() => {\n            setTopEnd(axisYMax)\n        }, [axisYMax])\n        useEffect(() => {\n            setXName(axisXTitle)\n        }, [axisXTitle])\n        useEffect(() => {\n            setYname(axisYTitle)\n        }, [axisYTitle])\n\n        useEffect(() => {\n            setfourFieldsTopLeftValue(fourFieldsTopLeft)\n        }, [fourFieldsTopLeft])\n        useEffect(() => {\n            setfourFieldsTopRight(fourFieldsTopRight)\n        }, [fourFieldsTopRight])\n        useEffect(() => {\n            setfourFieldsBottomLeftValue(fourFieldsBottomLeft)\n        }, [fourFieldsBottomLeft])\n        useEffect(() => {\n            setfourFieldsBottomRightValue(fourFieldsBottomRight)\n        }, [fourFieldsBottomRight])\n\n        useEffect(() => {\n            setaxisXSelect(axisXSelect)\n        }, [axisXSelect])\n        useEffect(() => {\n            setaxisYSelect(axisYSelect)\n        }, [axisYSelect])\n        useEffect(() => {\n            setIsCustomVertical(isCustomVerticalProp)\n        }, [isCustomVerticalProp])\n        useEffect(() => {\n            setIsCustomHorozol(isCustomHorozontalProp)\n        }, [isCustomHorozontalProp])\n\n        return (\n        ratingsOn && (\n            <Modal\n                isOpen={isRatingPreviewEditOpen}\n                contentLabel=\"radar-modal\"\n                ariaHideApp={false}\n                style={CustomModalStyles}\n                    >\n                            {/* <div className='modal-form-sections'> */}\n                                <div \n                                    className='modal-form-section' \n                                    style={{background: '#f1f3f3'}}\n                                    id=\"modal-form-section-chartEditMode\"\n                                    >\n                                    <CustomHalfWidth>\n                                        <div style={{display: 'flex'}}>\n                                            <h3>\n                                                {requestTranslation('rating')}\n                                            </h3>\n                                            <InformationIcon \n                                                onMouseEnter={onHoverRatingIcon}\n                                                onMouseLeave={onLeaveRatingIcon}\n                                            />\n                                            <Popover \n                                                className={classes.popover}\n                                                classes={{\n                                                    paper: classes.paper,\n                                                }}\n                                                open={RatingDescriptionDisplayed || false}\n                                                anchorEl={RatingAnchorEl} \n                                                anchorOrigin={{\n                                                    vertical: 'bottom',\n                                                    horizontal: 'left',\n                                                }}\n                                                transformOrigin={{\n                                                vertical: 'top',\n                                                horizontal: 'left',\n                                                }}\n                                                onClose={onLeaveRatingIcon}\n                                                disableRestoreFocus\n                                            >\n                                                <HoverBox>{requestTranslation('InfoIconHover')}</HoverBox>\n                                            </Popover> \n                                        </div>\n                                        <SpaceBetween>\n                                            <p>\n                                                {requestTranslation('createFormRatingDescription')}\n                                            </p>\n                                            <Toggle icons={false}\n                                                    defaultChecked={ratingsOn}\n                                                    onChange={() => handleRatingsOnChange(!ratingsOn)}\n                                            />\n                                        </SpaceBetween>\n                                        {/* <SpaceBetween> */}\n                                            {/* <p style={{marginTop: '12px'}}>{requestTranslation('IntructionsForNamingAxis')}</p> */}\n                                        {/* </SpaceBetween> */}\n                                    </CustomHalfWidth>\n                                    \n\n                                    {ratingsOn && (\n                                    <FullWidthBgContainer style={{ paddingTop: 0, paddingRight: 0, paddingLeft: 0 }}>\n                                        <p style={{marginTop: '12px'}}>{requestTranslation('IntructionsForNamingAxis')}</p>\n                                        <SpaceBetween>\n                                            <HalfWidth>\n                                                <h4>\n                                                    {requestTranslation('verticalAxis')}\n                                                </h4>\n                                                <Columns>\n                                                    <Column>\n                                                        <Select\n                                                            defaultValue='Select'\n                                                            searchable={false}\n                                                            name='group'\n                                                            className= {`${styles['custom-react-select-margin-bottom-att']}` }\n                                                            onChange={handleDisplayVericalAxisRatingChangeOnRatingModalPreviewEditMode}\n                                                            value={isCustomVertical ? 'Custom' : axisYSelectValue}\n                                                            options={mockData.map(i => ({\n                                                                label: i.label, value: i.title\n                                                            }))}\n                                                            clearable={false}\n                                                        />\n                                                    </Column>\n                                                </Columns>   \n                                            </HalfWidth>\n                                            <HalfWidth>\n                                                <h4>\n                                                    {requestTranslation('horizontalAxis')}\n                                                </h4>\n                                                <Columns>\n                                                    <Column>\n                                                        <Select\n                                                            searchable={false}\n                                                            name='group'\n                                                            className= {`${styles['custom-react-select-margin-bottom-att']}` }\n                                                            value={isCustomHorozol ? 'Custom' : axisXSelectValue}\n                                                            onChange={handleDisplayHorizontalAxisRatingChangeOnRatingModalPreviewEditMode}\n                                                            options={mockData.map(i => ({\n                                                                label: i.label, value: i.title\n                                                            }))}\n                                                            clearable={false}\n                                                        />\n                                                    </Column>\n                                                </Columns>\n                                            </HalfWidth>\n                                        </SpaceBetween>\n                                    </FullWidthBgContainer>\n                                )}\n\n                                {ratingsOn && (\n                                    <FullWidthBgContainer style={{ paddingTop: 0, paddingRight: 0, paddingLeft: 0 }}> \n                                        <SpaceBetween>\n                                            <CollaborationChartSetting \n                                                containerWidth = {widthContentWidth}\n                                                containerHeight = {widthContentWidth * 0.65}\n                                                topLeft = {fourFieldsTopLeftValue}\n                                                topRight = {fourFieldsTopRightValue}\n                                                bottomLeft = {fourFieldsBottomLeftValue}\n                                                bottomRight = {fourFieldsBottomRightValue}\n                                                horizontalAxisName = {xName}\n                                                leftEnd = {leftEnd}\n                                                rightEnd = {rightEnd}\n                                                verticalAxisName = {yName}\n                                                topEnd = {topEnd}\n                                                lowEnd = {lowEnd}\n                                                passisCustomToRatingModalPreviewModeVertical={receivedCheckDataFromCollaborationChartSettingVertical}\n                                                passisCustomToRatingModalPreviewModeHoronzal={receivedCheckDataFromCollaborationChartSettingHoronzal}\n                                                inputSelectedX={isCustomHorozol? 'Custom' : axisXSelectValue}\n                                                inputSelectedY={isCustomVertical? 'Custom' : axisYSelectValue}\n                                                isCustomHorozol={isCustomHorozol}\n                                                isCustomVertical={isCustomVertical}\n                                                // passDataFromPreviewEditModeToPreivewMore={passDataFromPreviewEditModeToPreivewMore}\n                                                />\n                                        </SpaceBetween>\n                                        <RatingGroupBtn style={{marginTop: '150px'}}>\n                                            <RatingHandleBtnGroup>\n                                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={openClearAllFieldsModal} >{requestTranslation('clearAllFieldsBtn')}</HandleRatingsBtn>\n                                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={handleFlipHorizontalAndVerticalChangeInRatingEditChartMode}>{requestTranslation('FlipHorizontalVertical')}</HandleRatingsBtn>\n                                                <HandleRatingsBtnActive className=\"btn btn-outline-secondary\">{requestTranslation('editManuallyBtn')}</HandleRatingsBtnActive>   \n                                            </RatingHandleBtnGroup>\n                                        <HandleDoneBtn className=\"btn btn-primary \" onClick={() => handleDoneBtn(isCustomVertical, isCustomHorozol)}>DONE</HandleDoneBtn>\n                                            \n                                        </RatingGroupBtn>\n                                        <ConfirmationModalForRatings \n                                            ConfirmationModalNote= 'Are you sure to clear all fields?'\n                                            confirmationModal= {openClearAllFields}\n                                            confirmationModalClose = {closeClearAllFieldsModal}\n                                            confirmationModalHandleBtn = {handleOpenClearAllFieldsModal}\n                                        />\n                                    </FullWidthBgContainer>\n                                )}\n                                </div>\n                            {/* </div> */}\n                            </Modal>\n                        )\n                    )\n    }\nexport default withStyles(useStyles)(RatingModalPreviewEditMode)\n\n\nconst FullWidthBgContainer = styled.div`\n    width: 100%;\n    background-color: #f1f3f3;\n    box-sizing: border-box;\n    padding: 30px 50px;\n    &:after {\n      content: \"\";\n      display: table;\n      clear: both;\n    }\n`\n\nconst breakpoint = '767px'\nconst HalfWidth = styled.div`\n    @media (min-width: ${breakpoint}) {\n        width: 45%;\n        display: flex;\n        flex-direction: column;\n    }\n`\n\nconst SpaceBetween = styled.div`\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        flex-direction: row;\n    }\n`\n\nconst columnPadding = 10\nconst Columns = styled.div`\n    width: ${({ width }) => width ? width : 'auto'};\n    display: flex;\n    margin: 0 -${columnPadding}px 10px -${columnPadding}px;\n`\n\nconst Column = styled.div`\n    flex: 1 1 ${({ width }) => width ? width : '0%'};\n    padding: 0 ${columnPadding}px;\n`\nconst InformationIcon = styled(InfoCircle)`\n    background-color: '#f1f3f3'\n    color: black;\n    width: 18px;\n    height: 18px;\n    margin-top: 4px;\n    margin-left: 18px;\n    &:hover {\n        cursor: pointer;\n    }\n`\n\nconst HoverBox = styled.p`\n    display: flex;\n    flex-wrap: wrap;\n    width: fit-content;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    margin: auto; \n`\nconst HandleRatingsBtn = styled.button`\n    &:hover {\n        background: #006998 !important;\n        color: white !important;\n    }\n    margin-bottom: 10px;\n`\n\nconst HandleDoneBtn = styled.button`\n    margin-bottom: 10px;\n`\n\nconst HandleRatingsBtnActive = styled.button`\n    background: #006998 !important;\n    color: white !important;\n    margin-bottom: 10px;\n`\nconst RatingGroupBtn = styled.div`\ndisplay: flex;\nflex-direction: column;\n\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n        justify-content: space-between;\n        // align-items: flex-start;\n        flex-direction: row;\n    }\n`\nconst CustomHalfWidth = styled.div`\n@media (min-width: ${breakpoint}) {\n    width: 80%;\n    display: flex;\n    flex-direction: column;\n}\n`\n\nconst RatingHandleBtnGroup = styled.div`\ndisplay: flex;\nflex-direction: column;\n\n    @media (min-width: ${breakpoint}) {\n        width: 83%;\n        display: flex;\n        justify-content: space-between;\n        flex-direction: row;\n    }   \n\n`","import React from \"react\";\nimport { Modal, paddingModalStyles } from \"@sangre-fp/ui\";\nimport { requestTranslation } from \"@sangre-fp/i18n\";\nimport { InfoCircle } from \"@styled-icons/boxicons-regular\";\nimport styled from \"styled-components\";\n\nconst EmbedLinkModal = ({\n    \n    EmbedLinkModalOpen,\n    EmbedLinkModalClose,\n    EmbedLink\n    \n  }) => {\n    const handleClick = (link) => {\n      window.open(link);\n    };\n\n    // const viewportWidth = window.innerWidth  + \"px\";\n    const viewportHeight = window.innerHeight ;\n    const viewportHeight065 = window.innerHeight * 0.9 - 12 ;\n    return (\n      <Modal\n        onRequestClose={EmbedLinkModalClose}\n        isOpen={EmbedLinkModalOpen}\n        contentLabel=\"radar-modal\"\n        ariaHideApp={false}\n        style={paddingModalStyles}\n      >\n        <div className=\"confirmation-modal-content pt-4 pb-4\" style={{position: \"relative\", height: viewportHeight}}>\n            <div style={{width:\"100%\", height: (+viewportHeight065) }}>\n                <embed \n                    type=\"text/html\" src={EmbedLink}\n                    width={\"100%\" } \n                    height={(viewportHeight065 -12 )} \n                    // style ={{marginBottom: '40px'}}\n                    />\n            </div>\n            <CloseBtnWrapper>\n                <button className=\"btn btn-primary \" onClick={EmbedLinkModalClose}>GOT IT</button>\n            </CloseBtnWrapper>\n         \n        </div>\n      </Modal>\n    );\n  };\n  \n  export default EmbedLinkModal;\n\n  const CloseBtnWrapper = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    bottom: 0;\n    right: 12; \n    position: sticky;\n    padding-right: 20px;\n`;","import React from \"react\";\nimport { Modal, paddingModalStyles } from \"@sangre-fp/ui\";\nimport { requestTranslation } from \"@sangre-fp/i18n\";\nimport { InfoCircle } from \"@styled-icons/boxicons-regular\";\nimport styled from \"styled-components\";\nimport EmbedLinkModal from \"../EmbedLinkModal\";\nconst InformationModal = ({\n  InfoModalHeader,\n  InfoModalDescription,\n  InfoModalDescription2,\n  InfoModalDescription3,\n  InfoModalDescription4,\n  InfoModalDescription5,\n  InfoModalNote,\n  InfoModalOpen,\n  InfoModalClose,\n  LearnMoreBtn,\n  GuideBtn,\n  LearnMoreLink,\n  GuideLink,\n}) => {\n  const [openEmbedLinkModalGuideLink, setOpenEmbedLinkModalGuideLink ] = React.useState(false)\n  const [openEmbedLinkModalLearnMoreLink, setOpenEmbedLinkModalLearnMoreLink] = React.useState(false)\n  const handleOpenGuideLinkModal = (link) => {\n    setOpenEmbedLinkModalGuideLink(true)\n    // window.open(link);\n  };\n  const handleOpenLearnMoreLinkModal = (link) => {\n    setOpenEmbedLinkModalLearnMoreLink(true)\n    // window.open(link);\n  };\n  return (\n    <Modal\n      onRequestClose={InfoModalClose}\n      isOpen={InfoModalOpen}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <div\n          className=\"modal-form-section modal-form-header\"\n          style={{ marginLeft: \"10px\" }}\n        >\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            <InformationIcon />\n            <h3 style={{ marginLeft: \"20px\", marginBottom: \"0\" }}>\n              {InfoModalHeader}\n            </h3>\n          </div>\n          <p className=\"mt-4\">\n            {InfoModalNote}\n          </p>\n          \n            <ul style={{listStyleType: 'none'}}>\n              <li>{InfoModalDescription}</li>\n              <li>{InfoModalDescription2}</li>\n              <li>{InfoModalDescription3}</li>\n              <li>{InfoModalDescription4}</li>\n              <li>{InfoModalDescription5}</li>\n            </ul>\n\n          <div style={{ marginTop: \"48px\", display: 'flex', flexDirection:'column', width: '60%' }}>\n            <p>Learn more from the HUB: </p>\n            <div style={{display: 'flex', flexDirection: 'column'}}>\n              <button\n                onClick={() => handleOpenGuideLinkModal(LearnMoreLink)}\n                className=\"btn btn-sm btn-outline-secondary\"\n              >\n                {LearnMoreBtn}\n              </button>\n              <button\n                className=\"btn btn-sm btn-outline-secondary\"\n                style={{marginTop: '17px'}}\n                onClick={() => handleOpenLearnMoreLinkModal(GuideLink)}\n              >\n                {GuideBtn}\n              </button>\n            </div>\n          </div>\n          <div style={{display: 'flex', justifyContent: 'flex-end'}}>\n            <button className='btn btn-sm btn-primary' onClick={InfoModalClose}>GOT IT</button>\n          </div>\n        </div>\n      </div>\n      <EmbedLinkModal \n        EmbedLinkModalOpen= {openEmbedLinkModalGuideLink}\n        EmbedLinkModalClose= {() => setOpenEmbedLinkModalGuideLink(false)}\n        EmbedLink={GuideLink}\n      />\n      <EmbedLinkModal \n        EmbedLinkModalOpen= {openEmbedLinkModalLearnMoreLink}\n        EmbedLinkModalClose= {() => setOpenEmbedLinkModalLearnMoreLink(false)}\n        EmbedLink={LearnMoreLink}\n      />\n    </Modal>\n  );\n};\n\nexport default InformationModal;\n\nconst InformationIcon = styled(InfoCircle)`\n  background-color: white;\n  color: #00C3FF;\n  width: 45px;\n  height: 45px;\n`;\n","import React, { PureComponent } from 'react'\nimport styled from 'styled-components'\nimport _ from 'lodash'\nimport Select from 'react-select'\nimport Toggle from 'react-toggle'\nimport {\n    Loading,\n    Radiobox,\n    Checkbox\n} from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { radarLanguages, initialCommentTopics, customQuillModules } from '../config'\nimport { PUBLIC_URL } from '../env'\nimport ReactQuill from 'react-quill'\nimport filter from 'lodash/filter'\nimport find from 'lodash/find'\nimport first from 'lodash/first'\nimport times from 'lodash/times'\nimport { formats } from '../quill'\nimport classNames from 'classnames'\nimport {InfoCircle} from '@styled-icons/boxicons-regular'\nimport Popover from '@material-ui/core/Popover';\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from './CreateRadarForm.module.css'\nimport RatingSummaryPreview from './RatingSummaryPreview';\nimport AxisPreview from './AxisPreview';\nimport debounce from 'lodash/debounce'\nimport ConfirmationModalForRatings from './ConfirmationModalForRatings/ConfirmationModalForRatings'\nimport {HeaderContainer, Spacing} from './RatingSummaryPreview';\nimport RatingModalPreviewEditMode from './RatingModalPreviewEditMode/RatingModalPreviewEditMode'\nimport InformationModal from './InformationModal/InformationModal'\nimport CollaborationChartSetting from './CollaborationChartSetting/index';\n\nconst URL = window.URL || window.webkitURL\n\nexport const PAGE_HEADER_AND_LANGUAGE = 1\nexport const PAGE_BASIC_SETTINGS = 2\nexport const PAGE_USER_OPTIONS = 3\nexport const PAGE_CONCLUSIONS = 4\n\n// TODO enable when implemented\nconst COMMENT_TOPICS_ENABLED = false\nconst RATING_ARROWS_ENABLED = false\n\n//mock data\n// export const mockDataOption = [\n//     {value: 'Time', label: 'Time'},\n//     {value: 'Probability', label: 'Probability'},\n//     {value: 'Fit with current strategy', label: 'Fit with current strategy'},\n//     {value: 'Direction of the trend', label: 'Direction of the trend'},\n//     {value: 'Importance', label: 'Importance'},\n//     {value: 'Impact1', label: 'Impact'},\n//     {value: 'Impact2', label: 'Impact'},\n//     {value: 'Nature1', label: 'Nature'},\n//     {value: 'Nature2', label: 'Nature'},\n//     {value: 'Speed of change', label: 'Speed of change'},\n//     {value: 'Size of threat/risk', label: 'Size of threat/risk'},\n//     {value: 'Size of opportunity', label: 'Size of opportunity'},\n//     {value: 'Nature3', label: 'Nature'},\n//     {value: 'Fit with existing capabilities', label: 'Fit with existing capabilities'},\n//     {value: 'Magnitude of actions required', label: 'Magnitude of actions required'},\n//     {value: 'Custom', label: 'Custom'}\n// ]\nexport const mockData= [\n    {\n        title: 'Time: near term/long term',\n        label: 'Time: near term/long term',\n        nameAxis: 'Time',\n        leftAttr: 'near term',\n        rightAttr: 'long term'\n    },\n    {\n        title: 'Probability: low/high ',\n        label: 'Probability: low/high',\n        nameAxis: 'Probability',\n        leftAttr: 'low',\n        rightAttr: 'high'\n    },\n    {\n        title: 'Fit with current strategy: near term/long term',\n        label: 'Fit with current strategy: near term/long term',\n        nameAxis: 'Fit with current strategy',\n        leftAttr: 'near term',\n        rightAttr: 'long term'\n    },\n    {\n        title: 'Fit with new strategy: weak/strong',\n        label: 'Fit with new strategy: weak/strong',\n        nameAxis: 'Fit with new strategy',\n        leftAttr: 'weak',\n        rightAttr: 'strong'\n    },\n    {\n        title: 'Direction of the trend: weakening/increasing',\n        label: 'Direction of the trend: weakening/increasing',\n        nameAxis: 'Direction of the trend',\n        leftAttr: 'weakening',\n        rightAttr: 'increasing'\n    },\n    {\n        title: 'Importance: low/high',\n        label: 'Importance: low/high',\n        nameAxis: 'Importance',\n        leftAttr: 'low',\n        rightAttr: 'high'\n    },\n    {\n        title: 'Impact1: moderate/huge',\n        label: 'Impact: moderate/huge',\n        nameAxis: 'Impact',\n        leftAttr: 'moderate',\n        rightAttr: 'huge'\n    },\n    {\n        title: 'Impact2: local/global',\n        label: 'Impact: local/global',\n        nameAxis: 'Impact',\n        leftAttr: 'local',\n        rightAttr: 'global'\n    },\n    {\n        title: 'Nature1: threat/opportunity',\n        label: 'Nature: threat/opportunity',\n        nameAxis: 'Nature',\n        leftAttr: 'threat',\n        rightAttr: 'opportunity'\n    },\n    {\n        title: 'Nature2: long term trend/emergent',\n        label: 'Nature: long term trend/emergent',\n        nameAxis: 'Nature',\n        leftAttr: 'long term trend',\n        rightAttr: 'emergent'\n    },\n    {\n        title: 'Speed of change: gradual/tsunami',\n        label: 'Speed of change: gradual/tsunami',\n        nameAxis: 'Speed of change',\n        leftAttr: 'gradual',\n        rightAttr: 'tsunami'\n    },\n    {\n        title: 'Size of threat/risk: moderate/huge',\n        label: 'Size of threat/risk: moderate/huge',\n        nameAxis: 'Size of threat/risk',\n        leftAttr: 'moderate',\n        rightAttr: 'huge'\n    },\n    {\n        title: 'Size of opportunity: moderate/huge',\n        label: 'Size of opportunity: moderate/huge',\n        nameAxis: 'Size of opportunity',\n        leftAttr: 'moderate',\n        rightAttr: 'huge'\n    },\n    {\n        title: 'Nature3: non-disrupting/disrupting',\n        label: 'Nature: non-disrupting/disrupting',\n        nameAxis: 'Nature',\n        leftAttr: 'non-disrupting',\n        rightAttr: 'disrupting'\n    },\n    {\n        title: 'Fit with existing capabilities: weak/strong',\n        label: 'Fit with existing capabilities: weak/strong',\n        nameAxis: 'Fit with existing capabilities',\n        leftAttr: 'weak',\n        rightAttr: 'strong'\n    },\n    {\n        title: 'Magnitude of actions required: minor/huge',\n        label: 'Magnitude of actions required: minor/huge',\n        nameAxis: 'Magnitude of actions required',\n        leftAttr: 'minor',\n        rightAttr: 'huge'\n    },\n    {\n        title: 'Custom',\n        label: 'Custom',\n        nameAxis: 'Custom',\n        leftAttr: 'x',\n        rightAttr: 'y'\n    },\n]\n\n\nconst useStyles = theme => ({\n    popover: {\n      pointerEvents: 'none',\n      width: '40%'\n    },\n    paper: {\n      padding: theme.spacing(1),\n      backgroundColor: '#424242',\n      color: '#fff',\n      width: 'fit-content'\n    },\n  });\nclass CreateRadarForm extends PureComponent {\n    state = {\n        VotingAnchorEl: null,\n        RatingAnchorEl: null,\n        CommentingAnchorEl: null,\n        DiscussionAnchorEl: null,\n        VotingDescriptionDisplayed: false,\n        RatingDescriptionDisplayed: false,\n        CommentingDescriptionDisplayed: false,\n        DiscussionDescriptionDisplayed: false,\n        axisYSelect: '',\n        axisXSelect: '',\n        isCustomVertical: false,\n        isCustomHorozol: false,\n        widthContentWidth: 0,\n        openClearAllFields: false,\n        openRatingModalEditMode: false,\n        openVotingInformationModal: false,\n        openRatingInformationModal: false,\n        openCommentingInformationModal: false,\n        openDiscussionInformationModal: false,\n        votingHaloOn: false\n    }\n    // state is getting set because we are implementing a cancel + save button\n    constructor(props) {\n        super(props)\n        let group = false\n\n        this.editorMode = React.createRef()\n\n        if (props.group) {\n            group = props.group\n        } else if (props.groups.length > 0) {\n            const searchParams = (new URL(document.location)).searchParams\n            const groupId = Number(searchParams.get('gid'))\n\n            if (groupId && find(props.groups, ({ value }) => Number(value) === Number(groupId))) {\n                group = groupId\n            } else {\n                group = first(props.groups).value\n            }\n        }\n\n        const {\n            radarName, mapIntro, radarLanguage, radarSets, hideUsersFromTrial, radarImage, votingOn,\n            ratingsOn, discussionOn, commentsOn, likingOn, votingUp, axisXTitle, axisXMin,\n            axisXMax, axisYTitle, axisYMin, axisYMax, fourFieldsTopLeft, fourFieldsTopRight,\n            fourFieldsBottomLeft, fourFieldsBottomRight, displayHaloWhenRating, titleLogo\n        } = props\n\n\n        this.state = {\n            errors: [],\n            phenomenaSet: radarSets.length ? radarSets[0].value : false,\n            commentTopics: initialCommentTopics,\n            radarTitleImage: titleLogo,\n            group,\n            radarName,\n            mapIntro,\n            radarLanguage,\n            hideUsersFromTrial,\n            radarImage,\n            votingOn,\n            ratingsOn,\n            discussionOn,\n            commentsOn,\n            likingOn,\n            votingUp,\n            axisXTitle,\n            axisXMin,\n            axisXMax,\n            axisYTitle,\n            axisYMin,\n            axisYMax,\n            fourFieldsTopLeft,\n            fourFieldsTopRight,\n            fourFieldsBottomLeft,\n            fourFieldsBottomRight,\n            displayHaloWhenRating\n        }\n    }\n\n    componentDidMount() {\n        const { getRadarSets, getUserGroups, existingRadarPage, axisYTitle, axisXTitle, axisYMin, axisYMax, axisXMin, axisXMax } = this.props\n\n        this.setState({\n            widthContentWidth: +this.editorMode?.current?.offsetWidth\n        })\n        if (window) {\n            window.addEventListener(\"resize\", debounce(this.handleResize, 150));\n        }\n        \n        if (!existingRadarPage) {\n            getUserGroups()\n            getRadarSets()\n        }\n\n        localStorage.removeItem('chartData')\n\n        if (this.state.displayHaloWhenRating <= 20) {\n            this.setState({\n                votingHaloOn: true\n            })\n        } else {\n            this.setState({\n                votingHaloOn: false\n            })\n        }\n        mockData.some(i => {\n            if (String(axisYTitle) === requestTranslation('verticalAxisName')\n                    && String(axisYMin) === requestTranslation('lowEnd')\n                    && String(axisYMax) === requestTranslation('highEnd')) {\n                this.setState({ \n                    axisYSelect: '',\n                })\n                return true\n            }\n            else if((String(axisYTitle) === String(i.nameAxis) || String(axisYTitle) === String(i.title))\n                    && String(axisYMin) === String(i.leftAttr)\n                    && String(axisYMax) === String(i.rightAttr)) {\n                    this.setState({ \n                        axisYSelect: i?.title,\n                        axisYTitle: i?.nameAxis\n                    })\n                    return true\n                } \n            else {\n                this.setState({ \n                    axisYSelect: 'Custom',\n                })\n            }\n        })\n\n        mockData.some(i => {\n            if (String(axisXTitle) === requestTranslation('HorizontalAxisName')\n                        && String(axisXMin) === requestTranslation('leftEnd')\n                        && String(axisXMax) ===requestTranslation('rightEnd')) {\n                    this.setState({ \n                        axisXSelect: '',\n                    })\n                    return true\n            }\n            else if((String(axisXTitle) === String(i.nameAxis) || String(axisXTitle) === String(i.title))\n                    && String(axisXMin) === String(i.leftAttr)\n                    && String(axisXMax) === String(i.rightAttr)) {\n                    this.setState({ \n                        axisXSelect: i?.title,\n                        axisXTitle: i?.nameAxis\n                        \n                    })\n                    return true\n                } \n            else {\n                this.setState({ \n                    axisXSelect: 'Custom',\n                })\n            }\n        })\n\n    }\n\n    handleResize = () => {\n        this.setState({\n            widthContentWidth: +this.editorMode?.current?.offsetWidth\n        })\n    }\n\n    componentWillUnmount() {\n        if (window) {\n            window.removeEventListener(\"resize\", this.handleResize);\n            localStorage.removeItem('chartData')\n        }\n    }\n\n    shouldSetDefaultRadarSet(nextProps) {\n        const { phenomenaSet } = this.state\n        const { radarSets } = this.props\n\n        // receiving radarSets, set not selected yet\n        if (nextProps.radarSets.length && !phenomenaSet) {\n            return true\n        }\n\n        // already received radarSets, but they've changed (probably due to language change)\n        if (radarSets.length && nextProps.radarSets !== radarSets) {\n            // check if current selection is in new set\n            return !find(\n                nextProps.radarSets,\n                radarSet => radarSet.value === phenomenaSet\n            )\n        }\n\n        return false\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.shouldSetDefaultRadarSet(nextProps)) {\n            if (nextProps.radarSets.length) {\n                const radarSet = first(nextProps.radarSets)\n                const imageUrl = radarSet.logo_image || false\n                this.setState({ phenomenaSet: radarSet.value, imageUrl })\n            } else {\n                this.setState({ phenomenaSet: true })\n            }\n        }\n\n        if (nextProps.groups.length && !this.state.group) {\n            const searchParams = (new URL(document.location)).searchParams\n            const groupId = Number(searchParams.get('gid'))\n\n            if (groupId && find(nextProps.groups, ({ value }) => Number(value) === Number(groupId))) {\n                this.setState({ group: groupId })\n            } else {\n                this.setState({ group: first(nextProps.groups).value })\n            }\n        }\n    }\n\n    setFieldError = (field, hasError) => {\n        const { errors } = this.state\n\n        if (hasError) {\n            if (errors.indexOf(field) < 0) {\n                this.setState({ errors: [...errors, field] })\n            }\n        } else {\n            this.setState({ errors: filter(errors, error => error !== field) })\n        }\n\n        return !hasError\n    }\n\n    validateRadarName = () => this.setFieldError('radarName', this.hasRadarNameError())\n\n    validateGroup = () => this.setFieldError('group', this.hasGroupError())\n\n    hasGroupError = () => {\n        const { groups } = this.props\n        const { group: groupValue } = this.state\n\n        const group = find(groups, ({ value }) => value === groupValue)\n\n        return group && !group.hasAvailableRadars\n    }\n\n    hasRadarNameError = () => !this.state.radarName\n\n    validate() {\n        const { addRadarFormPage } = this.props\n\n        const errors = []\n\n        if (addRadarFormPage === PAGE_HEADER_AND_LANGUAGE) {\n            if (this.hasGroupError()) {\n                errors.push('group')\n            }\n            if (this.hasRadarNameError()) {\n                errors.push('radarName')\n            }\n        }\n\n        this.setState({ errors })\n        return errors.length === 0\n    }\n\n    handleRadarNameChange = e => this.setState({\n        radarName: e.target.value\n    }, () => this.validateRadarName())\n    handleMapIntroChange = value => this.setState({ mapIntro: value })\n    handleValueChange = value => e => this.setState({ [value]: e.target.value })\n    handleRadarLanguageChange = ({ value }) => {\n        const { changeRadarLanguage } = this.props\n        changeRadarLanguage(value)\n        this.setState({ radarLanguage: value })\n    }\n    handlePhenomenaSetChange = ({ value }) => {\n        let { imageUrl } = this.state\n        const { radarSets } = this.props\n        const radarSet = find(radarSets, set => set.id === value)\n        if (radarSet && radarSet.logo_image !== '') {\n            imageUrl = radarSet.logo_image\n        } else {\n            imageUrl = false\n        }\n        this.setState({ phenomenaSet: value, imageUrl })\n    }\n    handleDisplayHaloWhenRatingChange = ({ value }) => this.setState({ displayHaloWhenRating: value })\n    handleGroupChange = ({ value }) => this.setState({ group: value }, () => this.validateGroup())\n    handleDiscussionOnChange = () => this.setState({ discussionOn: !this.state.discussionOn })\n    handleVotingOnChange = () => this.setState({ votingOn: !this.state.votingOn })\n    handleVotingHaloOnChange = () => {\n\n        return this.setState({ \n            votingHaloOn: !this.state.votingHaloOn\n        }, () => {\n            if (!this.state.votingHaloOn) {\n                this.setState({ \n                    displayHaloWhenRating: 999\n                })\n            }\n        })\n    }\n    handleRatingsOnChange = () => this.setState({ ratingsOn: !this.state.ratingsOn })\n    handleLikingOnChange = () => this.setState({ likingOn: !this.state.likingOn })\n    handleCommentsOnChange = () => this.setState({ commentsOn: !this.state.commentsOn })\n    handleVotingSelection = () => this.setState({ votingUp: !this.state.votingUp })\n    handleHideUsersFromTrialClick = () =>\n        this.setState({ hideUsersFromTrial: !this.state.hideUsersFromTrial })\n\n    handleTopicChange = (topicLabel, checked) => {\n        const { commentTopics } = this.state\n        const updatedTopics = commentTopics.map(topic => topic.label === topicLabel\n            ? { ...topic, checked }\n            : topic\n        )\n\n        this.setState({ commentTopics: updatedTopics })\n    }\n\n    handleImageSelect = (e, file) => {\n        const fileName = file || e.target.files[0]\n        const reader = new FileReader()\n\n        reader.onload = () => {\n            let img = new Image()\n            img.src = URL.createObjectURL(fileName)\n\n            img.onload = () => {\n                this.setState({\n                    radarImage: reader.result,\n                    imageFile: fileName,\n                    imageUrl: false\n                })\n            }\n        }\n        reader.readAsDataURL(fileName)\n    }\n\n    handleTitleImageSelect = (e, file) => {\n        const fileName = file || e.target.files[0]\n        const reader = new FileReader()\n\n        reader.onload = () => {\n            let img = new Image()\n            img.src = URL.createObjectURL(fileName)\n\n            img.onload = () => {\n                this.setState({\n                    radarTitleImage: reader.result,\n                    imageTitleFile: fileName\n                })\n            }\n        }\n        reader.readAsDataURL(fileName)\n    }\n\n    handleTitleImageDelete = () => {\n        this.setState({\n            radarTitleImage: false,\n            imageTitleFile: false\n        })\n    }\n\n    handleImageDelete = () => {\n        this.setState({\n            radarImage: false,\n            imageFile: false,\n            imageUrl: false\n        })\n    }\n\n    handleNextClick = () => {\n        const {\n            addRadarFormPage,\n            changeRadarLanguage,\n            changeRadarName,\n            changeMapIntro,\n            changeAddRadarFormPage,\n            changeHideUsersFromTrial,\n            changeRadarImage,\n            changeDiscussionOn,\n            changeVotingOn,\n            changeVotingUp,\n            changeRatingsOn,\n            changeRatingsSettings,\n            changeCommentsOn,\n            changeLikingOn,\n            createRadar,\n            changePhenomenaSet,\n            changeRadarGroup,\n            id,\n            updateRadar,\n            changeDisplayHaloWhenRating,\n            isCollaborationToolsAllowed,\n            changeRadarTitleImage\n        } = this.props\n\n        const {\n            radarLanguage,\n            radarName,\n            mapIntro,\n            hideUsersFromTrial,\n            discussionOn,\n            votingOn,\n            votingUp,\n            ratingsOn,\n            commentsOn,\n            likingOn,\n            phenomenaSet,\n            group,\n            axisXTitle,\n            axisXMax,\n            axisXMin,\n            axisYTitle,\n            axisYMax,\n            axisYMin,\n            fourFieldsTopLeft,\n            fourFieldsTopRight,\n            fourFieldsBottomLeft,\n            fourFieldsBottomRight,\n            imageFile,\n            imageTitleFile,\n            displayHaloWhenRating\n        } = this.state\n\n        if (this.validate()) {\n            // todo make these in a pagely manner:)\n            switch (addRadarFormPage) {\n                case PAGE_HEADER_AND_LANGUAGE:\n                    changeRadarLanguage(radarLanguage)\n                    changeRadarName(radarName)\n                    changeRadarGroup(group)\n\n                    if (!id) {\n                        changeAddRadarFormPage(PAGE_BASIC_SETTINGS)\n                    } else {\n                        updateRadar()\n                    }\n\n                    break\n                case PAGE_BASIC_SETTINGS:\n                    changeRadarImage(imageFile)\n                    changeRadarTitleImage(imageTitleFile)\n                    changeHideUsersFromTrial(hideUsersFromTrial)\n                    changePhenomenaSet(phenomenaSet)\n\n                    if (!id) {\n                        if (isCollaborationToolsAllowed(group)) {\n                            changeAddRadarFormPage(PAGE_USER_OPTIONS)\n                        } else {\n                            createRadar()\n                        }\n                    } else {\n                        updateRadar()\n                    }\n\n                    break\n                case PAGE_USER_OPTIONS:\n                    changeDisplayHaloWhenRating(displayHaloWhenRating)\n                    changeDiscussionOn(discussionOn)\n                    changeVotingOn(votingOn)\n                    changeVotingUp(votingUp)\n                    changeRatingsOn(ratingsOn)\n                    changeRatingsSettings({\n                        axisXTitle,\n                        axisXMax,\n                        axisXMin,\n                        axisYTitle,\n                        axisYMax,\n                        axisYMin,\n                        fourFieldsTopLeft,\n                        fourFieldsTopRight,\n                        fourFieldsBottomLeft,\n                        fourFieldsBottomRight\n                    })\n                    changeCommentsOn(commentsOn)\n                    changeLikingOn(likingOn)\n\n                    if (!id) {\n                        createRadar()\n                    } else {\n                        updateRadar()\n                    }\n\n                    break\n                case PAGE_CONCLUSIONS:\n                    changeMapIntro(mapIntro)\n\n                    if (!id) {\n                        changeAddRadarFormPage(PAGE_CONCLUSIONS)\n                    } else {\n                        updateRadar()\n                    }\n\n                    break\n                default:\n                    break\n            }\n        }\n    }\n\n    handleBackClick = () => {\n        const { addRadarFormPage, changeAddRadarFormPage } = this.props\n        const previousPage = addRadarFormPage - 1\n\n        changeAddRadarFormPage(previousPage)\n    }\n\n    handleCloseClick = () => this.props.changeAddRadarFormVisibility()\n    redirectUser = () => window.location.replace(PUBLIC_URL || '/')\n    renderUserOptionsForm() {\n        const {\n            votingOn,\n            ratingsOn,\n            discussionOn,\n            commentsOn,\n            commentTopics,\n            likingOn,\n            votingUp,\n            axisXTitle,\n            axisXMin,\n            axisXMax,\n            axisYTitle,\n            axisYMin,\n            axisYMax,\n            fourFieldsTopLeft,\n            fourFieldsTopRight,\n            fourFieldsBottomLeft,\n            fourFieldsBottomRight,\n            displayHaloWhenRating,\n            VotingDescriptionDisplayed,\n            RatingDescriptionDisplayed,\n            CommentingDescriptionDisplayed,\n            DiscussionDescriptionDisplayed,\n            VotingAnchorEl,\n            RatingAnchorEl,\n            CommentingAnchorEl,\n            DiscussionAnchorEl,\n            axisYSelect,\n            axisXSelect,\n            openRatingModalEditMode,\n            openVotingInformationModal,\n            openRatingInformationModal,\n            openCommentingInformationModal,\n            openDiscussionInformationModal\n        } = this.state\n\n        const onHoverVotingIcon = (event) => {\n            this.setState({\n                VotingAnchorEl: event.currentTarget,\n                VotingDescriptionDisplayed: true\n            })\n        }\n        const onLeaveVotingIcon = () => {\n            this.setState({\n                VotingAnchorEl: null,\n                VotingDescriptionDisplayed: false\n            })\n        }\n\n        const onHoverRatingIcon = (event) => {\n            this.setState({\n                RatingAnchorEl: event.currentTarget,\n                RatingDescriptionDisplayed: true\n            })\n        }\n        const onLeaveRatingIcon = () => {\n            this.setState({\n                RatingAnchorEl: null,\n                RatingDescriptionDisplayed: false\n            })\n        }\n\n        const onHoverCommentingIcon = (event) => {\n            this.setState({\n                CommentingAnchorEl: event.currentTarget,\n                CommentingDescriptionDisplayed: true\n            })\n        }\n        const onLeaveCommentingIcon = () => {\n            this.setState({\n                CommentingAnchorEl: null,\n                CommentingDescriptionDisplayed: false\n            })\n        }\n\n        const onHoverDiscussionIcon = (event) => {\n            this.setState({\n                DiscussionAnchorEl: event.currentTarget,\n                DiscussionDescriptionDisplayed: true\n            })\n        }\n        const onLeaveDiscussionIcon = () => {\n            this.setState({\n                DiscussionAnchorEl: null,\n                DiscussionDescriptionDisplayed: false\n            })\n        }\n\n        // {\n        //     title: 'Time: A/B',\n        //     label: 'Time:A/B',\n        //     nameAxis: Time,\n        //     leftAttr: 'near term',\n        //     rightAttr: 'long term'\n        // }\n        // label: i.label, value: i.title\n        const handleDisplayVericalAxisRatingChange = ({ value }, isCustom) => {\n            this.setState({\n                isCustomVertical: isCustom,\n            })\n            mockData.some(i => {\n                if (String(value) === 'Custom') {\n                    this.setState({ \n                        axisYSelect: value\n                    })\n                    return true\n                }\n                else if(String(value) === String(i.title)) {\n                    this.setState({ \n                        axisYSelect: value,\n                        axisYTitle: i.nameAxis,\n                        axisYMin: i.leftAttr,\n                        axisYMax: i.rightAttr,\n                    })\n                }\n            })\n        }\n        const handleDisplayHorizontalAxisRatingChange = ({ value }, isCustom) => {\n            this.setState({\n                isCustomHorozol: isCustom,\n            })\n            mockData.some(i => {\n                if (String(value) === 'Custom') {\n                    this.setState({ \n                        axisXSelect: value\n                    })\n                    return true\n                }\n                else if(String(value) === String(i.title)) {\n                    this.setState({ \n                        axisXSelect: value,\n                        axisXTitle: i.nameAxis,\n                        axisXMin: i.leftAttr,\n                        axisXMax: i.rightAttr,\n                    })\n                }\n            })\n    }\n\n    const handleFlipHorizontalAndVerticalChange = () => {\n        const retrievedObject = JSON.parse(localStorage.getItem('chartData'))\n           if (retrievedObject) {\n                const {\n                    leftEndValue, \n                    rightEndValue, \n                    topEndValue, \n                    lowEndValue, \n                    horizontalAxisNameValue, \n                    verticalAxisNameValue,\n                    topLeftValue, \n                    topRightValue, \n                    bottomLeftValue, \n                    bottomRightValue,\n                    inputSelectedXValue,\n                    inputSelectedYValue,\n                    isEditHorizontal,\n                    isVerticalEdit\n                } = retrievedObject\n\n                localStorage.setItem('chartData', JSON.stringify({\n                    leftEndValue: lowEndValue, \n                    rightEndValue: topEndValue, \n                    topEndValue: rightEndValue, \n                    lowEndValue: leftEndValue, \n                    horizontalAxisNameValue: verticalAxisNameValue, \n                    verticalAxisNameValue: horizontalAxisNameValue,\n                    topLeftValue, \n                    topRightValue, \n                    bottomLeftValue, \n                    bottomRightValue,\n                    inputSelectedXValue: inputSelectedYValue,\n                    inputSelectedYValue: inputSelectedXValue,\n                    isVerticalEdit: isEditHorizontal,\n                    isEditHorizontal: isVerticalEdit\n                }));\n\n                if (retrievedObject) {\n                    this.setState({\n                        axisXTitle: verticalAxisNameValue,\n                        axisYTitle: horizontalAxisNameValue,\n                        axisXMin: lowEndValue,\n                        axisYMin: leftEndValue,\n                        axisXMax: topEndValue,\n                        axisYMax: rightEndValue,\n                        axisXSelect: inputSelectedYValue,\n                        axisYSelect: inputSelectedXValue,\n                        isCustomHorozol: isVerticalEdit,\n                        isCustomVertical: isEditHorizontal\n                    })\n                }\n           }\n\n\n        else {\n            this.setState({\n                axisXTitle: axisYTitle,\n                axisYTitle: axisXTitle,\n                axisXMin: axisYMin,\n                axisYMin: axisXMin,\n                axisXMax: axisYMax,\n                axisYMax: axisXMax,\n                axisXSelect: axisYSelect,\n                axisYSelect: axisXSelect\n            })\n        }\n    }\n\n    const openVotingInformationModalHandle = () => {\n        this.setState({\n            openVotingInformationModal: true\n        })\n    }\n\n    const closeVotingInformationModalHandle = () => {\n        this.setState({\n            openVotingInformationModal: false\n        })\n    } \n    const openRatingInformationModalHandle = () => {\n        this.setState({\n            openRatingInformationModal: true\n        })\n    }\n\n    const closeRatingInformationModalHandle = () => {\n        this.setState({\n            openRatingInformationModal: false\n        })\n    } \n\n    const openCommentingInformationModalHandle = () => {\n        this.setState({\n            openCommentingInformationModal: true\n        })\n    }\n\n    const closeCommentingInformationModalHandle  = () => {\n        this.setState({\n            openCommentingInformationModal: false\n        })\n    } \n\n    const openDiscussionInformationModalHandle = () => {\n        this.setState({\n            openDiscussionInformationModal: true\n        })\n    }\n\n    const closeDiscussionInformationModalHandle  = () => {\n        this.setState({\n            openDiscussionInformationModal: false\n        })\n    } \n\n    const openClearAllFieldsModal = () => {\n        this.setState({\n            openClearAllFields: true\n        })\n    }\n\n    const closeClearAllFieldsModal = () => {\n        this.setState({\n            openClearAllFields: false\n        })\n    } \n    \n    const openRatingModalEditModeModal = () => {\n        this.setState({\n            openRatingModalEditMode: true\n        })\n    }\n\n    const closeRatingModalEditModeModal = () => {\n        this.setState({\n            openRatingModalEditMode: false\n        })\n    }\n    const clearAllFieldsBtn = () => {\n        this.setState({\n            axisXTitle: requestTranslation('HorizontalAxisName'),\n            axisYTitle: requestTranslation('verticalAxisName'),\n            axisXMin: requestTranslation('leftEnd'),\n            axisYMin:requestTranslation('lowEnd'),\n            axisXMax: requestTranslation('rightEnd'),\n            axisYMax: requestTranslation('highEnd'),\n            fourFieldsTopLeft: requestTranslation('topLeft'),\n            fourFieldsTopRight:requestTranslation('topRight'),\n            fourFieldsBottomLeft: requestTranslation('bottomLeft'),\n            fourFieldsBottomRight: requestTranslation('bottomRight'),\n            openClearAllFields: false,\n            axisXSelect: '',\n            axisYSelect: '',\n            isCustomHorozol: false,\n            isCustomVertical: false\n        })\n\n        localStorage.removeItem('chartData')\n        \n    }\n        const { classes } = this.props;\n\n        const handleRatingOffParantComp = (value) => {\n            this.setState({\n                ratingsOn: value,\n                openRatingModalEditMode: value\n            })\n        }\n\n        const receiveCheckedCustomData = (isVertical, isHorizontal) =>{\n            this.setState({\n                isCustomVertical: isVertical,\n                isCustomHorozol: isHorizontal\n            })\n        }\n\n        const handleUpdateStateWhenClickedDoneBtnInCreateRadarForm = () => {\n            // mockData.some(i => {\n            //     if (String(axisYTitle) === String('Vertical axis name') \n            //             && String(axisYMin) === String('Low end')\n            //             && String(axisYMax) === String('High end')) {\n            //         this.setState({ \n            //             axisYSelect: '',\n            //         })\n            //         return true\n            //     }\n            //     else if(String(axisYTitle) === String(i.title)\n            //             && String(axisYMin) === String(i.leftAttr)\n            //             && String(axisYMax) === String(i.rightAttr)) {\n            //             this.setState({ \n            //                 axisYSelect: axisYTitle,\n            //             })\n            //             return true\n            //         } \n            //     else {\n            //         this.setState({ \n            //             axisYSelect: 'Custom',\n            //         })\n            //     }\n            // })\n    \n            // mockData.some(i => {\n            //     if (String(axisXTitle) === String('Horizontal axis name') \n            //                 && String(axisXMin) === String('Left end')\n            //                 && String(axisXMax) === String('Right end')) {\n            //             this.setState({ \n            //                 axisYSelect: '',\n            //             })\n            //             return true\n            //     }\n            //     else if(String(axisXTitle) === String(i.title)\n            //             && String(axisXMin) === String(i.leftAttr)\n            //             && String(axisXMax) === String(i.rightAttr)) {\n            //             this.setState({ \n            //                 axisXSelect: axisXTitle,\n            //             })\n            //             return true\n            //         } \n            //     else {\n            //         this.setState({ \n            //             axisXSelect: 'Custom',\n            //         })\n            //     }\n            // })\n        }\n\n        const handleEmitFlagToRefetchDataOfChart = (value) => {\n            try {\n                if (value) {\n                    const { \n                        horizontalAxisNameValue, \n                        verticalAxisNameValue,\n                        leftEndValue,\n                        rightEndValue,\n                        lowEndValue,\n                        topEndValue,\n                        topLeftValue,\n                        topRightValue,\n                        bottomLeftValue,\n                        bottomRightValue,\n                        inputSelectedXValue,\n                        inputSelectedYValue\n                    } = value\n                    this.setState( () => {\n                        return {\n                            axisXTitle: horizontalAxisNameValue,\n                            axisYTitle: verticalAxisNameValue,\n                            axisXMin: leftEndValue,\n                            axisYMin: lowEndValue,\n                            axisXMax: rightEndValue,\n                            axisYMax: topEndValue,\n                            fourFieldsTopLeft: topLeftValue,\n                            fourFieldsTopRight: topRightValue,\n                            fourFieldsBottomLeft: bottomLeftValue,\n                            fourFieldsBottomRight: bottomRightValue,\n                            axisXSelect: inputSelectedXValue,\n                            axisYSelect: inputSelectedYValue\n                        }\n                    })\n                }\n            } catch (error) {\n                \n            }\n        }\n\n        const inputVerticalAxisValue = String(axisYSelect) !== '' ? (this.state.isCustomVertical ? 'Custom' : axisYSelect) : ''\n        const inputHorozoltalAxisValue = String(axisXSelect) !== '' ? (this.state.isCustomHorozol ? 'Custom' : axisXSelect) : ''\n        return (\n            <div className='modal-form-sections'>\n                <div className='modal-form-section modal-form-header'>\n                    <h2>\n                        {requestTranslation('activateUsers')}\n                    </h2>\n                </div>\n                <div className='modal-form-section'>\n                    <SpaceBetween>\n                        <CustomHalfWidth>\n                            <div style={{display: 'flex'}}>\n                                <h3>\n                                    {requestTranslation('voting')}\n                                </h3>\n                                <InformationIcon \n                                    background={false}\n                                    onMouseEnter={onHoverVotingIcon} \n                                    onMouseLeave={onLeaveVotingIcon}\n                                    onClick={openVotingInformationModalHandle}\n                                />\n                               <Popover \n                                    className={classes.popover}\n                                    classes={{\n                                        paper: classes.paper,\n                                    }}\n                                    open={VotingDescriptionDisplayed || false}\n                                    anchorEl={VotingAnchorEl} \n                                    anchorOrigin={{\n                                        vertical: 'bottom',\n                                        horizontal: 'left',\n                                    }}\n                                    transformOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'left',\n                                    }}\n                                      onClose={onLeaveVotingIcon}\n                                      disableRestoreFocus\n                                >\n                                    <HoverBox>{requestTranslation('InfoIconHover')}</HoverBox>\n                                </Popover> \n                                \n                                <InformationModal \n                                    InfoModalHeader={requestTranslation('VotingTool')}\n                                    InfoModalNote={requestTranslation('InfoModalVotingNote')}\n                                    InfoModalOpen={openVotingInformationModal}\n                                    InfoModalClose={closeVotingInformationModalHandle}\n                                    LearnMoreBtn={requestTranslation('LearnMoreVotingBtn')}\n                                    GuideBtn={requestTranslation('GuideVotingBtn')}\n                                    LearnMoreLink='https://info.futuresplatform.com/hub/how-to-vote/'\n                                    GuideLink='https://info.futuresplatform.com/hub/how-to-orginise-voting/'\n                                    InfoModalDescription={requestTranslation('InfoModalVotingContent')}\n                                    InfoModalDescription2={requestTranslation('InfoModalVotingContent2')}\n                                    InfoModalDescription3={requestTranslation('InfoModalVotingContent3')}\n                                    InfoModalDescription4={requestTranslation('InfoModalVotingContent4')}\n                                    InfoModalDescription5={requestTranslation('InfoModalVotingContent5')}\n\n                                />\n                            </div>\n                            <SpaceBetween>\n                                <p>\n                                    {requestTranslation('createFormVotingDescription')}\n                                </p>\n                                <Toggle\n                                    icons={false}\n                                    defaultChecked={votingOn}\n                                    onChange={this.handleVotingOnChange}\n                                />\n                            </SpaceBetween>\n                        </CustomHalfWidth>\n                        {RATING_ARROWS_ENABLED && votingOn && (\n                            <HalfWidth>\n                                <h4>\n                                    {requestTranslation('arrows')}\n                                </h4>\n                                <SpaceBetween style={{ width: '200px' }}>\n                                    <Radiobox\n                                        label={requestTranslation('up')}\n                                        value='up'\n                                        checked={votingUp}\n                                        onClick={this.handleVotingSelection}\n                                    />\n                                    <Radiobox\n                                        label={requestTranslation('upDown')}\n                                        value='updown'\n                                        checked={!votingUp}\n                                        onClick={this.handleVotingSelection}\n                                    />\n                                </SpaceBetween>\n                            </HalfWidth>\n                        )}\n                    </SpaceBetween>\n                    {votingOn && \n                    <UpVotesWrapper>\n                        <CustomHalfWidth>\n                            <SpaceBetween>\n                                <p>\n                                    {requestTranslation('upvotesForHalo')}\n                                </p>\n                                <Toggle\n                                            icons={false}\n                                            checked={this.state.votingHaloOn}\n                                            defaultChecked={this.state.votingHaloOn}\n                                            onChange={this.handleVotingHaloOnChange}\n                                        />\n                            </SpaceBetween>\n                        {this.state.votingHaloOn &&\n                        <SpaceBetween style={{ marginTop: '15px'}}>\n                            <p style={{ marginRight: '30px'}}>{requestTranslation('upvotesForHaloDescription')}</p> \n                            <Select\n                                searchable={false}\n                                name='group'\n                                className= {` ${styles['custom-react-select-height-att']} ${styles['custom-react-select-width-att']}` }\n                                value={displayHaloWhenRating}\n                                onChange={this.handleDisplayHaloWhenRatingChange}\n                                options={times(20, value => ({ label: value + 1, value: value + 1 }))}\n                                clearable={false}\n                            />\n                            \n                        </SpaceBetween>\n                        }\n                            \n                        </CustomHalfWidth>\n                    </UpVotesWrapper>    \n                    }\n                </div>\n\n                <div className='modal-form-section'>\n                    <CustomHalfWidth>\n                        <div style={{display: 'flex'}}>\n                            <h3>\n                                {requestTranslation('rating')}\n                            </h3>\n                            <InformationIcon \n                                background={true}\n                                onMouseEnter={onHoverRatingIcon}\n                                onMouseLeave={onLeaveRatingIcon}\n                                onClick={openRatingInformationModalHandle}\n                            />\n                            <Popover \n                                className={classes.popover}\n                                classes={{\n                                    paper: classes.paper,\n                                }}\n                                open={RatingDescriptionDisplayed || false}\n                                anchorEl={RatingAnchorEl} \n                                anchorOrigin={{\n                                    vertical: 'bottom',\n                                    horizontal: 'left',\n                                }}\n                                transformOrigin={{\n                                vertical: 'top',\n                                horizontal: 'left',\n                                }}\n                                onClose={onLeaveRatingIcon}\n                                disableRestoreFocus\n                            >\n                                <HoverBox>{requestTranslation('InfoIconHover')} </HoverBox>\n                            </Popover> \n                            <InformationModal \n                                    InfoModalHeader={requestTranslation('RatingTool')}\n                                    InfoModalNote={requestTranslation('InfoModalRatingNote')}\n                                    InfoModalOpen={openRatingInformationModal}\n                                    InfoModalClose={closeRatingInformationModalHandle}\n                                    LearnMoreBtn={requestTranslation('LearnMoreRatingBtn')}\n                                    GuideBtn={requestTranslation('GuideRatingBtn')}\n                                    LearnMoreLink='https://info.futuresplatform.com/hub/how-to-rate/'\n                                    GuideLink='https://info.futuresplatform.com/hub/most-commonly-used-axis-for-rating/'\n                                    InfoModalDescription={requestTranslation('InfoModalRatingContent')}\n                                    InfoModalDescription2={requestTranslation('InfoModalRatingContent2')}\n                                    InfoModalDescription3={requestTranslation('InfoModalRatingContent3')}\n                                    InfoModalDescription4={requestTranslation('InfoModalRatingContent4')}\n                                    InfoModalDescription5={requestTranslation('InfoModalRatingContent5')}\n                                />\n                        </div>\n                        <SpaceBetween>\n                            <p>\n                                {requestTranslation('createFormRatingDescription')}\n                            </p>\n                            <Toggle \n                                    icons={false}\n                                    checked={ratingsOn}\n                                    defaultChecked={ratingsOn}\n                                    onChange={this.handleRatingsOnChange}\n                            />\n                        </SpaceBetween>\n                        {/* <SpaceBetween> */}\n                            {/* <p style={{marginTop: '12px'}}>{requestTranslation('IntructionsForNamingAxis')}</p> */}\n                        {/* </SpaceBetween> */}\n                    </CustomHalfWidth>\n                    \n\n                    {ratingsOn && (\n                    <FullWidthBgContainer ref={this.editorMode} style={{ paddingTop: 0, paddingRight: 0, paddingLeft: 0 }}>\n                        <SpaceBetween>\n                            <HalfWidth>\n                                <h4>\n                                    {requestTranslation('verticalAxis')}\n                                </h4>\n                                <Columns>\n                                    <Column>\n                                        <Select\n                                            placeholder={requestTranslation('selectValue')}\n                                            searchable={false}\n                                            name='group'\n                                            className= {`${styles['custom-react-select-margin-bottom-att']}` }\n                                            onChange={handleDisplayVericalAxisRatingChange}\n                                            value={inputVerticalAxisValue}\n                                            options={mockData.map(i => ({\n                                                label: i.label, value: i.title\n                                            }))}\n                                            clearable={false}\n                                        />\n                                    </Column>\n                                </Columns>   \n                            </HalfWidth>\n                            <HalfWidth>\n                                <h4>\n                                    {requestTranslation('horizontalAxis')}\n                                </h4>\n                                <Columns>\n                                    <Column>\n                                        <Select\n                                            placeholder={requestTranslation('selectValue')}\n                                            searchable={false}\n                                            name='group'\n                                            className= {`${styles['custom-react-select-margin-bottom-att']}` }\n                                            value={inputHorozoltalAxisValue}\n                                            onChange={handleDisplayHorizontalAxisRatingChange}\n                                            options={mockData.map(i => ({\n                                                label: i.label, value: i.title\n                                            }))}\n                                            clearable={false}\n                                        />\n                                    </Column>\n                                </Columns>\n                            </HalfWidth>\n                        </SpaceBetween>\n                    </FullWidthBgContainer>\n                )}\n\n                {ratingsOn && (\n                    <FullWidthBgContainer \n                        \n                        style={{ paddingTop: 0, paddingRight: 0, paddingLeft: 0 }}> \n                        <RatingSummaryPreview\n                                    // bottomHeader = 'Preview for rating result and summary view'\n                                    containerWidth = {+this.state.widthContentWidth - 50 - 16 + 32}\n                                    containerHeight = {+this.state.widthContentWidth * 0.60}\n                                    // containerWidth = {320}\n                                    // containerHeight = {200}\n                                    topLeft = {fourFieldsTopLeft}\n                                    topRight = {fourFieldsTopRight}\n                                    bottomLeft = {fourFieldsBottomLeft}\n                                    bottomRight = {fourFieldsBottomRight}\n                                    horizontalAxisName = {axisXTitle}\n                                    leftEnd = {axisXMin}\n                                    rightEnd = {axisXMax}\n                                    verticalAxisName = {axisYTitle}\n                                    topEnd = {axisYMax}\n                                    lowEnd = {axisYMin}\n                                />\n                        <RatingGroupBtn style={{marginTop: '62px'}}>\n                            <RatingHandleBtnGroup>\n                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={openClearAllFieldsModal} >{requestTranslation('clearAllFieldsBtn')}</HandleRatingsBtn>\n                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={handleFlipHorizontalAndVerticalChange}>{requestTranslation('FlipHorizontalVertical')}</HandleRatingsBtn>\n                                <HandleRatingsBtn className=\"btn btn-outline-secondary\" onClick={openRatingModalEditModeModal} >{requestTranslation('editManuallyBtn')}</HandleRatingsBtn>\n                            </RatingHandleBtnGroup>\n                        </RatingGroupBtn>\n                        <ConfirmationModalForRatings \n                            ConfirmationModalNote= 'Are you sure to clear all fields?'\n                            confirmationModal= {this.state.openClearAllFields}\n                            confirmationModalClose = {closeClearAllFieldsModal}\n                            confirmationModalHandleBtn = {clearAllFieldsBtn}\n                        />\n                        <RatingModalPreviewEditMode \n                            isRatingPreviewEditOpen={openRatingModalEditMode}\n                            handleRatingOff={handleRatingOffParantComp}\n                            ratingsOn={this.state.ratingsOn}\n                            axisXTitle={axisXTitle}\n                            axisXMin={axisXMin}\n                            axisXMax={axisXMax}\n                            axisYTitle={axisYTitle}\n                            axisYMin={axisYMin}\n                            axisYMax={axisYMax}\n                            fourFieldsTopLeft={fourFieldsTopLeft}\n                            fourFieldsTopRight={fourFieldsTopRight}\n                            fourFieldsBottomLeft={fourFieldsBottomLeft}\n                            fourFieldsBottomRight={fourFieldsBottomRight}\n                            axisYSelect={inputVerticalAxisValue}\n                            axisXSelect={inputHorozoltalAxisValue}\n                            RatingAnchorEl={RatingAnchorEl}\n                            RatingDescriptionDisplayed={RatingDescriptionDisplayed}\n                            openClearAllFields={this.state.openClearAllFields}\n                            widthContentWidth={+this.state.widthContentWidth  -(16 + 12) - (16 + 8) -16}\n                            onHoverRatingIcon={onHoverRatingIcon}\n                            onLeaveRatingIcon={onLeaveRatingIcon}\n                            handleDisplayVericalAxisRatingChange={handleDisplayVericalAxisRatingChange}\n                            handleDisplayHorizontalAxisRatingChange={handleDisplayHorizontalAxisRatingChange}\n                            handleFlipHorizontalAndVerticalChange={handleFlipHorizontalAndVerticalChange}\n                            openClearAllFieldsModal={openClearAllFieldsModal}\n                            closeClearAllFieldsModal={closeClearAllFieldsModal}\n                            clearAllFieldsBtn={clearAllFieldsBtn}\n                            handleRatingsOnChange={this.handleRatingsOnChange}\n                            handleRatingPreviewEditModeClose={closeRatingModalEditModeModal}\n                            passCheckedCustomData={receiveCheckedCustomData}\n                            emitFlagToRefetchDataOfChart={handleEmitFlagToRefetchDataOfChart}\n                            handleUpdateStateWhenClickedDoneBtnInCreateRadarForm={handleUpdateStateWhenClickedDoneBtnInCreateRadarForm}\n                            isCustomVerticalProp={this.state.isCustomVertical}\n                            isCustomHorozontalProp={this.state.isCustomHorozol}\n                        />\n                    </FullWidthBgContainer>\n                )}\n                </div>\n     \n                \n\n                <div className='modal-form-section'>\n                    <SpaceBetween>\n                        <CustomHalfWidth>\n                            <div style={{display: 'flex'}}>\n                                <h3>\n                                    {requestTranslation('commenting')}\n                                </h3>\n                                <InformationIcon \n                                    background={false}\n                                    onMouseEnter={onHoverCommentingIcon}\n                                    onMouseLeave={onLeaveCommentingIcon}\n                                    onClick={openCommentingInformationModalHandle}\n                                />\n                                <Popover \n                                    className={classes.popover}\n                                    classes={{\n                                        paper: classes.paper,\n                                    }}\n                                    open={CommentingDescriptionDisplayed || false}\n                                    anchorEl={CommentingAnchorEl} \n                                    anchorOrigin={{\n                                        vertical: 'bottom',\n                                        horizontal: 'left',\n                                    }}\n                                    transformOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'left',\n                                    }}\n                                    onClose={onLeaveCommentingIcon}\n                                    disableRestoreFocus\n                                >\n                                    <HoverBox>{requestTranslation('InfoIconHover')}</HoverBox>\n                                </Popover>\n                                <InformationModal \n                                    InfoModalHeader={requestTranslation('CommentingTool')}\n                                    InfoModalNote={requestTranslation('InfoModalCommentingNote')}\n                                    InfoModalOpen={openCommentingInformationModal}\n                                    InfoModalClose={closeCommentingInformationModalHandle}\n                                    LearnMoreBtn={requestTranslation('LearnMoreCommentingBtn')}\n                                    GuideBtn={requestTranslation('GuideCommentingBtn')}\n                                    LearnMoreLink='https://info.futuresplatform.com/hub/how-to-comment/'\n                                    GuideLink='https://info.futuresplatform.com/hub/how-to-organise-commenting/'\n                                    InfoModalDescription={requestTranslation('InfoModalCommentingContent')}\n                                    InfoModalDescription2={requestTranslation('InfoModalCommentingContent2')}\n                                    InfoModalDescription3={requestTranslation('InfoModalCommentingContent3')}\n                                />\n                            </div>\n                            <SpaceBetween>\n                                <p style={{marginRight:'30px'}}>\n                                    {requestTranslation('createFormCommentingDescription')}\n                                </p>\n                                <Toggle\n                                    icons={false}\n                                    defaultChecked={commentsOn}\n                                    onChange={this.handleCommentsOnChange}\n                                />\n                            </SpaceBetween>\n                            {commentsOn && \n                                <SpaceBetween style={{ marginTop: '15px' }}>\n                                    <p style={{marginRight:'30px'}}>\n                                        {requestTranslation('allowLikeCommenting')}\n                                    </p>\n                                    <Toggle icons={false}\n                                            defaultChecked={likingOn}\n                                            onChange={this.handleLikingOnChange}\n                                    />\n                                </SpaceBetween>\n                            }\n                            \n                        </CustomHalfWidth>\n                        {commentsOn && COMMENT_TOPICS_ENABLED && (\n                            <HalfWidth>\n                                <h4>\n                                    {requestTranslation('commentTopics')}\n                                </h4>\n                                <div>\n                                    {commentTopics.map(({ label, checked }, index) => (\n                                        <Checkbox key={index}\n                                                  blue\n                                                  label={label}\n                                                  checked={checked}\n                                                  onChange={() =>\n                                                      this.handleTopicChange(label, !checked)\n                                                  }/>\n                                    ))}\n                                </div>\n                            </HalfWidth>\n                        )}\n                    </SpaceBetween>\n                </div>\n                <div className='modal-form-section'>\n                        {/* <SpaceBetween> */}\n                            <div>\n                                <div style={{display: 'flex'}}>\n                                    <h3 className='mb-0'>\n                                        {requestTranslation('discussion')}\n                                    </h3>\n                                    <InformationIcon \n                                        background={true}\n                                        onMouseEnter={onHoverDiscussionIcon}\n                                        onMouseLeave={onLeaveDiscussionIcon}\n                                        onClick={openDiscussionInformationModalHandle}\n                                    />\n                                    <Popover \n                                        className={classes.popover}\n                                        classes={{\n                                            paper: classes.paper,\n                                        }}\n                                        open={DiscussionDescriptionDisplayed || false}\n                                        anchorEl={DiscussionAnchorEl} \n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'left',\n                                        }}\n                                        transformOrigin={{\n                                        vertical: 'top',\n                                        horizontal: 'left',\n                                        }}\n                                        onClose={onLeaveDiscussionIcon}\n                                        disableRestoreFocus\n                                    >\n                                        <HoverBox>{requestTranslation('InfoIconHover')}</HoverBox>\n                                    </Popover>\n                                    <InformationModal \n                                        InfoModalHeader={requestTranslation('discussion')}\n                                        InfoModalNote={requestTranslation('InfoModalDiscussionNote')}\n                                        InfoModalOpen={openDiscussionInformationModal}\n                                        InfoModalClose={closeDiscussionInformationModalHandle}\n                                        LearnMoreBtn={requestTranslation('LearnMoreDiscussionBtn')}\n                                        GuideBtn={requestTranslation('GuideDiscussionBtn')}\n                                        LearnMoreLink='https://info.futuresplatform.com/hub/how-to-discuss/'\n                                        GuideLink='https://info.futuresplatform.com/hub/how-to-organise-discussion/'\n                                        InfoModalDescription={requestTranslation('InfoModalDiscussionContent')}\n                                        InfoModalDescription2={requestTranslation('InfoModalDiscussionContent2')}\n                                        InfoModalDescription3={requestTranslation('InfoModalDiscussionContent3')}\n                                    />\n                                </div>\n                                <CustomHalfWidth>\n                                    <SpaceBetween>\n                                        <p style={{marginRight: '30px'}}>{requestTranslation('createFormDiscussionDescription')}</p>\n                                        <Toggle icons={false}\n                                                defaultChecked={discussionOn}\n                                                onChange={this.handleDiscussionOnChange}\n                                        />\n                                    </SpaceBetween>\n                                </CustomHalfWidth>\n                            </div>\n                        {/* </SpaceBetween> */}\n                </div>\n            </div>\n        )\n    }\n\n    renderFieldError(field, props = {}) {\n        const { errors } = this.state\n\n        const hasError = errors.length > 0 && errors.indexOf(field) >= 0\n        return hasError && (\n            <FieldError {...props}>\n                {requestTranslation(`radar-error-${field}`)}\n            </FieldError>\n        )\n    }\n\n    renderHeaderAndLanguageForm() {\n        const { radarName, radarLanguage, group } = this.state\n        const { groups, id } = this.props\n\n        return (\n            <div className='modal-form-sections'>\n                <div className='modal-form-section modal-form-header'>\n                    <h2>\n                        {requestTranslation('headerTitle')}\n                    </h2>\n                </div>\n                <div className='modal-form-section'>\n                    <h3>\n                        {requestTranslation('header')}\n                    </h3>\n                    <div className='form-group'>\n                        <Input type={'text'}\n                               value={radarName}\n                               onChange={this.handleRadarNameChange}\n                               style={{ maxWidth: '300px', display: 'inline-block' }}\n                        />\n                        {this.renderFieldError('radarName')}\n                    </div>\n                </div>\n                <div className='modal-form-section lightgray-bg'>\n                    <h3>\n                        {requestTranslation('group')}\n                    </h3>\n                    {!id && (\n                        <div className='form-group'>\n                            <p>\n                                {requestTranslation('groupAvailabilityText')}\n                            </p>\n                            <SelectWrapper>\n                                <Select searchable={false}\n                                        name='group'\n                                        className='fp-radar-select'\n                                        value={group}\n                                        onChange={this.handleGroupChange}\n                                        options={groups}\n                                        clearable={false}\n                                />\n                            </SelectWrapper>\n                            {this.renderFieldError('group', { select: true })}\n                        </div>\n                    )}\n                    {id && (\n                        <p>\n                            {requestTranslation('groupAvailability')} {group.title}\n                        </p>\n                    )}\n                </div>\n                {!id && (\n                    <div className='modal-form-section pb-0'>\n                        <h3>\n                            {requestTranslation('language')}\n                        </h3>\n                        <p>\n                            {requestTranslation('languageAvailability')}\n                        </p>\n                        <Select searchable={false}\n                                name='language'\n                                className='fp-radar-select'\n                                value={radarLanguage || radarLanguages()[0]}\n                                onChange={this.handleRadarLanguageChange}\n                                options={radarLanguages()}\n                                clearable={false}\n                                placeholder={requestTranslation('select').toLowerCase() + '...'}\n                        />\n                    </div>\n                )}\n            </div>\n        )\n    }\n\n    renderConclusionForm = () => {\n        const { mapIntro } = this.state\n\n        return (\n            <div className='modal-form-sections'>\n                <div className='modal-form-section modal-form-header'>\n                    <h2>\n                        {requestTranslation('conclusions')}\n                    </h2>\n                </div>\n                <div className='modal-form-section'>\n                    <ReactQuill\n                        className='fp-wysiwyg'\n                        style={{\n                            height: '250px',\n                            paddingBottom: '42px'\n                        }}\n                        modules={customQuillModules}\n                        formats={formats}\n                        value={mapIntro ? mapIntro : ''}\n                        onChange={this.handleMapIntroChange}\n                    />\n                </div>\n            </div>\n        )\n    }\n\n    renderBasicSettingsForm = () => {\n        const { phenomenaSet, hideUsersFromTrial, radarImage, imageUrl, group, radarTitleImage } = this.state\n        const { radarSets, id, groups, radarTitleImage: propsRadarTitleImage } = this.props\n        // TODO: check why group can be either just an id, or an object with id key, drupal ??\n        const renderTitleLogoInput = _.find(groups, ({ value }) => Number(value) === (Number(group) || Number(group.id)))\n\n        return (\n            <div className='modal-form-sections'>\n                <div className='modal-form-section modal-form-header'>\n                    <h2>\n                        {requestTranslation('basicSettings')}\n                    </h2>\n                </div>\n                {!id && (\n                    <div className='modal-form-section'>\n                        <h3>\n                            {requestTranslation('selectPhenomenaSet')}\n                        </h3>\n                        <Select searchable={false}\n                                name='phenomena-set'\n                                className='fp-radar-select fp-radar-select-hizindex fp-radar-select--no-margin'\n                                value={phenomenaSet}\n                                onChange={this.handlePhenomenaSetChange}\n                                options={radarSets}\n                                clearable={false}\n                        />\n                    </div>\n                )}\n                <div className='modal-form-section'>\n                    <h3>\n                        {renderTitleLogoInput && renderTitleLogoInput.radarLogoEnabled\n                            ? requestTranslation('selectRadarTitleImage') : requestTranslation('selectRadarImage')}\n                    </h3>\n                    <div className='form-group'>\n                        <div className='d-flex w-100 justify-content-between'>\n                            <SelectImageContainer>\n                                {!(radarImage || imageUrl) && requestTranslation('noImageSelected')}\n                                {(radarImage || imageUrl) && (\n                                    <RadarImageContainer>\n                                        <RadarImage src={imageUrl || radarImage}/>\n                                        <RadarImageCloseContainer onClick={this.handleImageDelete}>\n                                            <RadarImageClose className='material-icons'>close</RadarImageClose>\n                                        </RadarImageCloseContainer>\n                                    </RadarImageContainer>\n                                )}\n                                <SelectImageInputContainer>\n                                    <SelectImageInput type='file'\n                                                      accept='image/*'\n                                                      onChange={this.handleImageSelect}\n                                                      placeholder='SELECT'\n                                                      onClick={event => {\n                                                        event.target.value = null\n                                                    }}\n                                    />\n                                    <SelectImageButton className='btn btn-sm btn-outline-secondary'>\n                                        {requestTranslation('select')}\n                                    </SelectImageButton>\n                                </SelectImageInputContainer>\n                            </SelectImageContainer>\n                            {renderTitleLogoInput && renderTitleLogoInput.radarLogoEnabled ? (\n                                <SelectImageContainer>\n                                    {!(radarTitleImage || propsRadarTitleImage) && requestTranslation('noImageSelected')}\n                                    {(radarTitleImage || propsRadarTitleImage) && (\n                                        <RadarImageContainer>\n                                            <RadarTitleImage src={radarTitleImage || propsRadarTitleImage}/>\n                                            <RadarImageCloseContainer onClick={this.handleTitleImageDelete}>\n                                                <RadarImageClose className='material-icons'>close</RadarImageClose>\n                                            </RadarImageCloseContainer>\n                                        </RadarImageContainer>\n                                    )}\n                                    <SelectImageInputContainer>\n                                        <SelectImageInput type='file'\n                                                          accept='image/*'\n                                                          onChange={this.handleTitleImageSelect}\n                                                          placeholder='SELECT'\n                                                          onClick={event => {\n                                                            event.target.value = null\n                                                        }}\n                                        />\n                                        <SelectImageButton className='btn btn-sm btn-outline-secondary'>\n                                            {requestTranslation('select')}\n                                        </SelectImageButton>\n                                    </SelectImageInputContainer>\n                                </SelectImageContainer>\n                            ) : null}\n                        </div>\n                        <p className='description'>\n                            {requestTranslation('radarImageText')}\n                        </p>\n                    </div>\n                </div>\n                <div className={classNames('modal-form-section', { 'pb-0': !id })}>\n                    <h3>\n                        {requestTranslation('hideUserList')}\n                    </h3>\n                    <div className={classNames('form-group', { 'pb-0': !id })}>\n                        <Checkbox whiteBg\n                                  label={requestTranslation('hideUserListLabel')}\n                                  checked={hideUsersFromTrial}\n                                  onChange={this.handleHideUsersFromTrialClick}\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderFormPage = () => {\n        const { addRadarFormPage } = this.props\n\n        switch (addRadarFormPage) {\n            case PAGE_CONCLUSIONS:\n                return this.renderConclusionForm()\n            case PAGE_BASIC_SETTINGS:\n                return this.renderBasicSettingsForm()\n            case PAGE_USER_OPTIONS:\n                return this.renderUserOptionsForm()\n            default:\n                return this.renderHeaderAndLanguageForm()\n        }\n    }\n\n    renderNextButton() {\n        const { errors } = this.state\n        const { loading, existingRadarPage } = this.props\n\n        const disabled = errors.length || loading.length\n        const phrase = existingRadarPage ? 'save' : 'next'\n\n        return (\n            <button disabled={disabled}\n                        className={'btn btn-lg btn-primary'}\n                        onClick={this.handleNextClick}>\n                {requestTranslation(phrase)}\n            </button>\n        )\n    }\n\n    renderCancelButton() {\n        const { addRadarFormPage, existingRadarPage } = this.props\n        const firstPage = addRadarFormPage === PAGE_HEADER_AND_LANGUAGE\n        const phrase = existingRadarPage || firstPage ? 'cancel' : 'back'\n        const onClick = firstPage ? this.redirectUser : this.handleBackClick\n\n        return (\n            <button className='btn btn-lg btn-plain-gray'\n                          onClick={existingRadarPage ? this.handleCloseClick : onClick}>\n                {requestTranslation(phrase)}\n            </button>\n        )\n    }\n\n    renderPagination() {\n        const { addRadarFormPage, isCollaborationToolsAllowed } = this.props\n        const { group: groupId } = this.state\n        return (\n            <Pagination>\n                <PaginationLine />\n                <PaginationNumber active={addRadarFormPage === PAGE_HEADER_AND_LANGUAGE}>\n                    1\n                </PaginationNumber>\n                <PaginationNumber active={addRadarFormPage === PAGE_BASIC_SETTINGS}>\n                    2\n                </PaginationNumber>\n                {isCollaborationToolsAllowed(groupId) && <PaginationNumber active={addRadarFormPage === PAGE_USER_OPTIONS}>\n                    3\n                </PaginationNumber>}\n            </Pagination>\n        )\n    }\n\n    render() {\n        const { existingRadarPage, loading } = this.props\n\n        return (\n            <div>\n                {this.renderFormPage()}\n                <div className='modal-form-section modal-form-actions'>\n                    <div>\n                        {this.renderCancelButton()}\n                        {this.renderNextButton()}\n                    </div>\n                </div>\n                <Loading shown={loading.length} color={'black'} />\n                {!existingRadarPage && this.renderPagination()}\n            </div>\n        )\n    }\n}\nexport default withStyles(useStyles)(CreateRadarForm)\n\nconst SelectWrapper = styled.div`\n    display: inline-block;\n    margin-right: 15px;\n`\n\nconst FieldError = styled.div`\n    margin-top: ${({ select }) => select ? '7px' : '0'};\n    display: ${({ select }) => select ? 'block' : 'inline-block'};\n    clear: right;\n    color: red;\n`\n\nconst Pagination = styled.div`\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    display: flex;\n    width: 100px;\n    justify-content: space-between;\n`\n\nconst PaginationLine = styled.div`\n    width: 100%;\n    height: 1px;\n    background: gray;\n    position: absolute;\n    top: 50%;\n    z-index: 1;\n`\n\nconst PaginationNumber = styled.div`\n    width: 23px;\n    height: 23px;\n    border-radius: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n    padding-top: 0px;\n    font-size: 13px;\n    box-sizing: border-box;\n    z-index: 10;\n    background: ${props => props.active ? '#006998' : 'gray'};\n`\n\nconst Input = styled.input`\n    width: 300px;\n    background: transparent;\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    margin-right: 15px;\n    font-size: 16px;\n    padding-left: 20px;\n    height: 45px;\n    border-radius: 1px;\n    box-sizing: border-box;\n`\n\nconst FullWidthBgContainer = styled.div`\n    width: 100%;\n    background-color: #f1f3f3;\n    box-sizing: border-box;\n    padding: 30px 50px;\n    &:after {\n      content: \"\";\n      display: table;\n      clear: both;\n    }\n`\n\nconst SelectImageInputContainer = styled.div`\n    position: relative;\n    width: 100px;\n    height: 40px;\n    margin-left: 20px;\n`\n\nconst SelectImageInput = styled.input`\n    z-index: 20;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    background: transparent;\n    position: absolute;\n    top: 0;\n    left: 0;\n    &:hover {\n        cursor: pointer;\n    }\n`\n\nconst SelectImageButton = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100px;\n    height: 40px;\n    border: 1px solid #006998;\n    color: #006998;\n    border-radius: 40px;\n    background: transparent;\n    font-size: 16px;\n    font-weight: 700;\n    &:hover {\n        transition: all 0.4s ease;\n        cursor: pointer;\n        color: white;\n        background-color: #006998;\n    }\n`\n\nconst SelectImageContainer = styled.div`\n    display: flex;\n    margin-bottom: 20px;\n    align-items: center;\n`\n\nconst RadarImage = styled.img`\n    width: 200px;\n    height: 200px;\n    border-radius: 50%;\n    object-fit: cover;\n    border: 1px solid transparent;\n`\n\nconst RadarTitleImage = styled.img`\n    height: 85px;\n    width: auto;\n    object-fit: contain;\n    border: 1px solid transparent;\n`\n\nconst RadarImageContainer = styled.div`\n    position: relative;\n    background-color: rgba(0,0,0, 0.1);\n`\n\nconst RadarImageCloseContainer = styled.div`\n    position: absolute;\n    top: -15px;\n    right: -15px;\n    border-radius: 50%;\n    background-color: #f1f3f3;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 30px;\n    height: 30px;\n    border: 1px solid gray;\n    &:hover {\n        cursor: pointer;\n    }\n`\n\nconst RadarImageClose = styled.i`\n    /*color: gray;*/\n    opacity: 0.7;\n`\n\nconst breakpoint = '767px'\nconst CustomHalfWidth = styled.div`\n@media (min-width: ${breakpoint}) {\n    width: 80%;\n    display: flex;\n    flex-direction: column;\n}\n`\nconst HalfWidth = styled.div`\n    @media (min-width: ${breakpoint}) {\n        width: 45%;\n        display: flex;\n        flex-direction: column;\n    }\n`\n\nconst SpaceBetween = styled.div`\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        flex-direction: row;\n    }\n`\n\nconst RatingGroupBtn = styled.div`\ndisplay: flex;\nflex-direction: column;\n\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n        justify-content: space-between;\n        // align-items: flex-start;\n        flex-direction: row;\n    }\n`\n\n\nconst Label = styled.label`\n    white-space: nowrap;\n`\n\nconst columnPadding = 10\nconst Columns = styled.div`\n    width: ${({ width }) => width ? width : 'auto'};\n    display: flex;\n    margin: 0 -${columnPadding}px 10px -${columnPadding}px;\n`\n\nconst Column = styled.div`\n    flex: 1 1 ${({ width }) => width ? width : '0%'};\n    padding: 0 ${columnPadding}px;\n`\nconst InformationIcon = styled(InfoCircle)`\n    background-color: ${props => props.background ? '#f1f3f3': 'white'};\n    color: black;\n    width: 18px;\n    height: 18px;\n    margin-top: 4px;\n    margin-left: 18px;\n    &:hover {\n        cursor: pointer;\n    }\n`\n\nconst DisplayFlex = styled.div`\n    @media (min-width: ${breakpoint}) {\n        display: flex;\n    }\n`\n\nconst UpVotesWrapper = styled.div`\n    margin-top: 20px;\n    @media (min-width: ${breakpoint}) {\n        width: 100%;\n    }\n`\nconst HoverBox = styled.p`\n    display: flex;\n    flex-wrap: wrap;\n    width: fit-content;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    margin: auto; \n`\nconst HandleRatingsBtn = styled.button`\n&:hover {\n    background: #006998 !important;\n    color: white !important;\n}\n\nmargin-bottom: 10px;\n\n    \n`\n\nconst RatingHandleBtnGroup = styled.div`\ndisplay: flex;\nflex-direction: column;\n\n    @media (min-width: ${breakpoint}) {\n        width: 83%;\n        display: flex;\n        justify-content: space-between;\n        flex-direction: row;\n    }   \n\n`\n","import { connect } from 'react-redux'\nimport { compose, bindActionCreators } from 'redux'\nimport { createSelector } from 'reselect'\nimport { getCurrentLanguage } from '@sangre-fp/i18n'\nimport { isCollaborationToolsAllowed } from '../selectors'\nimport CreateRadarForm from '../components/CreateRadarForm'\nimport filter from 'lodash/filter'\nimport includes from 'lodash/includes'\nimport {\n    changeAddRadarFormVisibility,\n    changeRadarName,\n    changeMapIntro,\n    changeRadarLanguage,\n    changeAddRadarFormPage,\n    changePhenomenaSet,\n    changeHideUsersFromTrial,\n    changeRadarImage,\n    changeVotingOn,\n    changeRatingsOn,\n    changeRatingsSettings,\n    changeDiscussionOn,\n    changeCommentsOn,\n    changeLikingOn,\n    changeVotingUp,\n    createRadar,\n    changeRadarGroup,\n    updateRadar,\n    getRadarSets,\n    getUserGroups,\n    changeDisplayHaloWhenRating,\n    changeRadarTitleImage\n} from '../actions/radarSettings'\n\n\nconst getStateRadarSets = state => state.radarSets\n\n// sets for both languages have language set to 'und'\nconst LANGUAGE_UNDEFINED = 'und'\n\nconst getRadarSetsByLanguage = createSelector(\n    [getCurrentLanguage, getStateRadarSets],\n    (language, radarSets) => filter(\n        radarSets,\n        radarSet => includes([language, LANGUAGE_UNDEFINED], radarSet.language)\n    )\n)\n\nconst mapStateToProps = state => {\n    const {\n        radarSettings,\n        loading\n    } = state\n\n    const radarSets = getRadarSetsByLanguage(state)\n    return {\n        ...radarSettings,\n        radarSets,\n        loading,\n        isCollaborationToolsAllowed: isCollaborationToolsAllowed(state)\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return bindActionCreators({\n        changeDisplayHaloWhenRating,\n        changeAddRadarFormVisibility,\n        changeRadarName,\n        changeMapIntro,\n        changeRadarLanguage,\n        changeAddRadarFormPage,\n        changePhenomenaSet,\n        changeHideUsersFromTrial,\n        changeRadarImage,\n        changeVotingOn,\n        changeRatingsOn,\n        changeRatingsSettings,\n        changeDiscussionOn,\n        changeCommentsOn,\n        changeLikingOn,\n        changeVotingUp,\n        createRadar,\n        changeRadarGroup,\n        updateRadar,\n        getUserGroups,\n        getRadarSets,\n        changeRadarTitleImage\n    }, dispatch)\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps)\n)(CreateRadarForm)\n","import { connect } from 'react-redux'\nimport { PhenomenaSelector } from '@sangre-fp/content-editor'\n\nexport default connect(\n    state => {\n        const {\n            phenomena,\n            radarSettings: {\n                group\n            }\n        } = state\n\n        return {\n            phenomena,\n            group\n        }\n    }\n)(PhenomenaSelector)\n","import React, { PureComponent } from 'react'\nimport * as d3 from 'd3'\nimport Draggable from 'react-draggable'\nimport PhenomenaSelector from '../containers/SandboxPhenomenaSelectorContainer'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { ListContainer, modalStyles, ListClose, CloseIcon, BorderTitleContainer as Container, Modal } from '@sangre-fp/ui'\nimport { PhenomenonEditForm } from \"@sangre-fp/content-editor\"\n\nexport default class AddPhenomenaSandbox extends PureComponent {\n    state = {\n        createModalShown: false,\n        filtersShown: false,\n        resetFilters: 0\n    }\n\n    componentDidMount() {\n        const { updateMouseCoords } = this.props\n        const sandbox = d3.select('.add-phenomena-to-radar')\n\n        sandbox\n            .on('mousemove', updateMouseCoords)\n            .on('touchstart', updateMouseCoords)\n            .on('touchmove', updateMouseCoords)\n    }\n\n    successfullyCreatedCallback = phenomenon => {\n        const { onPhenomenaDrag } = this.props\n\n        onPhenomenaDrag(false, phenomenon, true)\n    }\n\n    handlePhenomenaSelection = selectedPhenomena => this.setState({ selectedPhenomena })\n    handleCreateNew = () => this.setState({ createModalShown: true })\n\n    handleAdd = phenomenon => {\n        const { addPublicPhenomenaToRadar } = this.props\n\n        addPublicPhenomenaToRadar(phenomenon, this.successfullyCreatedCallback)\n    }\n\n    hideAddForm = () => this.setState({ createModalShown: false })\n    bumpResetFilters = () => this.setState({ resetFilters: this.state.resetFilters + 1 })\n\n    renderCreateModal() {\n        const {\n            changeAddPhenomenaVisibility,\n            storePhenomenon,\n            onPhenomenaDrag,\n            radar\n        } = this.props\n\n        const { createModalShown } = this.state\n\n        return (\n            <Modal isOpen={createModalShown}\n                   contentLabel={'Create phenomena'}\n                   style={modalStyles}\n                   ariaHideApp={false}\n                   onRequestClose={this.hideAddForm}\n            >\n                <PhenomenonEditForm\n                    onSubmit={(values, newsFeedChanges) => {\n                        storePhenomenon(values, newsFeedChanges, phenomenon => {\n                            this.hideAddForm()\n                            changeAddPhenomenaVisibility()\n                            onPhenomenaDrag(false, phenomenon, true)\n                        })\n                    }}\n                    onCancel={this.hideAddForm}\n                    onDelete={() => {}}\n                    radar={radar}\n                />\n            </Modal>\n        )\n    }\n\n    render() {\n        const {\n            changeAddPhenomenaVisibility,\n            radarId,\n            language,\n            placing\n        } = this.props\n        const {\n            selectedPhenomena,\n            filtersShown,\n            resetFilters\n        } = this.state\n\n        return (\n            <Draggable handle=\".handle\">\n                <ListContainer\n                    className={'add-phenomena-to-radar'}\n                    style={{\n                        zIndex: placing ? 0 : 1,\n                        opacity: placing ? 0.8 : 1\n                    }}\n                >\n                    <Container className='flex-shrink-0 handle' style={{ cursor: 'move' }}>\n                        <h3 className='radar-widget-title mb-0'>\n                            {requestTranslation('sandboxTitle')}\n                        </h3>\n                    </Container>\n                    <ListClose onClick={changeAddPhenomenaVisibility}>\n                        <CloseIcon className='material-icons'>close</CloseIcon>\n                    </ListClose>\n                    <Container className={'phenomena-list-container'} filtersShown={filtersShown}>\n                        <PhenomenaSelector\n                            radarId={radarId}\n                            language={language}\n                            onSelect={this.handlePhenomenaSelection}\n                            onCreate={this.handleCreateNew}\n                            selectedPhenomena={selectedPhenomena}\n                            onAddToRadarClick={this.handleAdd}\n                            sandbox\n                            filter\n                            filtersShown={filtersShown}\n                            handleFilterChange={() => this.setState({ filtersShown: !filtersShown })}\n                            resetFilters={resetFilters}\n                            bumpResetFilters={this.bumpResetFilters}\n                        />\n                    </Container>\n                    {filtersShown ? (\n                        <Container filtersShown={filtersShown}>\n                            <button className='btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center' onClick={this.bumpResetFilters}>\n                                <i className='material-icons mr-1' style={{ fontSize: '16px' }}>replay</i>\n                                {requestTranslation('resetFilters')}\n                            </button>\n                        </Container>\n                    ) : (\n                        <Container className='d-flex flex-shrink-0'>\n                            <button\n                              onClick={this.handleCreateNew}\n                              className='btn btn-outline-secondary'\n                            >\n                              {requestTranslation(\"addNewPhenomena\")}\n                            </button>\n                            <button className='btn btn-primary ml-auto'\n                                    onClick={changeAddPhenomenaVisibility}>\n                                {requestTranslation('done')}\n                            </button>\n                        </Container>\n                    )}\n                    {this.renderCreateModal()}\n                </ListContainer>\n            </Draggable>\n        )\n    }\n}\n","import 'proxy-polyfill'\nimport radarDataApi from '@sangre-fp/connectors/radar-data-api'\nimport store from './configureStore'\nimport { updateRadarVersion } from './actions/radarData'\n\nconst handler = {\n  get(radarApi, name) {\n    return (...args) => {\n      if (!radarApi.hasOwnProperty(name)) {\n        throw new Error('Invalid call')\n      }\n\n      return radarApi[name](...args)\n        .then(res => {\n          store.dispatch(updateRadarVersion(res.data.radar_version))\n\n          return res.data\n        })\n    }\n  }\n}\n\nconst radarDataApiProxy = new Proxy(radarDataApi, handler)\n\nexport default radarDataApiProxy\n\n","import { getNetworkMethods } from './network'\nimport drupalApi from '@sangre-fp/connectors/drupal-api'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nexport const getPhenomenaTypes = groupId => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.GET_PHENOMENA_TYPES,\n        actionTypes.GET_PHENOMENA_TYPES_SUCCESS,\n        requestTranslation('fetchingPhenomenaTypesError')\n    )\n\n    dispatch(loading())\n\n    return drupalApi.getPhenomenaTypes(groupId)\n        .then(data => dispatch(success(data)))\n        .catch(err => dispatch(error(err)))\n}\n","import axios from 'axios'\nimport { getSessionToken } from '../session'\nconst SCREENSHOT_SERVICE_API_URL = process.env.REACT_APP_SCREENSHOT_SERVICE_API_URL\n\nexport const SCREENSHOT_ENCODING_BINARY='binary'\nexport const SCREENSHOT_ENCODING_BASE64='base64'\n\nexport async function screenshot({ url, selector = null, waitFor = 2000, encoding = SCREENSHOT_ENCODING_BASE64}) {\n  const payload = { url, encoding, waitFor }\n  if (selector) {\n    payload.selector = selector\n  }\n  return axios({\n    method: 'POST',\n    url: `${SCREENSHOT_SERVICE_API_URL}`,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    withCredentials: true,\n    data: payload\n  }).then(({ data }) => data)\n\n}\n\n","import PptxGenJS from 'pptxgenjs'\nimport { requestTranslation as tr } from '@sangre-fp/i18n'\nimport radarDataApi from '@sangre-fp/connectors/radar-data-api'\nimport { getPhenomenaTypes, getRadar } from '@sangre-fp/connectors/drupal-api'\nimport { getUsername } from '@sangre-fp/connectors/session'\nimport htmlToText from 'html-to-text'\nimport { getRadarPhenomena } from '@sangre-fp/connectors/phenomena-api'\nimport { get } from 'lodash'\nimport { screenshot } from '@sangre-fp/connectors/screenshot-service-api'\nexport default async function generatePPTX(radarId, groupId) {\n  const pptx = new PptxGenJS()\n  const username = getUsername()\n  const reportCreatedDate = new Date()\n  const createdDate = reportCreatedDate.toLocaleDateString()\n  const phenomenonTypes = await getPhenomenaTypes(groupId)\n  const phenomenonTypeTitlesById = phenomenonTypes.reduce((obj, { id, title }) => ({ ...obj, [id]: title }), {})\n  const { radarName, results_url: radarResultsUrl, url: radarUrl, phenomena: radarPhenomenaDataById, axisXTitle, axisYTitle, comment_count, ratingsOn, votingOn, discussionOn, commentsOn } = await getRadar(radarId)\n  const { data: { sectors } } = await radarDataApi.getRadar(radarId)\n  const { phenomena: radarPhenomena } = await getRadarPhenomena(radarId, groupId)\n  let phenomena = radarPhenomena.map(p => ({ ...radarPhenomenaDataById[p.id], ...p })).sort(({ time: aTime }, { time: bTime }) => aTime - bTime)\n  pptx.defineLayout({ name: 'FP', width: 13.33, height: 7.5 });\n  pptx.layout = 'FP';\n  pptx.defineSlideMaster({\n    title: \"FP_SLIDE\",\n    // slideNumber: { x: 10, y: 7.8, color: '000000' },\n    objects: [\n      {\n        image: {\n          x: 0.37,\n          y: 7.02,\n          w: 2.17,\n          h: 0.32,\n          data: getFuturesPlatformLogo()\n        },\n      },\n      {\n        text: {\n          text: `${createdDate}  ${tr('pptxReportBy')} ${username}`, options: { x: 4, y: 7.04, w: 9.0, h: 0.3, fontSize:12, align: 'right' }\n        }\n      }\n    ]\n  })\n\n  function addHeading(txt, slide) {\n    slide.addText(txt, { x: 0.4, y: 0.4, fontSize: 18, valign: \"top\", w: 12, h: 0.4 })\n  }\n\n  function addTitle(txt, slide) {\n    slide.addText(txt, { x: 0.4, y: 0.68, fontSize: 25, color: '44546a', bold: true, valign: \"top\", w: 12, h: 0.5 })\n  }\n\n  function addSlide(opts = {}) {\n    return pptx.addSlide(Object.assign({\n      masterName: \"FP_SLIDE\",\n      fontFace: 'Arial',\n      fontSize: 12\n    }, opts))\n  }\n\n  function addCoverSlide() {\n    const slide = addSlide({\n      masterName: undefined\n    })\n    // Radar Title\n    slide.addText(radarName, { x: 0.16, y: 2.57, w: 13, h: 1.63, autoShrink: true, align: 'center', bold: true, fontSize: 50 })\n    // Content Summary Text\n    slide.addText([\n      { text: `${tr('pptxReportTitle')} `, options: { bold: true, breakLine: false } },\n      { text: createdDate, options: { breakLine: false } },\n      { text: ` ${tr('pptxReportBy')} `, options: { bold: true, breakLine: false } },\n      { text: username, options: { breakLine: false } },\n    ], { x: 0.16, y: 4.24, w: 13, h: 2, fontSize: 20, align: 'center', color: '44546a' })\n    slide.addImage({\n      x: 4.7,\n      y: 6.5,\n      w: 3.92,\n      h: 0.59,\n      data: getFuturesPlatformLogo()\n    })\n  }\n\n  async function addPreviewSlide() {\n    const slide = addSlide({ masterName: undefined })\n    try {\n      const { data } = await screenshot({ url: radarUrl, waitFor: 5000 })\n      slide.addImage({\n        data: `image/png;base64,${data}`,\n        x: 0,\n        y: 0,\n        w: 13.33,\n        h: 7.5\n      })\n    } catch (err) {\n      console.error('radar preview screenshot failed')\n    }\n  }\n\n  function addSectorsSlide() {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxSectorListTitle'), slide)\n    slide.addText(sectors.map(({title}) => ({\n      text: title, options: { bullet: true }\n    })), { x: 0.4, y: 1.2, fontSize: 15, lineSpacing: 25, valign:\"top\", w: 12, h: 5 })\n  }\n\n  function addSectorSummarySlide({ title, notes }) {\n    const slide = addSlide()\n    addHeading(tr('pptxSector').toUpperCase(), slide)\n    addTitle(title, slide)\n    slide.addText(toText(notes), { x: 0.4, y: 1.2, w: 11.5, h: 6, fontSize: 12, isTextBox: true, shrinkText: true, valign: 'top' })\n  }\n\n  function addSectorContent(id, title, phenomena) {\n    const slide = addSlide()\n    addHeading(tr('pptxSectorContent').toUpperCase(), slide)\n    addTitle(title, slide)\n    let xOffset = 0\n    // TODO: Replace time with crowdsourced\n    phenomena.forEach(({ content: { short_title, type, summary, time_range }, time }) => {\n      const yearMin = time_range?.min\n      const yearMax = time_range?.max\n      let timeRangeStr = ''\n      if (yearMin ||yearMax) {\n        timeRangeStr = `${yearMin}-${yearMax}`\n      }\n\n      slide.addText(short_title, { x: 0.4 + xOffset, y: 1.2, w: 3.9, h: 0.3, isTextBox: true, shrinkText: true, bold: true, fontSize: 15 })\n      slide.addText(`${phenomenonTypeTitlesById[type]} ${timeRangeStr}`, { x: 0.4 + xOffset, y: 1.4, w: 3.9, h: 0.3, shrinkText: true, fontSize: 10 })\n      slide.addText(`${tr('pptxTimestamp')}: ${Math.trunc(time) ||'-'}`, { x: 0.4 + xOffset, y: 1.6, w: 3.9,  h: 0.3, shrinkText: true, fontSize: 10 })\n      slide.addText(toText(summary), { x: 0.4 + xOffset, y: 1.9, w: 3.9, h: 5, isTextBox: true, shrinkText: true, valign: 'top', fontSize: 12 })\n      xOffset += 4\n    })\n\n  }\n\n  function addTopVotedContentSlide(phenomena, pageNum, totalCount) {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxTopVotedContent'), slide)\n    const rows = phenomena.map(({ content: { short_title, type }, vote_sum }) => (\n      [\n        { text: short_title, options: { bold: true } },\n        { text: `${phenomenonTypeTitlesById[type]}` },\n        { text: typeof vote_sum === 'number' ? vote_sum : '-' }\n      ]\n    ))\n    slide.addTable(rows, { x: 0.5, y: 1.3, w: 12, h: 5, colW: [8, 1.5, 1.5], valign: 'top' })\n  }\n\n  async function addRatedContentImageSlide() {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxRatedContent'), slide)\n\n    try {\n      const { data } = await screenshot({ waitFor: 5000, url: `${radarResultsUrl}?tab=1`, selector: 'div.rating-results-diagram' })\n      slide.addImage({\n        data: `image/png;base64,${data}`,\n        x: 0.4,\n        y: 1.4,\n        w: 7.1,\n        h: 5.3\n      })\n    } catch (err) {\n      console.error('rating results diagram screenshot failed')\n    }\n  }\n\n  function addRatedContentAxisSlide(xPhenomena, yPhenomena) {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxRatedContent'), slide)\n\n    let xOffset = 0.4;\n    [xPhenomena, yPhenomena].forEach(({ title, axis, phenomena }) => {\n      slide.addText(title, { x: xOffset, y: 1.4, fontSize: 18, w: 13, h: 0.35, bold: true })\n      const rows = phenomena.map(({ content: { short_title, type }, rating_avg }) => {\n        return [\n          { text: short_title, options: { bold: true } },\n          { text: `${phenomenonTypeTitlesById[type]}` },\n          { text: rating_avg && typeof rating_avg[axis] === 'number' ? (rating_avg[axis] / 100).toFixed(2) : '-' }\n        ]\n\n        }\n      )\n      if (rows.length > 0) {\n        slide.addTable(rows, { x: xOffset, y: 2, w: 5.5, h: 4.7, colW: [3.5, 1.5, 0.5], valign: 'top' })\n      }\n      xOffset += 6.8\n    })\n  }\n\n  function addCommentSummarySlide() {\n    const slide = addSlide()\n    addHeading(radarName, slide)\n    addTitle(tr('pptxCommentsTitle'), slide)\n\n    slide.addText([\n      {text: tr('pptxCommentsText', comment_count) , options: { breakLine: false }},\n      {text: `${radarResultsUrl}?tab=2`, options:{ hyperlink: {url: `${radarResultsUrl}?tab=2` }}}\n    ], { x: 0.4, y: 2 })\n  }\n\n  addCoverSlide()\n  await addPreviewSlide()\n\n  // Sectors\n  addSectorsSlide()\n  sectors.forEach(function (sector) {\n    addSectorSummarySlide(sector)\n    let sectorPhenomena = phenomena.filter(({ sectorId }) => sectorId === sector.id)\n    do {\n      addSectorContent(sector.id, sector.title, sectorPhenomena.splice(0, 3))\n    } while (sectorPhenomena.length > 0)\n  })\n\n  // Top Voted Phenomena\n  if (votingOn) {\n    const sortedPhenomena = [...phenomena].sort(({ vote_sum: aVoteSum = -1000000, time: aTimestamp }, { vote_sum: bVoteSum = -1000000, time: bTimestamp }) => {\n      if (aVoteSum === bVoteSum) {\n        return aTimestamp-bTimestamp\n      }\n      return bVoteSum-aVoteSum\n    })\n\n    const topVotedPageCount = Math.ceil(sortedPhenomena.length % 15)\n    let topVotedPageNum = 1\n    do {\n      addTopVotedContentSlide(sortedPhenomena.splice(0, 15), topVotedPageCount, topVotedPageNum++, topVotedPageCount)\n    } while (sortedPhenomena.length > 0)\n  }\n\n  // Content Rating\n  if (ratingsOn) {\n    await addRatedContentImageSlide()\n\n    const axisPhenomena = ['x', 'y'].map(axis => [...phenomena].sort(({ rating_avg: aRatingAvg }, { rating_avg: bRatingAvg }) => {\n      let aAvg = get(aRatingAvg, axis, -10000000)\n      let bAvg = get(bRatingAvg, axis, -10000000)\n      return bAvg-aAvg\n    }))\n    let xPhenomena = axisPhenomena[0] || []\n    let yPhenomena = axisPhenomena[1] || []\n    do {\n      addRatedContentAxisSlide({ title: axisXTitle, axis: 'x', phenomena: xPhenomena.length > 0 ? xPhenomena.splice(0, 14) : [] }, { title: axisYTitle, axis: 'y', phenomena: yPhenomena.length > 0 ? yPhenomena.splice(0, 14) : [] })\n    } while (xPhenomena.length > 0 ||yPhenomena.length > 0)\n  }\n\n  if (discussionOn || commentsOn) {\n    // Comment Summary Slide\n    addCommentSummarySlide()\n  }\n  return pptx.writeFile(radarName.replace(/(\\W+)/gi, '-'));\n}\n\nfunction toText(html) {\n  return htmlToText.fromString(html, { wordwrap: false, ignoreImage: true, singleNewLineParagraphs: false }).replace(\"\\r\", '').replace(/\\n\\n+/g, \"\\n\\n\")\n}\n\nfunction getFuturesPlatformLogo() {\n  return 'image/wmf;base64,AQAAAGwAAAAAAAAAAAAAAKMEAACyAAAAAAAAAAAAAADCdQAAjxEAACBFTUYAAAEArC8AAP0AAAACAAAAAAAAAAAAAAAAAAAA7AQAALEDAABAAQAA8AAAAAAAAAAAAAAAAAAAAADiBACAqQMARgAAAKwZAACeGQAAR0RJQwQAAEAAAAAAAAAAAKMEAACyAAAAAQAAACBGRFABAAAAchkAACwAAAAlUERGLTEuMwolxOXy5eun86DQxMYKNCAwIG9iago8PCAvTGVuZ3RoIDUgMCBSIC9GaWx0ZXIgL0ZsYXRlRGVjb2RlID4+CnN0cmVhbQp4AW2ZSY7YyBFF9zxFXsDsnId1L7zulQ9QsNwLlYG27g/4/SQjSLUKBWj4zCHGHxFZf4U/wl8hhnimEntqOczWzrRqDynP8L9/h3+F/4bffv+RwscPrePnx0f47Z8A//kR0mjnSr2HMc7V55jH54P1efaWUwrfQ1rxrJwavsLaOutoaWidnWfY8cIK5yVu0brezpJGD19hc5x5lpz3venssa5gmM5bN2Yys+7P8C3kms824wptnGmmMsLng/FtZNCQSzljHjWUcfbaajlyzmfFeI6Ej4DW5yzpheWYkSrm8JxkiN13sM+wLW9uHdlyyucc41LhZ6jNM6aBr55VdZ0zpTmOnMaJR0PteKYWJDc5HeG+PM6xxnqtKulcM4HcB6HxhRx+G/ts1VtOs98L23Yd5ZxrNY+R8Hlkw17+y72cJcb29qljL1/lVs5RV/Lz8Klj5mdZZJaztuKuf0Gv0yRhKZUonsU9TxQ75v4qmZjrdT5+Lqmeg3i0UMDxJdYz9eXQkVclanGfn+OI+V3xYqtetiuxnTnV5o5HT8fcFy/MPVbiOsua9fGqSWquJ9RKVs6396JcSapVHtcXQ/w67btXmagSywxoGLbehu0ybJqBdF01kv8YdsSzZ4RzrIwMUcQicpgd6x2ODIVeJ8C511ZBESmNKRvfJw3SAM/kwB/XfYZIzx7PluYMhiGbYy6D5BU6MsnQ+tlXy03S2m7DpK1hCt4c2QCG8ReU8wW0bVJL2fc2snNAsqIoMJ2GXC3e6a1lhbgtc5Qw8GJrSyRnyMschvXOUSuVo0w4tgeEy2XBpoUcywOOJM5m7JyMMSZZPQrs9RIdg842COMbQyg5r6aI0xJy3NyOORzDVW2WIuap5EWtm9r/DonFI47hRN9pmHbaDZUbSk1i7JoxfkbprzBJqAqg82I8S80yl1cFx7Z5rwrg532FmWamMeE2M8SyzjEa5IvCREhSTGDMMgYxxtUQVa5QK4Yrq2DYitHLZAO+nINkPipVFHLFeDeC8Wuj8AwKhWNVKSvTI0gmAZ7/E8dj9hw+jgcjSxLEu8+ZsHZA3Eo6TpB6tkKlJSMidVb5UjvlrEI8aDBHvJyA29IaLfBtVZXSqgzr7CRIKPpUygfRF9ZylC2qFcXXzIfMMtqrCiJCI4yhkxcZEhVQzEOGofKRdJYK6J1UDQvuHrMddRLsFQ7mugpxVwoBWs05yUNszlGjdyg6Y2lWbFs1whpF7wInETgP4xsim5NEVRcZhuMQlFTF9hkVRIA3gn9M4xs6JAIJKxMvyinBsYmgVAidb6DQBV+aiqhEx904KbAfB+IsiU79njkfCqWIm1AaoUjN0NmpgHBgoGVMVSfZmonbl9REA3qSOZG6LFxgEWaINhGZ4PDLvQoEu4rloYtGHLftzJ+C/OP4FlrCn2JQZDSibioQraUH+471FUy41NdxKNW9QfFG3o4oam7yfjAjbz+JZLjI2+8zBPJ2uQzDnn8iRZIvutMoidroy4Y426gVBGbAzM6jx4O8JLNVlA7cW5+DjPGf6xz5OFwwxzCOGVFH3nWBlKAfUKJ8gZmoN/001TPxykV9BBRqGXbth7m5h++9kJlfYMdFc1RH1lG1c+m3SaD+N+Z3XGTfaTwjXYLcuPJk7edBTJOT9LwEemy5qPHukXwV778wHKL2pZAK5HVeebfObYl/1B1tgs4VLRvBnBqtm2GSiFvEKXebAxlet1Qqwk8YTqert/ZwnwdxqfQ8d+y9KpvUP5fl1pD8IT7qu5xh7Y1RO72I9EIK5H557B43HLOCoXsoVDjhaUNf2O2FPYJ0IkQ9wqv+GPQ6TQUXHmTwUF15Cq5hB36xYapj2Q4xvocpx1Re72HK9oqg/o79pHEfFPNhXtkDVjfsLfaikRdhfoEdLvNl7ZGUjnTfqjT0dur8HKOBJ664Z6R5VuYuRTzRJ2Oq/GuqcuSD0gsJD0WXr4IcOZxq4CcZ4vdp37XqoHMkEhHcT8LSKAyP2X1XTRbCPpPqWXVr8zrpF/3Y10SYEcJ86WwYhSFPVe9RVaNjpcm9st1FMEAS0GEwVRsyYuFkFQE/xRC7C7L0VfgC/mlod5+zywG16lHXEbbdAl1Fg1WHK/IcZGrYdZjpG3FK29Hl5KdqDLpQWtunahyDpNfbglcIbH0jrwrxYFYh/CTjfmLsvs8QOQuCZARmurQ68v3BXC4FpVbSSUNdhJjae6Y8320YSezYRa+kLhgp1IjnN407ttPhauZpG0m1dzfPXmydmHiutFGHP0ikSAvjDb4Dd12SM+811t4DoCgD29Pgy2S7/Xw1+KQJjKYB9K43sC7tFRMQihuGQuIb2qhzkVYXTPf96RAZQ1eo7n5Ch02t7W6OYCcOnNT8VOeDaR3PDUwZ5Niz1SC/gGVRne6eaRSjSaOBYxevdD0E0aEwya27KpQL49GhFMo+bqW6qLci0JAuGyX1oePUia7b3PfOG3oJIgPo2UtTBwMiEvGsRadP20aS0gzoPSzrOcuwPE8snlfAxLkwaeEPOCuq24PsYMb2gpjpd+c1X+DxD+6LuQ8GYT/thdmthPUL5brKuLu30MpxIC9zDCVrHH6vIew06RxyBfwgR54L6QHT/sEKzIg9N+oLbANvwkOfgeBjyCTV6ZrpMHkkoAiNSF+rVTw2EPNEbJurd3F3IuLVy9MY0E3Q0nR6X81D6hSYkNhGU8ErTtJBs8fIdXrnSho4eKGDg5hpgVJTv8n9eSluNhJpqJAy8yzGNpIJJ2gfAURvrJae1nwWVV0IM+FiRKJepH78qtxmMu7pCM9ICilXdP8MZB5a6TA1HoX2h7gjmUkuwimVEqdaeioT+1Qu+ZuBbZPhnlBgQl5E6b/4SGsqaTrtSsZ4EF9eE72Qj1mf5zoynurKvJWkGWeq++FhsUcsIl3boJ0AYTUUIqRQUC4T905+66xKWhyKAJp0VhPY+03XET0J5IKvrjjZq+gScSRTiHxMqZ6aBSsPIfNgaMBZ1GemLsZG8kyEKy9p6KXPKjwyCGm8MNJxmfHggJ/NiXr0N3TtqcNDE9cjYZKReWNg3CdboW+6QPpv/sFouRGYi/NpNZl2t13imFW2gowmDcO2A80eXSFx0RkQd1y0jCFFa2hB0eToyaf9iKQZGupSpDDqFZ6adqjpBZt71SUFEIKfPMdtVBZUBuGpAocgyVo50htSwBYekcqLxxaeIai5zGkMnxhB3Yb24fdYaAgcE8JDB+LKVHh5r9led4R9cPgqQ0fxooIqVGgsgbpoWebcll5MjtyPh+gmFAd7au7MOzS+jMjwBFnQokY+VEPYpMGYFkRDDtw1CVJtw43YmaDGK2M/BXBtXuS6wjyTvvoEvXGSXgkkiFzAgxdUycTAwzaMdoUNskCH2AKu4AAig98pUBRQF/rglwgbW4vhl2LOYFSa3pUZVSDUodkCiykGSAA1S0QiGSc5iRSeQpQMeuaK5I7iqXTiVe0E03g/fo0wxd0f/wcLA/OCCmVuZHN0cmVhbQplbmRvYmoKNSAwIG9iagoyNjIzCmVuZG9iagoyIDAgb2JqCjw8IC9UeXBlIC9QYWdlIC9QYXJlbnQgMyAwIFIgL1Jlc291cmNlcyA2IDAgUiAvQ29udGVudHMgNCAwIFIgL01lZGlhQm94IFswIDAgODU1LjE5NDYgMTI4LjI2MTNdCj4+CmVuZG9iago2IDAgb2JqCjw8IC9Qcm9jU2V0IFsgL1BERiBdIC9Db2xvclNwYWNlIDw8IC9DczEgNyAwIFIgPj4gL0V4dEdTdGF0ZSA8PCAvR3MxIDggMCBSCj4+ID4+CmVuZG9iago4IDAgb2JqCjw8IC9UeXBlIC9FeHRHU3RhdGUgL09QTSAxID4+CmVuZG9iago5IDAgb2JqCjw8IC9MZW5ndGggMTAgMCBSIC9OIDMgL0FsdGVybmF0ZSAvRGV2aWNlUkdCIC9GaWx0ZXIgL0ZsYXRlRGVjb2RlID4+CnN0cmVhbQp4AZ2Wd1RT2RaHz703vdASIiAl9Bp6CSDSO0gVBFGJSYBQAoaEJnZEBUYUESlWZFTAAUeHImNFFAuDgmLXCfIQUMbBUURF5d2MawnvrTXz3pr9x1nf2ee319ln733XugBQ/IIEwnRYAYA0oVgU7uvBXBITy8T3AhgQAQ5YAcDhZmYER/hEAtT8vT2ZmahIxrP27i6AZLvbLL9QJnPW/3+RIjdDJAYACkXVNjx+JhflApRTs8UZMv8EyvSVKTKGMTIWoQmirCLjxK9s9qfmK7vJmJcm5KEaWc4ZvDSejLtQ3pol4aOMBKFcmCXgZ6N8B2W9VEmaAOX3KNPT+JxMADAUmV/M5yahbIkyRRQZ7onyAgAIlMQ5vHIOi/k5aJ4AeKZn5IoEiUliphHXmGnl6Mhm+vGzU/liMSuUw03hiHhMz/S0DI4wF4Cvb5ZFASVZbZloke2tHO3tWdbmaPm/2d8eflP9Pch6+1XxJuzPnkGMnlnfbOysL70WAPYkWpsds76VVQC0bQZA5eGsT+8gAPIFALTenPMehmxeksTiDCcLi+zsbHMBn2suK+g3+5+Cb8q/hjn3mcvu+1Y7phc/gSNJFTNlReWmp6ZLRMzMDA6Xz2T99xD/48A5ac3Jwyycn8AX8YXoVVHolAmEiWi7hTyBWJAuZAqEf9Xhfxg2JwcZfp1rFGh1XwB9hTlQuEkHyG89AEMjAyRuP3oCfetbEDEKyL68aK2Rr3OPMnr+5/ofC1yKbuFMQSJT5vYMj2RyJaIsGaPfhGzBAhKQB3SgCjSBLjACLGANHIAzcAPeIACEgEgQA5YDLkgCaUAEskE+2AAKQTHYAXaDanAA1IF60AROgjZwBlwEV8ANcAsMgEdACobBSzAB3oFpCILwEBWiQaqQFqQPmULWEBtaCHlDQVA4FAPFQ4mQEJJA+dAmqBgqg6qhQ1A99CN0GroIXYP6oAfQIDQG/QF9hBGYAtNhDdgAtoDZsDscCEfCy+BEeBWcBxfA2+FKuBY+DrfCF+Eb8AAshV/CkwhAyAgD0UZYCBvxREKQWCQBESFrkSKkAqlFmpAOpBu5jUiRceQDBoehYZgYFsYZ44dZjOFiVmHWYkow1ZhjmFZMF+Y2ZhAzgfmCpWLVsaZYJ6w/dgk2EZuNLcRWYI9gW7CXsQPYYew7HA7HwBniHHB+uBhcMm41rgS3D9eMu4Drww3hJvF4vCreFO+CD8Fz8GJ8Ib4Kfxx/Ht+PH8a/J5AJWgRrgg8hliAkbCRUEBoI5wj9hBHCNFGBqE90IoYQecRcYimxjthBvEkcJk6TFEmGJBdSJCmZtIFUSWoiXSY9Jr0hk8k6ZEdyGFlAXk+uJJ8gXyUPkj9QlCgmFE9KHEVC2U45SrlAeUB5Q6VSDahu1FiqmLqdWk+9RH1KfS9HkzOX85fjya2Tq5FrleuXeyVPlNeXd5dfLp8nXyF/Sv6m/LgCUcFAwVOBo7BWoUbhtMI9hUlFmqKVYohimmKJYoPiNcVRJbySgZK3Ek+pQOmw0iWlIRpC06V50ri0TbQ62mXaMB1HN6T705PpxfQf6L30CWUlZVvlKOUc5Rrls8pSBsIwYPgzUhmljJOMu4yP8zTmuc/jz9s2r2le/7wplfkqbip8lSKVZpUBlY+qTFVv1RTVnaptqk/UMGomamFq2Wr71S6rjc+nz3eez51fNP/k/IfqsLqJerj6avXD6j3qkxqaGr4aGRpVGpc0xjUZmm6ayZrlmuc0x7RoWgu1BFrlWue1XjCVme7MVGYls4s5oa2u7act0T6k3as9rWOos1hno06zzhNdki5bN0G3XLdTd0JPSy9YL1+vUe+hPlGfrZ+kv0e/W3/KwNAg2mCLQZvBqKGKob9hnmGj4WMjqpGr0SqjWqM7xjhjtnGK8T7jWyawiZ1JkkmNyU1T2NTeVGC6z7TPDGvmaCY0qzW7x6Kw3FlZrEbWoDnDPMh8o3mb+SsLPYtYi50W3RZfLO0sUy3rLB9ZKVkFWG206rD6w9rEmmtdY33HhmrjY7POpt3mta2pLd92v+19O5pdsN0Wu067z/YO9iL7JvsxBz2HeIe9DvfYdHYou4R91RHr6OG4zvGM4wcneyex00mn351ZzinODc6jCwwX8BfULRhy0XHhuBxykS5kLoxfeHCh1FXbleNa6/rMTdeN53bEbcTd2D3Z/bj7Kw9LD5FHi8eUp5PnGs8LXoiXr1eRV6+3kvdi72rvpz46Pok+jT4Tvna+q30v+GH9Av12+t3z1/Dn+tf7TwQ4BKwJ6AqkBEYEVgc+CzIJEgV1BMPBAcG7gh8v0l8kXNQWAkL8Q3aFPAk1DF0V+nMYLiw0rCbsebhVeH54dwQtYkVEQ8S7SI/I0shHi40WSxZ3RslHxUXVR01Fe0WXRUuXWCxZs+RGjFqMIKY9Fh8bFXskdnKp99LdS4fj7OIK4+4uM1yWs+zacrXlqcvPrpBfwVlxKh4bHx3fEP+JE8Kp5Uyu9F+5d+UE15O7h/uS58Yr543xXfhl/JEEl4SyhNFEl8RdiWNJrkkVSeMCT0G14HWyX/KB5KmUkJSjKTOp0anNaYS0+LTTQiVhirArXTM9J70vwzSjMEO6ymnV7lUTokDRkUwoc1lmu5iO/kz1SIwkmyWDWQuzarLeZ0dln8pRzBHm9OSa5G7LHcnzyft+NWY1d3Vnvnb+hvzBNe5rDq2F1q5c27lOd13BuuH1vuuPbSBtSNnwy0bLjWUb326K3tRRoFGwvmBos+/mxkK5QlHhvS3OWw5sxWwVbO3dZrOtatuXIl7R9WLL4oriTyXckuvfWX1X+d3M9oTtvaX2pft34HYId9zd6brzWJliWV7Z0K7gXa3lzPKi8re7V+y+VmFbcWAPaY9kj7QyqLK9Sq9qR9Wn6qTqgRqPmua96nu37Z3ax9vXv99tf9MBjQPFBz4eFBy8f8j3UGutQW3FYdzhrMPP66Lqur9nf19/RO1I8ZHPR4VHpcfCj3XVO9TXN6g3lDbCjZLGseNxx2/94PVDexOr6VAzo7n4BDghOfHix/gf754MPNl5in2q6Sf9n/a20FqKWqHW3NaJtqQ2aXtMe9/pgNOdHc4dLT+b/3z0jPaZmrPKZ0vPkc4VnJs5n3d+8kLGhfGLiReHOld0Prq05NKdrrCu3suBl69e8blyqdu9+/xVl6tnrjldO32dfb3thv2N1h67npZf7H5p6bXvbb3pcLP9luOtjr4Ffef6Xfsv3va6feWO/50bA4sG+u4uvnv/Xtw96X3e/dEHqQ9eP8x6OP1o/WPs46InCk8qnqo/rf3V+Ndmqb307KDXYM+ziGePhrhDL/+V+a9PwwXPqc8rRrRG6ketR8+M+YzderH0xfDLjJfT44W/Kf6295XRq59+d/u9Z2LJxPBr0euZP0reqL45+tb2bedk6OTTd2nvpqeK3qu+P/aB/aH7Y/THkensT/hPlZ+NP3d8CfzyeCZtZubf94Tz+wplbmRzdHJlYW0KZW5kb2JqCjEwIDAgb2JqCjI2MTIKZW5kb2JqCjcgMCBvYmoKWyAvSUNDQmFzZWQgOSAwIFIgXQplbmRvYmoKMyAwIG9iago8PCAvVHlwZSAvUGFnZXMgL01lZGlhQm94IFswIDAgODU1LjE5NDYgMTI4LjI2MTNdIC9Db3VudCAxIC9LaWRzIFsgMiAwIFIgXQo+PgplbmRvYmoKMTEgMCBvYmoKPDwgL1R5cGUgL0NhdGFsb2cgL1BhZ2VzIDMgMCBSID4+CmVuZG9iagoxMiAwIG9iagooTWFjIE9TIFggMTAuMTIuNiBRdWFydHogUERGQ29udGV4dCkKZW5kb2JqCjEzIDAgb2JqCihEOjIwMTcwOTE4MDkzMTQ3WjAwJzAwJykKZW5kb2JqCjEgMCBvYmoKPDwgL1Byb2R1Y2VyIDEyIDAgUiAvQ3JlYXRpb25EYXRlIDEzIDAgUiAvTW9kRGF0ZSAxMyAwIFIgPj4KZW5kb2JqCnhyZWYKMCAxNAowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMDYwMDIgMDAwMDAgbiAKMDAwMDAwMjczOSAwMDAwMCBuIAowMDAwMDA1NzY0IDAwMDAwIG4gCjAwMDAwMDAwMjIgMDAwMDAgbiAKMDAwMDAwMjcxOSAwMDAwMCBuIAowMDAwMDAyODUzIDAwMDAwIG4gCjAwMDAwMDU3MjkgMDAwMDAgbiAKMDAwMDAwMjk0OSAwMDAwMCBuIAowMDAwMDAyOTk0IDAwMDAwIG4gCjAwMDAwMDU3MDggMDAwMDAgbiAKMDAwMDAwNTg1NyAwMDAwMCBuIAowMDAwMDA1OTA3IDAwMDAwIG4gCjAwMDAwMDU5NjAgMDAwMDAgbiAKdHJhaWxlcgo8PCAvU2l6ZSAxNCAvUm9vdCAxMSAwIFIgL0luZm8gMSAwIFIgL0lEIFsgPDQ3M2FhMjIzM2Q0ZDA2YmY0ZmM3Y2MyMWI0OWQ1ZDM5Pgo8NDczYWEyMjMzZDRkMDZiZjRmYzdjYzIxYjQ5ZDVkMzk+IF0gPj4Kc3RhcnR4cmVmCjYwNzcKJSVFT0YKAAARAAAADAAAAAgAAAAKAAAAEAAAAAAAAAAAAAAACQAAABAAAACBLAAArAYAAAwAAAAQAAAAAAAAAAAAAAALAAAAEAAAAKMEAACyAAAAFgAAAAwAAAAYAAAAEgAAAAwAAAABAAAAFQAAAAwAAAAEAAAADQAAABAAAAAAAAAAAAAAAEsAAAAQAAAAAAAAAAUAAAA7AAAACAAAABsAAAAQAAAAAAAAAAAAAABZAAAALAAAAAAAAAAAAAAA//////////8EAAAAAAAAAAAAtAaJLLQGiSwAADwAAAAIAAAAQwAAAAwAAAAFAAAAOwAAAAgAAAAbAAAAEAAAAAAAAAAAAAAAWQAAACwAAAAAAAAAAAAAAP//////////BAAAAAAAAAAAALIGiSyyBoksAAA8AAAACAAAAEMAAAAMAAAABQAAACcAAAAYAAAAAQAAAAAAAAAAAAAAAAAAACUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAAApCQAAnAIAAFkAAABIAAAAAAAAAAAAAAD//////////wsAAAApCZwCKQkYA+oJGAPqCZIDKQmSAykJqQScCKkEnAggAvoJIAL6CZwCKQmcAj0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAOYAAAA5AAAACgEAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAogwAALEDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAogyxA1gAAAA0AAAAAAAAAAAAAAD//////////wYAAACiDHIEIwy2BJULtgQIC7YEiQpyBIkKsQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAiQogAhYLIAIWC6YDWAAAADQAAAAAAAAAAAAAAP//////////BgAAABYLEwROCzkElQs5BN0LOQQVDBMEFQymA1kAAAAoAAAAAAAAAAAAAAD//////////wMAAAAVDCACogwgAqIMsQM9AAAACAAAADwAAAAIAAAAPgAAABgAAAAZAQAAOQAAAFEBAAB+AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAEMOAACcAgAAWQAAAEAAAAAAAAAAAAAAAP//////////CQAAAEMOnAJDDqkEtg2pBLYNnAI3DZwCNw0gAsMOIALDDpwCQw6cAj0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAGABAAA5AAAAigEAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAcREAALEDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAcRGxA1gAAAA0AAAAAAAAAAAAAAD//////////wYAAABxEXIE8hC2BGQQtgTXD7YEWA9yBFgPsQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAWA8gAuUPIALlD6YDWAAAADQAAAAAAAAAAAAAAP//////////BgAAAOUPEwQdEDkEZBA5BKwQOQTkEBME5BCmA1kAAAAoAAAAAAAAAAAAAAD//////////wMAAADkECACcREgAnERsQM9AAAACAAAADwAAAAIAAAAPgAAABgAAACZAQAAOQAAANEBAAB+AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAAETAAA8AwAAWQAAACAAAAAAAAAAAAAAAP//////////AQAAAAETPANYAAAANAAAAAAAAAAAAAAA//////////8GAAAATRM8A2gTFQNoE+wCaBPCAk0TmwIBE5sCWQAAACgAAAAAAAAAAAAAAP//////////AwAAAMYSmwLGEjwDARM8Az0AAAAIAAAAGwAAABAAAADJEgAAuAMAAFkAAAA0AAAAAAAAAAAAAAD//////////wYAAADJErgDxhK4A8YSqQQ5EqkEORIgAg0TIAJYAAAANAAAAAAAAAAAAAAA//////////8GAAAAthMgAvcTiQL3E+wC9xM4A9ATiANxE6kDWQAAACgAAAAAAAAAAAAAAP//////////AwAAAE4UqQSTE6kEyRK4Az0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAOYBAAA5AAAAHgIAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAZxUAAJwCAABZAAAAUAAAAAAAAAAAAAAA//////////8NAAAAZxWcAmcVGQMoFhkDKBaTA2cVkwNnFSwEOBYsBDgWqQTZFKkE2RQgAjgWIAI4FpwCZxWcAj0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAACwCAAA5AAAAUQIAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAkhgAAIQCAABZAAAAJAAAAAAAAAAAAAAA//////////8CAAAAkhiEAjkY2QJYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAIBi+AvoXkAK1F5AChheQAm4XpgJuF8QCbhfjAokX8wKsFwYDWQAAACAAAAAAAAAAAAAAAP//////////AQAAABcYPQNYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAYhhkA5QYpwOUGPcDlBheBEIYtgS5F7YEIRe2BM4WSAS+FicEWQAAACAAAAAAAAAAAAAAAP//////////AQAAABgX0ANYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAKhfxA2kXOQS4FzkE7Bc5BAkYGwQJGPcDCRjRA+gXuAOrF5gDWQAAACAAAAAAAAAAAAAAAP//////////AQAAAGAXcQNYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAERdHA+EWEwPhFscC4RZdAj8XEwK1FxMCIxgTAmQYUgKSGIQCPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAXwIAADcAAACQAgAAfgAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAADcGgAAPAMAAFkAAAAkAAAAAAAAAAAAAAD//////////wIAAADcGjwDFxs8A1gAAAA0AAAAAAAAAAAAAAD//////////wYAAABjGzwDfhsVA34b7AJ+G8ICYxubAhcbmwJZAAAAJAAAAAAAAAAAAAAA//////////8CAAAA3BqbAtwaPAM9AAAACAAAABsAAAAQAAAAIxsAACACAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAIxsgAlgAAAA0AAAAAAAAAAAAAAD//////////wYAAADMGyACDRyJAg0c7AINHE4DzBu4AyMbuANZAAAAMAAAAAAAAAAAAAAA//////////8FAAAA3Bq4A9waqQRPGqkETxogAiMbIAI9AAAACAAAADwAAAAIAAAAPgAAABgAAAC+AgAAOQAAAOwCAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAALgdAAAsBAAAWQAAADgAAAAAAAAAAAAAAP//////////BwAAALgdLAS4HakEhRypBIUcIAITHSACEx0sBLgdLAQ9AAAACAAAADwAAAAIAAAAPgAAABgAAAD5AgAAOQAAABkDAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAFsfAAAUAwAAWQAAACwAAAAAAAAAAAAAAP//////////BAAAAFsfFAMcH9sDmB/bA1sfFAM9AAAACAAAABsAAAAQAAAA+B4AAFAEAABZAAAAQAAAAAAAAAAAAAAA//////////8JAAAA+B5QBNweqQRSHqkEHh8gApYfIAJjIKkE2B+pBLwfUAT4HlAEPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAKQMAADkAAABgAwAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAACsIQAAnAIAAFkAAABAAAAAAAAAAAAAAAD//////////wkAAACsIZwCrCGpBB8hqQQfIZwCnyCcAp8gIAIrIiACKyKcAqwhnAI9AAAACAAAADwAAAAIAAAAPgAAABgAAABmAwAAOQAAAI8DAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAFIjAACcAgAAWQAAAEgAAAAAAAAAAAAAAP//////////CwAAAFIjnAJSIxgDEyQYAxMkkgNSI5IDUiOpBMUiqQTFIiACIyQgAiMknAJSI5wCPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAnwMAADkAAADEAwAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAAAsJQAAZAMAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAAAsJWQDWAAAAEwAAAAAAAAAAAAAAP//////////DAAAACwl5ANqJTgE2CU4BEYmOASEJuQDhCZkA4Qm5AJGJpAC2CWQAmolkAIsJeQCLCVkAz0AAAAIAAAAGwAAABAAAAASJwAAZAMAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAAASJ2QDWAAAAEwAAAAAAAAAAAAAAP//////////DAAAABInKASLJrYE2CW2BCYltgSfJCgEnyRkA58koQImJRMC2CUTAosmEwISJ6ECEidkAz0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAANEDAAA3AAAAEgQAAH4AAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAVygAADwDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAVyg8A1gAAAA0AAAAAAAAAAAAAAD//////////wYAAACjKDwDvigVA74o7AK+KMICoyibAlcomwJZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAHCibAhwoPANXKDwDPQAAAAgAAAAbAAAAEAAAAB8oAAC4AwAAWQAAADQAAAAAAAAAAAAAAP//////////BgAAAB8ouAMcKLgDHCipBI8nqQSPJyACYyggAlgAAAA0AAAAAAAAAAAAAAD//////////wYAAAAMKSACTSmJAk0p7AJNKTgDJimIA8coqQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAApCmpBOkoqQQfKLgDPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAHwQAADkAAABXBAAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAAACLAAAqQQAAFkAAABUAAAAAAAAAAAAAAD//////////w4AAAACLKkEAizfAoUr9wMUK/cDmCrfApgqqQQKKqkECiogAs4qIAJMK0ED1SsgAo8sIAKPLKkEAiypBD0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAGEEAAA5AAAAowQAAHwAAAAlAAAADAAAAAAAAIAoAAAADAAAAAEAAAAnAAAAGAAAAAEAAAAAAAAAAGmYAAAAAAAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAqgYAAFQDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAqgZUA1gAAABMAAAAAAAAAAAAAAD//////////wwAAACqBiwFKwWqBlIDqgZ5AaoG+/8sBfv/VAP7/30BeQEAAFIDAAArBQAAqgZ9AaoGVAM9AAAACAAAADwAAAAIAAAAPgAAABgAAAAAAAAAAAAAALIAAACyAAAAJQAAAAwAAAAAAACAKAAAAAwAAAABAAAAJwAAABgAAAABAAAAAAAAAP///wAAAAAAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAKsEAAAkBAAAWQAAACAAAAAAAAAAAAAAAP//////////AQAAAKsEJARYAAAATAAAAAAAAAAAAAAA//////////8MAAAAuwQYBNQEJgTfBDcE6QRFBO4EYATWBHAExwR5BLMEeQSmBG4EjwRaBJgEMgSrBCQEPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAegAAAG0AAACEAAAAdwAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAADCAwAAgAQAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAADCA4AEWAAAAGQAAAAAAAAAAAAAAP//////////EgAAAHoDfgRtA8wDbgMmA28DdQKHAysCtgMRAtgD/gFLBAUCUQQGAu4EEAIrBXkCKwXbAisFnQO7BK0DWwTpAw4EGgQKBIAEwgOABD0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAFsAAAA1AAAAigAAAHgAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAALQMAAEsCAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAALQNLAlgAAACgAAAAAAAAAAAAAAD//////////yEAAAAsAxUCBgMMAtoCCAKyAgQCOQICAgACCgKyARcCpwGbAqUBLAOiAc4DrwF8BPYBgAT2AYAE9wGABPcBgAQPAoEEIAJ2BC4CZgRDAk4EUQIrBGgCDgSSAtoDrwLNA9sCpwMfA20D/QImA/4C8AL/AsgCDAOuAhIDogIlA3sCLQNiAi0DSwI9AAAACAAAADwAAAAIAAAAPgAAABgAAAAsAAAANgAAAFUAAAB4AAAAJQAAAAwAAAAAAACAOwAAAAgAAAAbAAAAEAAAAAAAAAAAAAAAWQAAACwAAAAAAAAAAAAAAP//////////BAAAAAAAAAAAALQGiSy0BoksAAA8AAAACAAAAEMAAAAMAAAABQAAACgAAAAMAAAAAQAAAA4AAAAUAAAAAAAAABAAAAAUAAAA'\n}","import _ from 'lodash'\n\nimport { loadingError, getNetworkMethods } from './network'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport drupalApi from '@sangre-fp/connectors/drupal-api'\nimport radarDataApi from '../radarDataApiProxy'\nimport { PUBLIC_URL } from '../env'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport {\n    getRadarPhenomena, NEWSFEED_ERROR,\n    NEWSFEED_ERROR_PARTIAL,\n    storePhenomenonWithNewsFeeds\n} from '@sangre-fp/connectors/phenomena-api'\nimport { handleImageUploadIfNeeded } from '@sangre-fp/connectors/media-api'\nimport { getPhenomenaTypes } from './phenomenaTypes'\nimport generatePPTX from '../pptx-generator'\n\nexport const updateRadarVersion = version => ({\n    type: actionTypes.UPDATE_RADAR_VERSION,\n    payload: version\n})\n\nexport function preloadImages (imageSources) {\n    imageSources\n        .forEach(i => {\n        const linkEl = document.createElement('link');\n        linkEl.setAttribute('rel', 'preload');\n        linkEl.setAttribute('href', i);\n        linkEl.setAttribute('as', 'image');\n        document.head.appendChild(linkEl);\n        });\n    }\n\nexport const fetchRadar = () => async (dispatch, getState) => {\n    const id = getState().radarSettings.id\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.FETCH_RADAR,\n        actionTypes.FETCH_RADAR_SUCCESS,\n        requestTranslation('fetchingRadarError')\n    )\n\n    dispatch(loading())\n\n    try {\n        const radarData = await drupalApi.getRadar(id)\n\n        const img = new Image();\n        img.onload = async () => {\n            \n        }\n        preloadImages([`${PUBLIC_URL}${radarData?.radarImage}`])\n        img.src = radarData?.radarImage // by setting an src, you trigger browser download\n        const phenomenaData = await getRadarPhenomena(id, radarData.group.id)\n\n            Object.values(phenomenaData.phenomena).forEach(res => {\n                res.halo = _.get(radarData.phenomena[res.id], 'halo', false)\n                res.speech_bubble = _.get(radarData.phenomena[res.id], 'speech_bubble', false)\n            })\n\n            const result = { ...radarData, ...phenomenaData }\n\n            dispatch(getPhenomenaTypes(radarData.group.id)).then(() => dispatch(success(result)))\n    } catch (err) {\n        dispatch(error(err))\n    }\n}\n\nexport const refetchRadarData = () => async (dispatch, getState) => {\n    const radarId = getState().radarSettings.id\n    const groupId = getState().radarSettings.group.id\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.REFETCH_DATA,\n        actionTypes.REFETCH_DATA_SUCCESS,\n        requestTranslation('refetchingPhenomenaError')\n    )\n\n    dispatch(loading())\n\n    try {\n        const result = await getRadarPhenomena(radarId, groupId)\n\n        dispatch(success(result))\n    } catch (err) {\n        dispatch(error(err))\n    }\n}\n\nexport const deleteRadarPhenomenon = (phenomenon, callback) => (dispatch, getState) => {\n    const { time, version, id } = phenomenon\n    const radarId = getState().radarSettings.id\n\n    if (!time) {\n        if (callback) {\n            callback()\n        }\n\n        return dispatch({ type: actionTypes.DELETE_PHENOMENA_SUCCESS, payload: phenomenon })\n    }\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.DELETE_PHENOMENA,\n        actionTypes.DELETE_PHENOMENA_SUCCESS,\n        requestTranslation('deletingPhenomenaError')\n    )\n\n    dispatch(loading())\n\n    const data = {\n        version,\n        phenomenon_uuid: id\n    }\n\n    return radarDataApi.deletePhenomenon(radarId, data)\n        .then(() => {\n            dispatch(success(phenomenon))\n            if (callback) {\n                callback()\n            }\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const updatePhenomenonPosition = phenomenon => ({\n    type: actionTypes.UPDATE_PHENOMENON,\n    payload: phenomenon\n})\n\nexport const updatePhenomenonVersion = phenomenon => ({\n    type: actionTypes.UPDATE_PHENOMENON_VERSION,\n    payload: phenomenon\n})\n\nconst phenomenaApiErrorHandler = (error, errorFunc, dispatch) => {\n    switch (error.response.data.error_code) {\n        case 'outdated-version':\n            dispatch(errorFunc(new Error('Outdated version'), requestTranslation('outDatedVersionError')))\n            break\n        case 'resource-not-found':\n            dispatch(errorFunc(new Error('Not found'), requestTranslation('phenomenaNotFound')))\n            break\n        case 'already-exists':\n            dispatch(errorFunc(new Error('Already exists'), requestTranslation('phenomenaExists')))\n            break\n        case 'invalid-input':\n            dispatch(errorFunc(new Error('Invalid input'), requestTranslation('phenomenaInvalid')))\n            break\n        default:\n            dispatch(errorFunc(error))\n            break\n    }\n}\n\nexport const storePhenomenon = (phenomenon, newsFeedChanges, callback, archived = false) => async (dispatch) => {\n    let {\n        group,\n        _upload: {\n          imageFile,\n          imageUrl,\n          // image // Contains image data url\n        } = {},\n        ...rest\n    } = phenomenon\n\n    const { loading, success, error } = phenomenon.id\n        ? getNetworkMethods(\n            actionTypes.UPDATE_PHENOMENON_INGESTION,\n            actionTypes.UPDATE_PHENOMENON_INGESTION_SUCCESS,\n            requestTranslation('updatingPhenomenaError')\n        ) : getNetworkMethods(\n            actionTypes.CREATE_PHENOMENA,\n            actionTypes.CREATE_PHENOMENA_SUCCESS,\n            requestTranslation('creatingPhenomenaError')\n        )\n\n    dispatch(loading())\n\n    const phenomenonInput = {\n        ...rest,\n        archived,\n        group,\n    }\n\n    phenomenonInput.content.media.image = await handleImageUploadIfNeeded(imageFile || imageUrl, group) || ''\n\n\n    try {\n        const { storedPhenomenon, status, failedNewsFeedTitles } = await storePhenomenonWithNewsFeeds(phenomenonInput, newsFeedChanges)\n\n        if (status === NEWSFEED_ERROR_PARTIAL) {\n            dispatch(error(new Error('News feed error'), requestTranslation('someNewsFeedCreationError', failedNewsFeedTitles)))\n        } else if (status === NEWSFEED_ERROR) {\n            dispatch(error(new Error('News feed error'), requestTranslation(phenomenon.id ? 'newsFeedUpdateError' : 'newsFeedCreationError')))\n        } else {\n            dispatch(success(storedPhenomenon))\n            callback(storedPhenomenon)\n        }\n    } catch (e) {\n        dispatch(error(e))\n    }\n}\n\nexport const updatePhenomenon = (phenomenon, positionData) => (dispatch, getState) => {\n    dispatch(updatePhenomenonPosition({ ...phenomenon, ...positionData }))\n\n    const radarId = getState().radarSettings.id\n    const { id } = phenomenon\n    const updatedPhenomenon = _.find(getState().phenomena, { id })\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.UPDATE_PHENOMENON_ASYNC,\n        actionTypes.UPDATE_PHENOMENON_ASYNC_SUCCESS,\n        requestTranslation('updatingPhenomenaError')\n    )\n\n    const { sectorId, time, xOffset, version } = updatedPhenomenon\n\n    const data = {\n        sectorId,\n        time,\n        xOffset,\n        id,\n        version\n    }\n\n    dispatch(loading())\n\n    return radarDataApi.updatePhenomenon(radarId, data)\n        .then(response => {\n            dispatch(updatePhenomenonVersion(response.phenomenon))\n\n            dispatch(success())\n        })\n        .catch(err => {\n            phenomenaApiErrorHandler(err, error, dispatch)\n\n            return dispatch(refetchRadarData())\n        })\n}\n\nexport const createPhenomenonWithPosition = (phenomenon, positionData) => (dispatch, getState) => {\n    dispatch(updatePhenomenonPosition({ ...phenomenon, ...positionData }))\n\n    const { id } = phenomenon\n\n    const updatedPhenomenon = _.find(getState().phenomena, { id })\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.CREATE_PHENOMENA_POSITION,\n        actionTypes.CREATE_PHENOMENA_POSITION_SUCCESS,\n        requestTranslation('settingPhenomenaError')\n    )\n\n    const radarId = getState().radarSettings.id\n\n    const { sectorId, time, xOffset } = updatedPhenomenon\n\n    dispatch(loading())\n\n    const data = {\n        radarId,\n        id,\n        sectorId,\n        time,\n        xOffset\n    }\n\n    radarDataApi.createPhenomenon(Number(radarId), data)\n        .then(resultData => dispatch(success(resultData.phenomenon)))\n        .catch(err => {\n            phenomenaApiErrorHandler(err, error, dispatch)\n\n            return dispatch(refetchRadarData())\n        })\n}\n\nexport const setDraggedPhenomenon = id => dispatch =>\n    dispatch({ type: actionTypes.SET_DRAGGED_PHENOMENON, payload: id })\n\n\nexport const cloneRadar = callback => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.CLONE_RADAR,\n        actionTypes.CLONE_RADAR_SUCCESS,\n        requestTranslation('cloningRadarError')\n    )\n\n    const parentRadarId = getState().radarSettings.id\n\n    dispatch(loading())\n\n    drupalApi.cloneRadar(parentRadarId)\n        .then(radarData => {\n            dispatch(success(radarData))\n            callback(`${PUBLIC_URL}/radar?node=${radarData.id}`)\n        })\n        .catch(err => {\n            if (err && err.response && err.response.status === 400) {\n                dispatch(loadingError(\n                    actionTypes.CLONE_RADAR,\n                    err,\n                    '',\n                    requestTranslation('licenseError'))\n                )\n            } else {\n                dispatch(error(err))\n            }\n        })\n}\n\nexport const deleteRadar = () => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.DELETING_RADAR,\n        actionTypes.DELETING_RADAR_SUCCESS,\n        requestTranslation('deletingRadarError')\n    )\n\n    dispatch(loading())\n\n    return drupalApi.deleteRadar(getState().radarSettings.id)\n        .then(() => {\n            dispatch(success())\n            document.location.href = '/'\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const addPublicPhenomenaToRadar = (phenomenon, callback) => (dispatch, getState) => {\n    const { id } = phenomenon\n\n    dispatch({\n        type: actionTypes.CREATE_PHENOMENA_SUCCESS,\n        payload: phenomenon\n    })\n\n    callback(_.find(getState().phenomena, { id }))\n}\n\nexport const generatePowerpoint = (id, groupId) => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.GENERATE_POWERPOINT,\n        actionTypes.GENERATE_POWERPOINT_SUCCESS,\n        requestTranslation('generatingPPTXError')\n    )\n\n    dispatch(loading())\n\n    return generatePPTX(id, groupId)\n        .then(() => dispatch(success()))\n        .catch(err => dispatch(error(err)))\n}","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport AddPhenomenaSandbox from '../components/AddPhenomenaSandbox'\nimport { changeAddPhenomenaVisibility } from '../actions/radarSettings'\nimport { storePhenomenon, addPublicPhenomenaToRadar } from '../actions/radarData'\n\nexport default connect(\n    (state) => {\n        const {\n            radarSettings: {\n                id,\n                group,\n                radarLanguage,\n                addPhenomenaVisible\n            },\n        } = state\n\n        return {\n            radarId: id,\n            radarLanguage,\n            addPhenomenaVisible,\n\n            radar: {\n                id,\n                groupId: group.id,\n                language: radarLanguage\n            }\n        }\n    },\n    dispatch => bindActionCreators({\n        changeAddPhenomenaVisibility,\n        storePhenomenon,\n        addPublicPhenomenaToRadar\n    }, dispatch)\n)(AddPhenomenaSandbox)\n","import * as actionTypes from '@sangre-fp/reducers/actionTypes'\n\n/*\n  payload is settings object\n  settings: {\n    text,\n    title,\n    callback\n  }\n*/\n\nexport const toggleConfirmationDialog = payload => dispatch =>\n  dispatch({ type: actionTypes.TOGGLE_CONFIRM_DIALOG, payload })\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { ConfirmDialog } from '@sangre-fp/ui'\nimport { toggleConfirmationDialog } from '../actions/confirmDialog'\n\nexport default connect(\n    state => state.confirmDialog,\n    dispatch => ({\n        ...bindActionCreators({\n            toggleConfirmationDialog\n        }, dispatch)\n    })\n)(ConfirmDialog)\n","import React, { PureComponent } from 'react'\nimport ReactQuill from 'react-quill'\nimport styled from 'styled-components'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { ButtonsContainer, Input, SelectImageButton, SelectImageInput, SelectImageInputContainer, ModalContainer } from '@sangre-fp/ui'\nimport { customQuillModules } from '../config'\nimport { formats } from '../quill'\n\n\nclass AddSignalForm extends PureComponent {\n    state = {\n        title: '',\n        body: '',\n        image: false,\n        imageFile: false,\n        imageUrl: false,\n        errorsShown: false\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.errors[0]) {\n            this.setState({ errorsShown: true })\n        }\n    }\n\n    handleTitleChange = ({ target }) => this.setState({ title: target.value })\n    handleBodyChange = value => this.setState({ body: value })\n\n    handleImageSelect = (e, file) => {\n        const fileName = file || e.target.files[0]\n        const reader = new FileReader()\n\n        reader.onload = () => {\n            let img = new Image()\n            img.src = URL.createObjectURL(fileName)\n\n            img.onload = () => {\n                this.setState({\n                    image: reader.result,\n                    imageFile: fileName\n                })\n            }\n        }\n        reader.readAsDataURL(fileName)\n    }\n\n    handleCreate = () => {\n        const { createSignal, changeSignalCreateVisibility } = this.props\n        this.setState({ errorsShown: false })\n        createSignal(this.state, changeSignalCreateVisibility)\n    }\n\n    render() {\n        const { changeSignalCreateVisibility } = this.props\n        const { title, body, image, imageUrl, errorsShown } = this.state\n\n        return (\n            <ModalContainer className='d-flex flex-column'>\n                <h2 className='m-0'>{requestTranslation('addNewSignal')}</h2>\n                <div className='mt-3'>\n                    <h3>{requestTranslation('title')}</h3>\n                    <Input type={'text'} value={title} onChange={this.handleTitleChange} />\n                    {errorsShown && !title.length && <div className='description text-danger mt-2'>{requestTranslation('fieldMissing')}</div>}\n                </div>\n                <div className='mt-3'>\n                    <h3>{requestTranslation('mainContent')}</h3>\n                    <ReactQuill\n                        className='fp-wysiwyg'\n                        style={{\n                            height: '250px',\n                            paddingBottom: '42px'\n                        }}\n                        modules={customQuillModules}\n                        formats={formats}\n                        value={body}\n                        onChange={this.handleBodyChange}\n                    />\n                    {errorsShown && !body.length && <div className='description text-danger mt-2'>{requestTranslation('fieldMissing')}</div>}\n                </div>\n                <div className='mt-3 mb-5'>\n                    <h3>{requestTranslation('image')}</h3>\n                    {!image && requestTranslation('noImageSelected')}\n                    {(image || imageUrl) && <SignalImage src={image || imageUrl} />}\n                    <SelectImageInputContainer>\n                        <SelectImageInput\n                            type='file'\n                            accept='image/*'\n                            onChange={this.handleImageSelect}\n                            placeholder={requestTranslation('select')}\n                        />\n                        <SelectImageButton className='btn btn-sm btn-outline-secondary'>\n                            {requestTranslation('select')}\n                        </SelectImageButton>\n                    </SelectImageInputContainer>\n                </div>\n                <ButtonsContainer className='mt-5'>\n                    <button\n                        className='btn btn-plain'\n                        onClick={changeSignalCreateVisibility}\n                    >\n                        {requestTranslation('cancel')}\n                    </button>\n                    <button\n                        className='btn btn-primary'\n                        onClick={this.handleCreate}\n                    >\n                        {requestTranslation('save')}\n                    </button>\n                </ButtonsContainer>\n            </ModalContainer>\n        )\n    }\n}\n\nexport default AddSignalForm\n\nconst SignalImage = styled.img`\n    max-width: 400px;\n    height: auto;\n    object-fit: cover;\n`\n","import { getNetworkMethods } from './network'\nimport { getSignals } from '@sangre-fp/connectors/search-api'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { getImageUrl, uploadFile } from '@sangre-fp/connectors/media-api'\nimport { archiveDocument, TYPE_SIGNAL, upsertDocument } from '@sangre-fp/connectors/content-service-api'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\n\nexport const changeSignalListVisibility = () => dispatch => dispatch({ type: actionTypes.HANDLE_SIGNAL_LIST_VISIBILITY })\nexport const changeSignalCreateVisibility = () => dispatch => dispatch({ type: actionTypes.HANDLE_SIGNAL_CREATE_VISIBILITY })\n\nexport const fetchRadarSignals = (searchInput = '', page = 0, size = 10) => async (dispatch, getState) => {\n  const { uuid, group } = getState().radarSettings\n  const { loading, success } = getNetworkMethods(\n    actionTypes.FETCH_SIGNALS,\n    page === 0 ? actionTypes.FETCH_SIGNALS_SUCCESS : actionTypes.FETCH_MORE_SIGNALS_SUCCESS,\n    requestTranslation('fetchingSignalsError')\n  )\n\n  dispatch(loading())\n  dispatch(success(await getSignals(searchInput, [group.id], page, size, uuid)))\n}\n\nexport const archiveSignal = (groupId, signalId, callback) => async (dispatch, getState) => {\n  const { loading, success, error } = getNetworkMethods(\n    actionTypes.ARCHIVE_SIGNAL,\n    actionTypes.ARCHIVE_SIGNAL_SUCCESS,\n    requestTranslation('archiveSignalError')\n  )\n  dispatch(loading())\n  try {\n    dispatch(success(await archiveDocument({group: groupId, type: TYPE_SIGNAL, id: signalId})))\n    callback()\n  } catch (err) {\n    dispatch(error(err))\n  }\n}\n\nexport const createSignal = (signal, callback) => async (dispatch, getState) => {\n  const { title, body, imageFile: file } = signal\n  const { loading, success, error } = getNetworkMethods(\n    actionTypes.CREATE_SIGNAL,\n    actionTypes.CREATE_SIGNAL_SUCCESS,\n    requestTranslation('creatingSignalsError')\n  )\n  const { uuid, radarLanguage, group: { id: groupId } } = getState().radarSettings\n  const titleMissing = !title\n  const bodyMissing = !body\n  const languageMissing = !radarLanguage\n\n  if (bodyMissing || languageMissing || titleMissing) {\n    return dispatch(error(new Error('Invalid data'), requestTranslation('missingRequiredSignalData')))\n  }\n\n  dispatch(loading())\n\n  const doc = {\n    language: radarLanguage,\n    type: TYPE_SIGNAL,\n    group: Number(groupId),\n    content: {\n      title,\n      body,\n      radar: uuid,\n      media: {\n        image: ''\n      }\n    }\n  }\n\n  try {\n    if (file) {\n      doc.content.media.image = getImageUrl(await uploadFile(file, groupId))\n    }\n    dispatch(success(await upsertDocument(doc)))\n    callback()\n  } catch (err) {\n    dispatch(error(err))\n  }\n}\n","import { connect } from 'react-redux'\nimport AddSignalForm from '../components/AddSignalForm'\nimport { compose, bindActionCreators } from 'redux'\nimport { createSignal, changeSignalCreateVisibility } from '../actions/signals'\n\nconst mapStateToProps = (state) => {\n    const {\n        loading,\n        errors\n    } = state\n\n    return {\n        loading,\n        errors\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    ...bindActionCreators({\n        createSignal,\n        changeSignalCreateVisibility\n    }, dispatch)\n})\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps)\n)(AddSignalForm)\n","import React, { PureComponent } from 'react'\nimport {\n    ListBackground,\n    ListContainer,\n    ListClose,\n    CloseIcon,\n    ButtonsContainer,\n    modalStyles,\n    SidePadding,\n    SearchInput\n} from '@sangre-fp/ui'\nimport _ from 'lodash'\nimport AddSignalForm from '../containers/AddSignalFormContainer'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { Modal } from '@sangre-fp/ui'\nimport styled from 'styled-components'\n\nconst PAGE_SIZE = 10\nconst SEARCH_DEBOUNCE_TIME = 250\n\nclass SignalList extends PureComponent {\n    state = {\n        page: 1,\n        searchInput: ''\n    }\n\n    debounceTimeout = false\n\n    componentWillUpdate(nextProps, nextState) {\n        const { fetchRadarSignals, signalData: { totalRadarSignals, signalListVisible }, loading } = this.props\n        const { page, searchInput } = this.state\n        const nextPage = nextState.page\n        const totalPages = totalRadarSignals / PAGE_SIZE\n        const willBeVisible = nextProps.signalData.signalListVisible\n\n        if (signalListVisible !== willBeVisible) {\n            this.setState({ page: 1, searchInput: '' }, () => {\n                if (willBeVisible) {\n                    fetchRadarSignals()\n                }\n            })\n        }\n\n        if (!loading.length && nextPage !== page && nextPage > page && nextPage <= totalPages + 1) {\n            fetchRadarSignals(searchInput, nextPage - 1, PAGE_SIZE)\n        }\n    }\n\n    handleArchiveSignal = signalId => {\n        const { groupId, archiveSignal, fetchRadarSignals } = this.props\n        archiveSignal(groupId, signalId, () => {\n            fetchRadarSignals()\n        })\n    }\n\n    handleScroll = e => {\n        const { loading, signalData: { totalRadarSignals } } = this.props\n        const { page } = this.state\n        const bottom = e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight\n        const totalPages = totalRadarSignals / PAGE_SIZE\n\n        if (bottom && !loading.length && page < totalPages + 1) {\n            this.setState({ page: page + 1 })\n        }\n    }\n\n    handleSearchChange = ({ target }) => {\n        const { fetchRadarSignals } = this.props\n        this.setState({ searchInput: target.value, page: 1 })\n\n        clearTimeout(this.debounceTimeout)\n        this.debounceTimeout = setTimeout(() => fetchRadarSignals(target.value, 0, PAGE_SIZE), SEARCH_DEBOUNCE_TIME)\n    }\n\n    renderSignal(signal, index) {\n        const { canArchiveSignals } = this.props\n        const { id, content: { title, body, media: { image: image_url } = {} } = {}, created_at: created, created_by_name: username } = signal\n        const date = created ? created.slice(0, 10) : new Date().toJSON().slice(0, 10)\n\n        return (\n            <SignalItem\n                key={index}\n                className='d-flex flex-column pt-4 pb-4 justify-content-center'\n                style={{ backgroundColor: index % 2 === 0 ? 'white' : '#E7E7E8' }}\n            >\n                <h3>{title}</h3>\n                <div className='d-flex mb-2'>\n                    {(image_url && image_url.length) ?\n                        (<img\n                            alt=''\n                            src={image_url}\n                            className='mr-4 mt-2 mb-3'\n                            style={{ objectFit: 'contain', height: '105px' }}\n                        />)\n                        : null\n                    }\n                    <div dangerouslySetInnerHTML={{ __html: body }} />\n                </div>\n                {date.replace(/-/g, '.').split('.').reverse().join('.')}\n                {username ? (\n                    <div>\n                        {requestTranslation('createdBy')}:\n                        &nbsp;\n                        {username}\n                    </div>)\n                : ''}\n                {canArchiveSignals && (\n                  <ButtonsContainer style={{ justifyContent: 'flex-start' }}>\n                      <button\n                        className=\"btn btn-md btn-plain-gray pl-0\"\n                        onClick={() => window.confirm(requestTranslation('deleteSignalConfirmation')) && this.handleArchiveSignal(id)}\n                      >\n                          {requestTranslation('delete')}\n                      </button>\n                  </ButtonsContainer>\n                )}\n            </SignalItem>\n        )\n    }\n\n    renderSignals() {\n        const { signalData: { signals } } = this.props\n\n        if (signals.length) {\n            return (\n                <SearchResultsList small className='d-flex h-100 flex-column mt-5'>\n                    {_.map(signals, this.renderSignal.bind(this))}\n                </SearchResultsList>\n            )\n        }\n\n        return (\n            <SidePadding><b>{requestTranslation('noSignalsCreated')}</b></SidePadding>\n        )\n    }\n\n    renderCreateModal() {\n        const { signalData: { signalCreateVisibility } } = this.props\n\n        return (\n            <Modal\n                isOpen={signalCreateVisibility}\n                contentLabel={'Create Signal'}\n                style={modalStyles}\n                ariaHideApp={false}\n            >\n                <AddSignalForm />\n            </Modal>\n        )\n    }\n\n    render() {\n        const {\n            changeSignalListVisibility,\n            changeSignalCreateVisibility,\n            signalData: {\n                signalListVisible\n            }\n        } = this.props\n        const { searchInput } = this.state\n\n        if (!signalListVisible) {\n            return null\n        }\n\n        return (\n            <ListBackground onScroll={this.handleScroll}>\n                <ListContainer className='justify-content-between' style={{ padding: '30px 0', height: 'auto' }}>\n                    <ListClose onClick={changeSignalListVisibility}>\n                        <CloseIcon className='material-icons'>close</CloseIcon>\n                    </ListClose>\n                    <SidePadding className='d-flex justify-content-between algin-items-center'>\n                        <h2 className='m-0'>{requestTranslation('listOfSignals')}</h2>\n                        <div className='d-flex'>\n                            <SearchInput\n                                type={'search'}\n                                small={true}\n                                className='mr-4'\n                                placeholder={requestTranslation('searchByKeywords')}\n                                value={searchInput}\n                                onChange={this.handleSearchChange}\n                            />\n                            <button className='btn btn-outline-secondary flex-shrink-0'\n                                onClick={changeSignalCreateVisibility}\n                            >\n                                {requestTranslation('createNew')}\n                            </button>\n                        </div>\n                    </SidePadding>\n                    {this.renderSignals()}\n                    <SidePadding>\n                        <ButtonsContainer>\n                            <button className='btn btn-primary' onClick={changeSignalListVisibility}>\n                                {requestTranslation('close')}\n                            </button>\n                        </ButtonsContainer>\n                    </SidePadding>\n                </ListContainer>\n                {this.renderCreateModal()}\n            </ListBackground>\n        )\n    }\n}\n\nexport default SignalList\n\nconst SearchResultsList = styled.div`\n    flex: 1;\n    width: 91%;\n    min-height: 20px;\n    box-shadow: 0 1px 3px rgba(0,0,0,0.10), 0 1px 2px rgba(0,0,0,0.10);\n    margin: 0 auto;\n    flex-grow: 1;\n    flex-shrink: 1;\n    flex-basis: 0%;\n    overflow-y: auto;\n    overflow-x: hidden;\n`\n\nconst SignalItem = styled.div`\n    border-bottom: 1px solid #d5dbdf;\n    padding: 0 25px;\n`\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport SignalList from '../components/SignalList'\nimport {\n  changeSignalListVisibility,\n  fetchRadarSignals,\n  changeSignalCreateVisibility,\n  archiveSignal\n} from '../actions/signals'\n\nexport default connect(\n  (state) => {\n        const { loading, errors, signals: signalData, radarSettings: { canEditRadar, group } } = state\n        return {\n            loading,\n            errors,\n            signalData,\n            groupId: group !== null && typeof group === 'object' ? group.id : group,\n            canArchiveSignals: canEditRadar\n        }\n    },\n    dispatch => ({\n        ...bindActionCreators({\n            changeSignalListVisibility,\n            changeSignalCreateVisibility,\n            fetchRadarSignals,\n            archiveSignal\n        }, dispatch)\n    })\n)(SignalList)\n","/* eslint-disable */\nimport React, { Component } from 'react'\nimport 'react-datepicker/dist/react-datepicker.css'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { PUBLIC_URL } from '../env'\nimport LinkIcon from '@material-ui/icons/Link';\nclass ShareRadarModal extends Component {\n  // handleClipboardClick = () => this.shareInput.focus()\n\n  render() {\n    const {\n      requestClose,\n      requestOpenPublicLink,\n      checkPublicLinkExsited,\n      publicLink,\n      changeRadarSharing,\n      changeRadarSharingExpiry,\n      enableUrlLogin,\n      urlLoginLink,\n      urlLoginExpire,\n      updateRadar,\n      group,\n      id,\n      isPublicShareUrlEnabled\n    } = this.props\n\n    const onClickOpenPublicLink = () => {\n      requestOpenPublicLink()\n    }\n\n    return (\n      <div>\n        <button onClick={requestClose} className='btn-close-modal'>\n            <i className='material-icons'>close</i>\n        </button>\n        <div className={'modal-form-sections'}>\n            <div className='modal-form-section modal-form-header'>\n                <h2 className={'confirmation-modal-title'}>{requestTranslation('shareRadar')}</h2>\n                <p className='mt-4'>\n                  {isPublicShareUrlEnabled ? requestTranslation('shareRadarFromUsrMngmt'): requestTranslation('shareRadarWithoutPublicLink')}\n                </p>\n                {checkPublicLinkExsited \n                  && publicLink \n                  && isPublicShareUrlEnabled \n                  && \n                    <div className='mt-4' style={{display: 'flex'}}>\n                      <LinkIcon style={{transform: 'rotate(310deg)', borderRadius: '20px'}}>\n                      </LinkIcon>\n                      <p style={{ paddingLeft:'8px'}}>{requestTranslation('checkPublicLinkAlreadyExisted')}\n                      </p>\n                    </div>}\n            </div>\n            <div className='modal-form-section justify-content-end d-flex'>\n                <button\n                  onClick={requestClose}\n                  className='btn btn-lg btn-plain-gray'\n                >\n                    {requestTranslation('cancel')}\n                </button>\n                {isPublicShareUrlEnabled &&\n                <div style={{ marginRight: \"20px\" }}>\n                  <a\n                    onClick={() => onClickOpenPublicLink()}\n                    className=\"btn btn-lg btn-primary\"\n                  >\n                    {checkPublicLinkExsited && publicLink ? requestTranslation(\"openPublicLink\") : requestTranslation(\"createPublicLink\")} \n                  </a>\n                </div>\n                }\n                <a\n                    href={`${PUBLIC_URL}/radarusers?gid=${group.id}&invite=${id}`}\n                    className='btn btn-lg btn-primary'\n                >\n                    {requestTranslation('goToManagement')}\n                </a>\n            </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ShareRadarModal\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport ShareRadarModal from '../components/ShareRadarModal'\nimport { changeRadarSharing, changeRadarSharingExpiry, updateRadar } from '../actions/radarSettings'\n\n\nexport default connect(\n    state => {\n        const {\n            loading,\n            errors,\n            radarSettings: {\n                enableUrlLogin,\n                urlLoginExpire,\n                urlLoginLink,\n                group,\n                id\n            }\n        } = state\n\n        return {\n            loading,\n            errors,\n            enableUrlLogin,\n            urlLoginExpire,\n            urlLoginLink,\n            group,\n            id\n        }\n    },\n    dispatch => bindActionCreators({\n        changeRadarSharing,\n        changeRadarSharingExpiry,\n        updateRadar\n    }, dispatch)\n)(ShareRadarModal)\n","import React, { useState } from 'react'\nimport { Modal, modalStyles } from '@sangre-fp/ui'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport styles from './PublicLink.module.css'\nimport RefreshIcon from '@material-ui/icons/Refresh';\nconst PublicLink = ({ isModalOpen, onRequestClose, publicURL, openConfirmationModal, openDeleteConfirmationModal}) => {\n  const [shareInput, setShareInput] = useState(\"\");\n  const [linkCopied, setLinkCopied] = useState(false);\n  const onRequestCloseModal = () => {\n    onRequestClose();\n    setLinkCopied(false)\n  }\n  return (\n    <>\n      <Modal\n        onRequestClose={onRequestCloseModal}\n        isOpen={isModalOpen}\n        style={modalStyles}\n        ariaHideApp={false}\n        className={styles.ReactModal__Content}\n      >\n        <div className=\"modal-form-sections\">\n          <div className=\"modal-form-section modal-form-header\">\n            <h2 className={styles.Modal__Title}>\n              {requestTranslation(\"publicLink\")}\n            </h2>\n            <p className=\"mt-4\">{requestTranslation(\"publicLinkNote\")}</p>\n          </div>\n          <div className=\"modal-form-section\" style={{marginTop: '33px', paddingTop: 0}}>\n            <div className=\"font-weight-bold\">\n              {requestTranslation(\"publicLinkURL\")}\n            </div>\n            <div className=\"d-flex mt-2 align-items-center\">\n              <input\n                className=\"form-control w-75\"\n                value={publicURL}\n                readOnly\n                onFocus={(e) => e.target.select()}\n                type=\"text\"\n                ref={(el) => {\n                  setShareInput(el);\n                }}\n              />\n                <CopyToClipboard text={publicURL} onCopy={\n                  () => {\n                    shareInput.focus();\n                    setLinkCopied(true)\n                  }} >\n                  <button\n                    className=\"btn btn-outline-secondary ml-3 mr-3\"\n                    style={{ height: \"35px\", flexShrink: 0 }}\n                  >\n                    {requestTranslation(\"copyToClipboard\")}\n                  </button>\n                </CopyToClipboard>\n            </div>\n            {linkCopied && <h5 style={{display: 'flex', justifyContent: 'flex-end', marginRight: '64px', color: '#006998' }}>{requestTranslation(\"publicLinkCopied\")}</h5>}\n            <div className=\"d-flex mt-3 align-items-center\">\n              <button\n                // disabled={!checked}\n                // className=\"btn btn-outline-secondary mr-3\"\n                className={styles.RegenerateBtn}\n                onClick={openConfirmationModal}\n                style={{color: '#006998'}}\n              >\n                <RefreshIcon />\n                {requestTranslation(\"regeneratePublicLink\")}\n              </button>\n            </div>\n            <div className=\"d-flex mt-4 align-items-center\">\n              {requestTranslation(\"regeneratePublicLinkNote\")}\n            </div>\n          </div>\n          <div className=\"modal-form-section modal-form-actions d-flex justify-content-between\">\n            <button\n              className=\"btn btn-lg btn-plain-gray pl-0\"\n              onClick={openDeleteConfirmationModal}\n            >\n              {requestTranslation(\"deletePublicLinkBtn\")}\n            </button>\n            <div className={styles.SavePublicLink__Container}>\n              <button\n                className={\"btn btn-lg btn-plain-gray\"}\n                onClick={onRequestCloseModal}\n              >\n                {requestTranslation(\"cancel\")}\n              </button>\n              <button\n                className={\"btn btn-lg btn-primary\"}\n                onClick={onRequestCloseModal}\n              >\n                {requestTranslation(\"save\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      </Modal>\n    </>\n  );\n};\n\nexport default PublicLink;\n","import React from \"react\";\nimport { Modal, paddingModalStyles } from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nconst ConfirmationModal = ({\n  regeneratePublicLink,\n  confirmationModal,\n  confirmationModalClose,\n}) => {\n  return (\n    <Modal\n      isOpen={confirmationModal}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <h3 className=\"confirmation-modal-title\">\n          {requestTranslation(\"sharePublicLinkConfirmation\")}\n        </h3>\n        <p style={{textAlign: 'center'}}>{requestTranslation(\"sharePublicLinkConfirmationNote\")}</p>\n        <div className=\"confirmation-modal-actions\">\n          <button\n            onClick={confirmationModalClose}\n            className=\"btn btn-lg btn-plain-gray\"\n          >\n            {requestTranslation(\"cancel\").toUpperCase()}\n          </button>\n          <button\n            className=\"btn btn-lg btn-primary\"\n            onClick={regeneratePublicLink}\n          >\n            {requestTranslation(\"regeneratePublicLink\").toUpperCase()}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ConfirmationModal;\n","import React from \"react\";\nimport { Modal, paddingModalStyles } from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nconst DeleteConfirmationModal = ({\n  deletePublicLink,\n  deleteConfirmationModal,\n  deleteConfirmationModalClose,\n}) => {\n  return (\n    <Modal\n      isOpen={deleteConfirmationModal}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <h3 className=\"confirmation-modal-title\">\n          {requestTranslation(\"deletePublicLinkConfirmation\")}\n        </h3>\n        <p style={{textAlign: 'center', marginLeft: '110px', marginRight: '117px'}}>{requestTranslation(\"deletePublicLinkConfirmationNote\")}</p>\n        <div className=\"confirmation-modal-actions\">\n          <button\n            onClick={deleteConfirmationModalClose}\n            className=\"btn btn-lg btn-plain-gray\"\n          >\n            {requestTranslation(\"cancel\").toUpperCase()}\n          </button>\n          <button\n            className=\"btn btn-lg btn-primary\"\n            onClick={deletePublicLink}\n          >\n            {requestTranslation(\"deletePublicLink\").toUpperCase()}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default DeleteConfirmationModal;\n","import React from \"react\";\nimport { Modal, paddingModalStyles } from '@sangre-fp/ui'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nconst SharedLinkModalAfterDelete = ({\n  SharedLinkModalAfterDelete,\n  SharedLinkModalAfterDeleteClose,\n  RadarTitle\n}) => {\n  return (\n    <Modal\n      isOpen={SharedLinkModalAfterDelete}\n      contentLabel=\"radar-modal\"\n      ariaHideApp={false}\n      style={paddingModalStyles}\n    >\n      <div className=\"confirmation-modal-content pt-4 pb-4\">\n        <h3 className=\"confirmation-modal-title\">\n          {requestTranslation(\"sharedLinkDeletedNote\")}\n        </h3>\n        <p style={{textAlign: 'center', marginLeft: '110px', marginRight: '117px'}}>{RadarTitle}</p>\n        <div className=\"confirmation-modal-actions\">\n          <button\n            onClick={SharedLinkModalAfterDeleteClose}\n            className=\"btn btn-lg btn-primary\"\n          >\n            {requestTranslation(\"ok\").toUpperCase()}\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default SharedLinkModalAfterDelete;\n","import React, {PureComponent} from 'react'\nimport styled from 'styled-components'\nimport _ from 'lodash'\nimport {paddingModalStyles, modalStyles} from '@sangre-fp/ui'\nimport drupalApi from '@sangre-fp/connectors/drupal-api'\nimport {PUBLIC_URL} from '../env'\nimport {Modal, PopupContainer} from '@sangre-fp/ui'\nimport {requestTranslation} from '@sangre-fp/i18n'\nimport {\n    PAGE_BASIC_SETTINGS,\n    PAGE_CONCLUSIONS,\n    PAGE_HEADER_AND_LANGUAGE,\n    PAGE_USER_OPTIONS\n} from './CreateRadarForm'\nimport ShareRadarModal from '../containers/ShareRadarModalContainer'\nimport PublicLink from './PublicLink/PublicLink' \nimport ConfirmationModal from './ConfirmationModal/ConfirmationModal'\nimport DeleteConfirmationModal from './DeleteConfirmationModal/DeleteConfirmationModal'\nimport SharedLinkModalAfterDelete from './SharedLinkModalAfterDelete/SharedLinkModalAfterDelete'\n\n\nclass SideNav extends PureComponent {\n    state = {\n        deletingModalOpen: false,\n        sharingModalOpen: false,\n        clonedModalOpen: false,\n        generatingModalOpen: false,\n        publicLinkModal: false,\n        confirmationModal: false,\n        deleteConfirmationModal: false,\n        publicSharedLink: null,\n        publicSharedUserInfo: [],\n        radarShareId: null,\n        publicSharedLinkExsited: false,\n        SharedLinkModalAfterDelete: false,\n        radarTitle: '',\n        isPublicShareUrlEnabled: false\n    }\n\n    async componentDidMount() {\n        const searchParams = new URLSearchParams(document.location.search)\n        const shareQuery = Number(searchParams.get('share'))\n        const node = Number(searchParams.get('node'))\n\n        if (shareQuery ==='1' || shareQuery === 1) {\n            await drupalApi.getRadarPublicShare(node).then((data) => {\n                this.setState({\n                    publicSharedLink: data.url,\n                    publicSharedLinkExsited: true\n    \n                })\n            })\n\n            this.setState({ publicLinkModal: true })\n        }\n    }\n\n    componentDidUpdate(nextProps, nextState) {\n        const {radarSettings: {radarName}, groupId} = this.props\n        this.setState({\n            groupId: groupId,\n            radarTitle: radarName\n        })\n\n        this.props.radarSettings.groups.map(g => {\n            if (String(g?.id) === String(this.props.radarSettings?.group.id) && Number(g?.publicShareUrlEnabled) === 1) {\n                this.setState({\n                    isPublicShareUrlEnabled: true\n                })\n            }\n        })\n      }\n      \n    toggleOpenEditMenu = () => {\n        const {toggleEditMenuVisiblity, editMenuOpen} = this.props\n\n        toggleEditMenuVisiblity(!editMenuOpen)\n    }\n\n    handleCloseClick = () => {\n        const {\n            editSectorsPageOpen,\n            sectorPageHandler,\n            editTimeRangesPageOpen,\n            timerangePageHandler\n        } = this.props\n\n        if (editSectorsPageOpen) {\n            sectorPageHandler()\n        }\n\n        if (editTimeRangesPageOpen) {\n            timerangePageHandler()\n        }\n    }\n\n    clonedRadarCallback = newRadarHref => this.setState({clonedModalOpen: newRadarHref})\n\n    closeRadar = (redirect = true) => {\n        const {getReturnUrl} = this.props\n\n        if (redirect) {\n            document.href = getReturnUrl()\n        }\n        return getReturnUrl()\n    }\n\n    closePublicLink = () => {\n        this.setState({ \n            publicLinkModal: false,\n            sharingModalOpen: true\n        })\n      }\n\n    openPublicLinkModal = async () => {\n        this.setState({ sharingModalOpen: false })\n        this.setState({ publicLinkModal: true })\n        const searchParams = new URLSearchParams(document.location.search)\n        const node = Number(searchParams.get('node'))\n\n        // create a shared link\n        if(this.state.publicSharedLink === null) {\n            await drupalApi.createOrReplaceRadarPublicShare({radarId: node}).then((data) => {\n                this.setState({\n                    publicSharedLink: data?.url,\n                    publicSharedLinkExsited: true\n                })\n            })\n        }\n        else {\n            await drupalApi.getRadarPublicShare(node).then((data) => {\n                this.setState({\n                    publicSharedLink: data.url,\n                    publicSharedLinkExsited: true\n    \n                })\n            })\n        }\n    }\n\n    onRegeneratePublicLink = async () => {\n        const searchParams = new URLSearchParams(document.location.search)\n        const node = Number(searchParams.get('node'))\n        await drupalApi.regenerateRadarPublicShare(node).then(data => {\n            this.setState({\n                publicSharedLink: data.url,\n                confirmationModal: false\n            })\n        })\n    }\n\n    openConfirmationModal = () => {\n        this.setState({\n            confirmationModal: true,\n            publicLinkModal: false\n        })\n    }\n\n    closeConfirmationModal= () => {\n        this.setState({\n            confirmationModal: false,\n            publicLinkModal: true\n        })\n    }\n   \n    openDeleteConfirmationModal = () => {\n        this.setState({\n            deleteConfirmationModal: true, \n            publicLinkModal: false\n\n        })\n    }\n\n    closeDeleteConfirmationModal= () => {\n        this.setState({\n            deleteConfirmationModal: false,\n            publicLinkModal: true\n        })\n    }\n\n    onDeletePublicLink = async () => {\n        const searchParams = new URLSearchParams(document.location.search)\n        const node = Number(searchParams.get('node'))\n\n        await drupalApi.removeRadarPublicShare(node).then((data) => {\n            this.setState({\n                publicSharedLink: null,\n                deleteConfirmationModal: false,\n                publicSharedLinkExsited: false,\n                SharedLinkModalAfterDelete: true\n            })\n        })\n        \n    }\n    onCloseSharedLinkModalAfterDelete = () => {\n        this.setState({\n            SharedLinkModalAfterDelete: false\n        })\n    }\n\n    onShareRadarClick = async() => {\n        const searchParams = new URLSearchParams(document.location.search)\n        const node = Number(searchParams.get('node'))\n  \n        //get shared link \n        await drupalApi.getRadarPublicShare(node).then((data) => {\n            this.setState({\n                publicSharedLink: data.url\n            })\n        })\n\n        if(this.state.publicSharedLink !== null) {\n            this.setState({\n                publicSharedLinkExsited: true\n            })\n            \n        }\n        this.setState({sharingModalOpen: true})\n\n    }\n    \n    render() {\n        const params = new URLSearchParams(window.location.search)\n        let returnId = params.get('ret_id')\n        if (returnId) {\n            returnId = returnId.replace(/[^a-f0-9-]/, '')\n        }\n        const {deletingModalOpen, clonedModalOpen, sharingModalOpen, generatingModalOpen, publicLinkModal, confirmationModal, deleteConfirmationModal, radarShareId } = this.state\n        const {\n            changeAddRadarFormVisibility,\n            sectorPageHandler,\n            timerangePageHandler,\n            deleteRadar,\n            changeAddPhenomenaVisibility,\n            editSectorsPageOpen,\n            id,\n            groupId,\n            addRadarFormOpen,\n            editPhenomenaVisible,\n            editMenuOpen,\n            toggleEditMenuVisiblity,\n            canEditRadar,\n            canDeleteRadar,\n            cloneRadar,\n            changeSignalListVisibility,\n            signalListVisible,\n            signalToolEnabled,\n            isVisitor,\n            canShareRadar,\n            collaborationToolsAllowed,\n            generatePowerpoint\n        } = this.props\n\n        const renderRadarEditor = !editSectorsPageOpen && !addRadarFormOpen && !editPhenomenaVisible && !signalListVisible && !isVisitor\n\n        return (\n            <PopupContainer onClose={toggleEditMenuVisiblity}>\n                {renderRadarEditor &&\n                <Container id='radar-nav-topright'>\n                    <div className='nav-item'>\n                        <a\n                            onClick={() => this.closeRadar()}\n                            href={this.closeRadar(false)}\n                            className='btn-icon-lg'\n                        >\n                            <span className='af-custom-close'/>\n                        </a>\n                    </div>\n                    {canEditRadar &&\n                    <div>\n                        <Edit\n                            className='nav-item'\n                            onClick={this.toggleOpenEditMenu}\n                        >\n                            <button\n                                className='btn-round btn-lg'\n                                onClick={this.toggleOpenEditMenu}\n                            >\n                                <span className='af-custom-edit'/>\n                                {editMenuOpen &&\n                                <EditMenu className='fp-dropdown-menu'>\n                                    <EditTriangle className='fp-dropdown-menu-arrow'/>\n                                    <div>\n                                        <EditMenuHeader\n                                            className='fp-dropdown-header'\n                                            style={{lineHeight: \"1.2rem\"}}\n                                        >\n                                            {requestTranslation('layoutHeader')}\n                                        </EditMenuHeader>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={sectorPageHandler}\n                                        >\n                                            {requestTranslation('editSectors')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={timerangePageHandler}\n                                        >\n                                            {requestTranslation('editTimeranges')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={changeAddPhenomenaVisibility}\n                                        >\n                                            {requestTranslation('addPhenomena')}\n                                        </EditMenuItem>\n                                    </div>\n                                    <div>\n                                        <EditMenuHeader className='fp-dropdown-header'>\n                                            {requestTranslation('settingsHeader')}\n                                        </EditMenuHeader>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => changeAddRadarFormVisibility(PAGE_BASIC_SETTINGS)}\n                                        >\n                                            {requestTranslation('editBasicSettings')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => changeAddRadarFormVisibility(PAGE_HEADER_AND_LANGUAGE)}\n                                        >\n                                            {requestTranslation('editTitle')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => changeAddRadarFormVisibility(PAGE_CONCLUSIONS)}\n                                        >\n                                            {requestTranslation('editConclusions')}\n                                        </EditMenuItem>\n                                    </div>\n                                    {collaborationToolsAllowed &&\n                                    <div>\n                                        <EditMenuHeader className='fp-dropdown-header'>\n                                            {requestTranslation('activateUsersHeader')}\n                                        </EditMenuHeader>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => changeAddRadarFormVisibility(PAGE_USER_OPTIONS)}\n                                        >\n                                            {requestTranslation('activateUsers')}\n                                        </EditMenuItem>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => window.location.replace(`${PUBLIC_URL}/send-message?map_id=${id}`)}\n                                        >\n                                            {requestTranslation('sendMessages')}\n                                        </EditMenuItem>\n                                    </div>\n                                    }\n                                    <div>\n                                        <EditMenuHeader className='fp-dropdown-header'>\n                                            {requestTranslation('managmentHeader')}\n                                        </EditMenuHeader>\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => this.setState({generatingModalOpen: true})}\n                                        >\n                                            {requestTranslation('pptxGenerateReport')}\n                                        </EditMenuItem>\n                                        \n                                        {\n                                            canShareRadar && <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={this.onShareRadarClick}\n                                        >\n                                            {requestTranslation('shareRadar')}\n                                        </EditMenuItem>\n                                        }\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() => cloneRadar(this.clonedRadarCallback)}\n                                        >\n                                            {requestTranslation('cloneRadar')}\n                                        </EditMenuItem>\n                                        {canDeleteRadar &&\n                                        <EditMenuItem\n                                            className='fp-dropdown-item'\n                                            onClick={() =>\n                                                this.setState({deletingModalOpen: true})\n                                            }\n                                        >\n                                            {requestTranslation('deleteRadar')}\n                                        </EditMenuItem>\n                                        }\n\n                                    </div>\n                                </EditMenu>\n                                }\n                            </button>\n                        </Edit>\n                    </div>\n                    }\n                    <div className='nav-item'>\n                        <a href={`${PUBLIC_URL}/node/${id}/results` + (returnId ? ('?ret_id=' + returnId) : '')}\n                           onClick={() =>\n                               window.location.replace(`${PUBLIC_URL}/node/${id}/results` + (returnId ? ('?ret_id=' + returnId) : ''))\n                           }\n                           className='btn-round btn-lg'>\n                            <span className='af-custom-results'/>\n                        </a>\n                    </div>\n                    {signalToolEnabled &&\n                    <div className='nav-item'>\n                        <div className='btn-round btn-lg' onClick={() => changeSignalListVisibility()}>\n                            <span className='af-custom-signal-tool'/>\n                        </div>\n                    </div>\n                    }\n                </Container>\n                }\n                {editSectorsPageOpen &&\n                <CloseButton\n                    onClick={this.handleCloseClick}\n                    className='btn btn-lg btn-primary'\n                >\n                    {requestTranslation('close')}\n                </CloseButton>\n                }\n                <Modal\n                    isOpen={generatingModalOpen}\n                    contentLabel='generate powerpoint'\n                    style={paddingModalStyles}\n                    className='paddedModal'\n                    ariaHideApp={false}\n                >\n                    <div className={'confirmation-modal-content'}>\n                        <h3>\n                            {requestTranslation('download')}\n                        </h3>\n                        <p>{requestTranslation('downloadPPTXDescription')}</p>\n                        <div className={'d-flex align-items-center justify-content-end'}>\n                            <button className='btn btn-lg btn-plain-gray'\n                                    onClick={() => this.setState({generatingModalOpen: false})}>\n                                {requestTranslation('cancel')}\n                            </button>\n                            <button className='btn btn-lg btn-primary'\n                                    onClick={() => {\n                                        this.setState({generatingModalOpen: false})\n                                        generatePowerpoint(id, groupId)\n                                    }}>\n                                {requestTranslation('download')}\n                            </button>\n                        </div>\n                    </div>\n                </Modal>\n                <Modal\n                    isOpen={deletingModalOpen}\n                    contentLabel='delete sanity check'\n                    style={paddingModalStyles}\n                    className={'paddedModal'}\n                    ariaHideApp={false}\n                >\n                    <div className={'confirmation-modal-content'}>\n                        <h3 className={'confirmation-modal-title'}>\n                            {requestTranslation('deleteDoubleCheck')}\n                        </h3>\n                        <div className={'confirmation-modal-actions'}>\n                            <button className='btn btn-lg btn-plain-gray'\n                                    onClick={() => this.setState({deletingModalOpen: false})}>\n                                {requestTranslation('cancel')}\n                            </button>\n                            <button className='btn btn-lg btn-primary'\n                                    onClick={() => {\n                                        this.setState({deletingModalOpen: false})\n                                        deleteRadar()\n                                    }}>\n                                {requestTranslation('delete')}\n                            </button>\n                        </div>\n                    </div>\n                </Modal>\n                {canShareRadar &&\n                <Modal\n                    isOpen={!!sharingModalOpen}\n                    contentLabel='share radar'\n                    style={modalStyles}\n                    ariaHideApp={false}\n                >\n                    <ShareRadarModal \n                        requestClose={() => this.setState({sharingModalOpen: false})} \n                        requestOpenPublicLink={this.openPublicLinkModal} \n                        checkPublicLinkExsited={this.state.publicSharedLinkExsited} \n                        publicLink={this.state.publicSharedLink} \n                        isPublicShareUrlEnabled ={this.state.isPublicShareUrlEnabled}\n                    />\n                </Modal>\n                }\n                <Modal\n                    isOpen={!!clonedModalOpen}\n                    contentLabel='cloned radar'\n                    style={paddingModalStyles}\n                    className={'paddedModal'}\n                    ariaHideApp={false}\n                >\n                    <div className={'confirmation-modal-content'}>\n                        <h3 className={'confirmation-modal-title'}>\n                            {requestTranslation('clonedRadarSuccess')}\n                        </h3>\n                        <p className='text-center'>\n                            {requestTranslation('clonedRadarSuccessDescription')}\n                        </p>\n                        <div className={'confirmation-modal-actions'}>\n                            <a className='btn btn-lg btn-primary' href={clonedModalOpen}>\n                                {requestTranslation('clonedGoToCreated')}\n                            </a>\n                            <button className='btn btn-lg btn-plain-gray'\n                                    onClick={() => this.setState({clonedModalOpen: false})}>\n                                {requestTranslation('clonedContinueWithCurrent')}\n                            </button>\n                        </div>\n                    </div>\n                </Modal>\n                <PublicLink \n                    isModalOpen={publicLinkModal} \n                    onRequestClose={this.closePublicLink} \n                    publicURL={this.state.publicSharedLink || 'Loading...'} \n                    openConfirmationModal={this.openConfirmationModal} \n                    openDeleteConfirmationModal={this.openDeleteConfirmationModal}\n                />\n                <ConfirmationModal \n                    confirmationModal={confirmationModal}\n                    confirmationModalClose={this.closeConfirmationModal}\n                    regeneratePublicLink={() => {this.onRegeneratePublicLink()}}\n                />\n                <DeleteConfirmationModal \n                    deleteConfirmationModal={deleteConfirmationModal}\n                    deleteConfirmationModalClose={this.closeDeleteConfirmationModal}\n                    deletePublicLink={() => this.onDeletePublicLink()}\n                />\n                <SharedLinkModalAfterDelete \n                    SharedLinkModalAfterDelete={this.state.SharedLinkModalAfterDelete}\n                    SharedLinkModalAfterDeleteClose={this.onCloseSharedLinkModalAfterDelete}\n                    RadarTitle={this.state.radarTitle}\n                />\n            </PopupContainer>\n        )\n    }\n}\n\nconst CloseButton = styled.div`\n    position: absolute;\n    right: 30px;\n    bottom: 30px;\n    color: white;\n`\n\nconst Container = styled.div`\n    position: absolute;\n    top: 25px;\n    right: 25px;\n`\n\nconst EditTriangle = styled.span`\n    background-color: white;\n    position: absolute;\n    transform: rotate(45deg);\n    right: -18px;\n    top: 63px;\n    width: 40px;\n    height: 40px;\n`\n\nconst EditMenu = styled.div`\n    width: 280px;\n    display: flex;\n    position: absolute;\n    background-color: white;\n    flex-direction: column;\n    box-sizing: border-box;\n    left: -320px;\n    top: -60px;\n`\n\nconst EditMenuItem = styled.div`\n    background: transparent;\n    font-size: 16px;\n    padding: 15px 25px;\n    color: black;\n    font-weight: 500;\n    box-sizing: border-box;\n    transition: all 0.4s ease;\n    &:hover {\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.1);\n        transition: all 0.4s ease;\n    }\n`\n\nconst EditMenuHeader = styled.div`\n    width: 100%;\n    background: rgb(231, 231, 232);\n    display: flex;\n    padding: 15px 25px;\n    align-items: center;\n    color: black;\n    font-weight: 700;\n    font-size: 18px;\n    box-sizing: border-box;\n`\n\nconst Edit = styled.div`\n    position: relative;\n    min-width: 20px;\n    min-height: 20px;\n    border-radius: 50%;\n    background-color: #006998;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    transition: all 0.4s ease;\n    &:hover {\n        cursor: pointer;\n        background-color: #1A9AFC;\n        transition: all 0.4s ease;\n    }\n`\n\nexport default SideNav\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport SideNav from '../components/SideNav'\nimport {\n    changeAddRadarFormVisibility,\n    sectorPageHandler,\n    timerangePageHandler,\n    changeAddPhenomenaVisibility,\n    toggleEditMenuVisiblity\n} from '../actions/radarSettings'\nimport { changeSignalListVisibility } from '../actions/signals'\nimport {\n    deleteRadar,\n    cloneRadar,\n    generatePowerpoint\n} from '../actions/radarData'\nimport { isCollaborationToolsAllowed } from '../selectors'\nimport { PUBLIC_URL } from '../env'\n\nexport default connect(\n    (state, props) => {\n        const {\n            radarSettings: {\n                signalToolEnabled,\n                addRadarFormOpen,\n                editMenuOpen,\n                editPhenomenaVisible,\n                addPhenomenaVisible,\n                editSectorsPageOpen,\n                id,\n                group,\n                groups,\n                canDeleteRadar,\n                canEditRadar,\n                isVisitor,\n                canShareRadar,\n                editTimeRangesPageOpen,\n                radarName\n            },\n            signals: {\n                signalListVisible\n            }\n        } = state\n\n        const collaborationToolsAllowed = group && groups ?\n            isCollaborationToolsAllowed(state)(group.id) : false\n\n        return {\n            signalToolEnabled,\n            addRadarFormOpen,\n            editPhenomenaVisible,\n            signalListVisible,\n            addPhenomenaVisible,\n            editSectorsPageOpen,\n            id,\n            groupId: group.id,\n            collaborationToolsAllowed,\n            canDeleteRadar,\n            isVisitor,\n            canShareRadar,\n            canEditRadar,\n            getReturnUrl: () => props.returnUri || PUBLIC_URL || '/',\n            editMenuOpen,\n            editTimeRangesPageOpen,\n            radarName\n        }\n    },\n    dispatch => bindActionCreators({\n        changeSignalListVisibility,\n        deleteRadar,\n        sectorPageHandler,\n        changeAddRadarFormVisibility,\n        timerangePageHandler,\n        changeAddPhenomenaVisibility,\n        cloneRadar,\n        toggleEditMenuVisiblity,\n        generatePowerpoint\n    }, dispatch)\n)(SideNav)\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { ErrorModal } from '@sangre-fp/ui'\nimport { clearAllErrors } from '../actions/radarSettings'\n\nexport default connect(\n    state => {\n        const {\n            errors\n        } = state\n\n        return {\n            errors\n        }\n    },\n    dispatch => bindActionCreators({\n        onClose: clearAllErrors\n    }, dispatch)\n)(ErrorModal)\n","import React, { PureComponent } from 'react'\nimport styled from 'styled-components'\nimport ReactQuill from 'react-quill'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { formats } from '../quill'\nimport { customQuillModules } from '../config'\n\nexport default class SectorEditorForm extends PureComponent {\n    state = {\n        titleInput: this.props.sector ? this.props.sector.title : '',\n        descriptionInput: this.props.sector ? (this.props.sector.notes || '') : ''\n    }\n\n    handleTitleChange = ({ target }) => this.setState({ titleInput: target.value })\n    handleDescriptionChange = value => this.setState({ descriptionInput: value })\n\n    render() {\n        const { titleInput, descriptionInput } = this.state\n        const { onClose, updateSector, sector } = this.props\n\n        return (\n            <Container>\n                <Title>\n                    {requestTranslation('editSectorTitle')}\n                </Title>\n                <SubTitle>\n                    {requestTranslation('sectorTitle')}\n                </SubTitle>\n                <Input\n                    type='text'\n                    value={titleInput || ''}\n                    onChange={this.handleTitleChange}\n                />\n                <SubTitle>\n                    {requestTranslation('sectorDescription')}\n                </SubTitle>\n                <ReactQuill\n                    className='fp-wysiwyg'\n                    style={{\n                        height: '250px',\n                        paddingBottom: '42px'\n                    }}\n                    value={descriptionInput}\n                    onChange={this.handleDescriptionChange}\n                    modules={customQuillModules}\n                    formats={formats}\n                />\n                <ButtonsContainer>\n                    <button className='btn btn-lg btn-plain-gray' onClick={onClose}>\n                        {requestTranslation('cancel')}\n                    </button>\n                    <button\n                        className='btn btn-lg btn-primary'\n                        onClick={() =>\n                            updateSector(sector, titleInput, descriptionInput, onClose)\n                        }\n                    >\n                        {requestTranslation('save')}\n                    </button>\n                </ButtonsContainer>\n            </Container>\n        )\n    }\n}\n\nconst Container = styled.div`\n    padding: 30px 50px;\n    z-index: 1000;\n`\n\nconst Title = styled.h2`\n    color: black;\n    margin: 0;\n`\n\nconst SubTitle = styled.h3`\n    color: black;\n    margin-top: 30px;\n    margin-bottom: 10px;\n`\n\nconst Input = styled.input`\n    width: 300px;\n    background: transparent;\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    margin-right: 15px;\n    font-size: 16px;\n    padding-left: 20px;\n    height: 45px;\n    border-radius: 1px;\n    box-sizing: border-box;\n`\n\nconst ButtonsContainer = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 30px;\n`\n\n","import React, { PureComponent } from 'react'\nimport { PopupContainer } from '@sangre-fp/ui'\nimport styled from 'styled-components'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nclass EditSectorMenu extends PureComponent {\n    render() {\n        const {\n            x,\n            y,\n            timeranges,\n            addSector,\n            onClose,\n            sector,\n            deleteSector,\n            handleEditSectorForm\n        } = this.props\n\n        return (\n            <PopupContainer onClose={onClose}>\n                <EditMenu\n                    className='fp-dropdown-menu'\n                    style={{\n                        left: x,\n                        top: y\n                    }}\n                >\n                    {!!timeranges[0].sectors.length &&\n                        <EditMenuItem\n                            className='fp-dropdown-item'\n                            onClick={handleEditSectorForm}\n                        >\n                            {requestTranslation('editName')}\n                        </EditMenuItem>\n                    }\n                    <EditMenuItem\n                        className='fp-dropdown-item'\n                        onClick={() => {\n                            addSector(0, sector)\n                        }}\n                    >\n                        {requestTranslation('addSectorBefore')}\n                    </EditMenuItem>\n                    <EditMenuItem\n                        className='fp-dropdown-item'\n                        onClick={() => addSector(1, sector)}\n                    >\n                        {requestTranslation('addSectorAfter')}\n                    </EditMenuItem>\n                    {timeranges[0].sectors.length > 1 &&\n                        <EditMenuItem\n                            className='fp-dropdown-item'\n                            onClick={() => deleteSector(sector)}\n                        >\n                            {requestTranslation('deleteSector')}\n                        </EditMenuItem>\n                    }\n                </EditMenu>\n            </PopupContainer>\n        )\n    }\n}\n\nconst EditMenu = styled.div`\n    background: white;\n    position: absolute;\n    opacity: 1;\n    width: 230px;\n    display: flex;\n    flex-direction: column;\n    transform: translateX(-50%);\n`\n\nconst EditMenuItem = styled.div`\n    padding: 15px 20px;\n    font-size: 16px;\n    font-weight: 500;\n    color: black;\n    box-sizing: border-box;\n    z-index: 10;\n    &:hover {\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.1);\n        transition: all 0.4s ease;\n    }\n`\n\nexport default EditSectorMenu\n","import React, { PureComponent } from 'react'\nimport styled from 'styled-components'\nimport * as d3 from 'd3'\nimport _ from 'lodash'\nimport classNames from 'classnames'\nimport Text from 'react-svg-text'\nimport { toast } from 'react-toastify'\nimport SockJsClient from 'react-stomp'\nimport {\n    AllPhenomena,\n    CreateRadarForm,\n    AddPhenomenaSandbox,\n    ConfirmDialog,\n    SignalList,\n    SideNav,\n    ErrorModal,\n    TimeRangeEditorForm,\n    Filters\n} from '../containers'\nimport { Modal, SVGIcon, Loading } from '@sangre-fp/ui'\nimport { getCoordsFromAngleAndRadius, detectLeftButton } from '../helpers'\nimport { PUBLIC_URL, RADAR_DATA_WEBSOCKET_URL } from '../env'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { PhenomenonEditForm } from '@sangre-fp/content-editor'\nimport { PhenomenonLoader } from '@sangre-fp/hooks'\nimport SectorEditorForm from './SectorEditorForm'\nimport EditSectorMenu from './EditSectorMenu'\nimport Phenomenon from './Phenomenon'\nimport { modalStyles, paddingModalStyles } from '@sangre-fp/ui'\nimport { centerRadiusPercentage, getWebSocketHeaders, timerangeColors, radarBorderWidth } from '../config'\n\nclass RadarPage extends PureComponent {\n    constructor(props) {\n        super(props)\n        const { containerWidth, containerHeight, svgDimensions } = props\n        const containerSize = Math.min(containerWidth, containerHeight)\n        const zoomExtent = (containerSize / svgDimensions) * 0.80\n        this.zoom = d3.zoom().scaleExtent([(containerSize / svgDimensions) * 0.50, zoomExtent + 4]).on('zoom', this.zoomed)\n        this.state = {\n            isIconImgLoading: true,\n            zoomExtent,\n            sectorDescriptionModal: null,\n            deleteRadarPhenomenonOpen: false,\n            editSector: null,\n            editMenuPosition: null,\n            zoomTransform: {\n                x: 0,\n                y: 0,\n                k: zoomExtent\n            },\n            mouseCoords: {\n                x: 0,\n                y: 0,\n                angle: 0,\n                radius: 0,\n                timeRange: null,\n                sector: null,\n                time: null\n            },\n            phenomenaDragged: false\n        }\n    }\n\n    componentDidMount() {\n        const {\n            fetchRadar,\n            getUserGroups,\n            radarSettings: {\n                existingRadarPage\n            }\n        } = this.props\n\n\n        getUserGroups()\n            .then(() => {\n                    if (existingRadarPage) {\n                        fetchRadar()\n                    }\n                }\n            )\n\n        this.attachEvents()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.shouldRadarRender() && !this.shouldRadarRender(prevProps)) {\n            this.attachEvents()\n        }\n    }\n\n    zoomed = () => {\n        const { phenomenaDragged } = this.state\n\n        if (!phenomenaDragged && this.isZoomable()) {\n            this.setState({ zoomTransform: d3.event.transform })\n        }\n    }\n\n    attachEvents() {\n        const { zoomTransform: { k } } = this.state\n        const svg = d3.select(this.svg)\n\n        svg\n            .on('touchstart', this.handleMouseAction)\n            .on('touchmove', this.handleMouseAction)\n            .on('mousemove', this.handleMouseAction)\n            .on('touchend', this.onPhenomenaDragEnd)\n            .on('click', () => this.props.toggleEditMenuVisiblity(false))\n            .call(this.zoom)\n\n        this.zoom.scaleBy(svg, k)\n    }\n\n    handleResultsRedirect = () => {\n        const { radarSettings: { id, editSectorsPageOpen, addRadarFormOpen, editPhenomenaVisible, signalListVisible, isVisitor } } = this.props\n        // const renderRadarEditor = !editSectorsPageOpen && !addRadarFormOpen && !editPhenomenaVisible && !signalListVisible && !isVisitor\n        window.location.href = `${PUBLIC_URL}/node/${id}/results`\n    }\n\n    isZoomable = () => !this.isEditorPageOpen()\n\n    hideSectorMenuEdit = () => this.setState({ editMenuPosition: null })\n\n    showSectorEditMenu = ({ pageX, pageY }, sector) => this.setState({\n        editMenuPosition: {\n            x: pageX,\n            y: pageY,\n            sector\n        }\n    })\n    handleEditPhenomenonFormClose = () => this.props.changeEditPhenomenaVisibility()\n\n    renderTimelines() {\n        const { timeRanges, radius } = this.props\n\n        return (\n            <g className={'time-ranges'}>\n                <circle r={timeRanges[timeRanges.length - 1].outerRadius + radarBorderWidth} fill={'#F5F5F5'} />\n                {timeRanges.slice().reverse().map(({ outerRadius }, index) => {\n                    const isLast = index === 0\n\n                    return (\n                        <g key={index}>\n                            <circle\n                                r={outerRadius}\n                                fill={timerangeColors(index)}\n                                strokeWidth={isLast ? 2 : 0}\n                                stroke={'#979797'}\n                                strokeDasharray={4}\n                            />\n                        </g>\n                    )}\n                )}\n                {!timeRanges.length &&\n                    <circle r={radius} fill={timerangeColors(4)}/>\n                }\n            </g>\n        )\n    }\n\n    renderPhenomena() {\n        const {\n            radius,\n            timeRanges,\n            draggedPhenomenon\n        } = this.props\n\n        return (\n            <AllPhenomena\n                radius={radius}\n                timeRanges={timeRanges}\n                scaled={this.scaled}\n                zoomTransform={this.state.zoomTransform}\n                onPhenomenaDrag={this.onPhenomenaDrag}\n                draggedPhenomenon={draggedPhenomenon}\n                getPhenomenaDisplayProps={this.getPhenomenaDisplayProps}\n            />\n        )\n    }\n\n    renderSectors() {\n        const { timeRanges, radius } = this.props\n        const { mouseCoords: { sector } } = this.state\n        const selectedKey = sector ? sector.key : 0\n        const fontSize = this.scaled(8.5)\n        const { sectors: lastSectors } = _.last(timeRanges)\n\n        return (\n            <g className={'sectors'}>\n                {timeRanges.map(({ sectors }) => sectors.map(({ key, arc }) => (\n                    <path\n                        stroke={'transparent'}\n                        fill={selectedKey === key ? '#dededf' : 'transparent'}\n                        key={key}\n                        className={'sector'}\n                        d={arc}\n                    />\n                )))}\n\n                {lastSectors.map(({ id, key, title, startAngle, endAngle, notes }) => {\n                    const middleOfSectorAngle = ((startAngle + endAngle) / 2) || 0\n                    const offset = fontSize * 5\n                    const width = radius * 0.25\n\n                    const [x, y] = getCoordsFromAngleAndRadius(middleOfSectorAngle, radius + offset + radarBorderWidth)\n\n                    return (\n                        <g key={`sector-meta-${id}`}>\n                            <path\n                                key={key}\n                                stroke={'#909090'}\n                                fill={'#909090'}\n                                className={'sector'}\n                                strokeWidth='1'\n                                strokeDasharray={4}\n                                d={d3.radialLine()([[startAngle, 0], [startAngle, radius]])}\n                            />\n                            <Text\n                                x={x}\n                                y={y}\n                                verticalAnchor={'middle'}\n                                className={'sector-label noselect'}\n                                width={width}\n                                textAnchor='middle'\n                                style={{\n                                    fontSize: `${fontSize}px`\n                                }}\n                                onClick={() =>\n                                    this.setState({\n                                        sectorDescriptionModal: { notes, title }\n                                    })\n                                }\n                            >\n                                {title}\n                            </Text>\n                        </g>\n                    )\n                })}\n            </g>\n        )\n    }\n\n    renderLogo() {\n        const { timeRanges, radius, radarSettings: { radarImage }, radarLogoLinkDisabled } = this.props\n        const logoRadius = _.first(timeRanges)\n            ? _.first(timeRanges).radius\n            : radius * centerRadiusPercentage\n        const transform = `translate(${-logoRadius}, ${-logoRadius})`\n        \n        return (\n            <g>\n                {!radarImage ? (\n                    <circle\n                        className='radar-logo'\n                        onClick={!radarLogoLinkDisabled && this.handleResultsRedirect}\n                        r={logoRadius}\n                        fill={'#126995'}\n                        style={radarLogoLinkDisabled ? { cursor: 'default' } : null}\n                    />\n                ) : (\n                    <foreignObject\n                        className='radar-logo'\n                        onClick={!radarLogoLinkDisabled && this.handleResultsRedirect}\n                        width={logoRadius * 2}\n                        height={logoRadius * 2}\n                        transform={transform}\n                        style={radarLogoLinkDisabled ? { cursor: 'default' } : null}\n                    >\n                        <img\n                        \n                            alt='logo'\n                            src={radarImage}\n                            style={{\n                                width: logoRadius * 2,\n                                height: logoRadius * 2,\n                                borderRadius: '50%',\n                                objectFit: 'cover'\n                            }}\n                        />\n                    </foreignObject>\n                )}\n            </g>\n        )\n    }\n\n    getTimerangeLabelPath(radius) {\n        return `\n            M 0, 0\n            m -${radius}, 0\n            a ${radius},${radius} 0 1,0 ${(radius) * 2},0\n        `\n    }\n\n    renderTimelineTooltip() {\n        const { timelines, timeRanges, radarSettings: { timelineLabelFormat } } = this.props\n        const { scaled } = this\n        const fontSize = scaled(9)\n        const strokeWidth = scaled(4)\n        const tooltipHeight = scaled(16.5)\n\n        return (\n            <g className={'timeline'}>\n                {timeRanges.map((timeRange, index) => {\n                    const isLast = index === timeRanges.length - 1\n                    const tooltipY = timeRange.radius\n                    const {\n                        description,\n                        startYear,\n                        endYear,\n                        outerRadius,\n                        label,\n                        radius\n                    } = timeRange\n                    const line = d3.radialLine()([[Math.PI, radius + tooltipHeight], [Math.PI, outerRadius]])\n\n                    return (\n                        <g key={`tooltips-${index}`}>\n                            <path d={line} stroke={'#8d8e92'} strokeWidth={strokeWidth} />\n                            {(!timeRange.isPlaceholder) && (\n                                <g>\n                                    <g>\n                                        <path\n                                            d={this.getTimerangeLabelPath(tooltipY + tooltipHeight)}\n                                            id={`timerange-label-${index}`}\n                                            fill=\"transparent\"\n                                            style={{ pointerEvents: 'none' }}\n                                        />\n                                        <text\n                                            dy={-tooltipHeight / 4}\n                                            className={'hoverable timeline-label-text noselect'}\n                                            style={{ fontSize: `${fontSize}px` }}\n                                            onClick={() =>\n                                                this.setState({\n                                                    sectorDescriptionModal: {\n                                                    notes: description,\n                                                    title: timelineLabelFormat ? label : startYear\n                                                }}\n                                            )}\n                                        >\n                                            <textPath xlinkHref={`#timerange-label-${index}`} textAnchor=\"middle\" startOffset=\"50%\">\n                                                {timelineLabelFormat ? label : startYear}\n                                            </textPath>\n                                        </text>\n                                    </g>\n                                    {isLast && (\n                                        <g>\n                                            <path\n                                                id='timerange-label-last'\n                                                d={this.getTimerangeLabelPath(outerRadius + tooltipHeight)}\n                                                fill={'transparent'}\n                                                style={{ pointerEvents: 'none' }}\n                                            />\n                                            <text\n                                                dy={-tooltipHeight / 4}\n                                                className={'hoverable timeline-label-text noselect'}\n                                                style={{ fontSize: `${fontSize}px` }}\n                                                onClick={() => {\n                                                    this.setState({\n                                                        sectorDescriptionModal: {\n                                                            notes: timelines[timelines.length - 1].description,\n                                                            title: timelineLabelFormat ? timelines[timelines.length - 1].label : endYear\n                                                        }\n                                                    })\n                                                }}\n                                            >\n                                                <textPath xlinkHref={`#timerange-label-last`} textAnchor=\"middle\" startOffset=\"50%\">\n                                                    {timelineLabelFormat ? timelines[timelines.length - 1].label : endYear}\n                                                </textPath>\n                                            </text>\n                                        </g>\n                                    )}\n                                </g>\n                            )}\n                        </g>\n                    )\n                })}\n            </g>\n        )\n    }\n\n    shouldRadarRender(props = this.props) {\n        const { timeRanges } = props\n\n        return timeRanges.length !== 0 && !this.isEditorPageOpen(props)\n    }\n\n    renderRadar = () => {\n        const { containerWidth, containerHeight } = this.props\n        const { zoomTransform: { x, y, k }, phenomenaDragged } = this.state\n        const classes = classNames({\n            'zoomed-out': k < 0.25,\n            'zoomed-out-far': k < 0.15\n        })\n\n        return this.shouldRadarRender() && (\n            <svg \n                xmlns=\"http://www.w3.org/2000/svg\"\n                ref={this.svgRef}\n                height={containerHeight}\n                width={containerWidth}\n                className={classes}\n                style={{zIndex: phenomenaDragged ? 1 : 0}}>\n                <g className='zoom-control' transform={`translate(${x}, ${y}) scale(${k})`}>\n                    <g ref={this.radarRef}\n                       transform={`translate(${containerWidth / 2}, ${containerHeight / 2})`}>\n                        {this.renderTimelines()}\n                        {this.renderSectors()}\n                        {this.renderTimelineTooltip()}\n                        {this.renderLogo()}\n                        {this.renderPhenomena()}\n                        {this.renderDragMarker()}\n                    </g>\n                </g>\n            </svg>\n        )\n    }\n\n    renderMenuLink = (x, y, onClick, radius = this.scaled(25), fontSize = this.scaled(14)) => (\n        <g key={x + y} onClick={onClick} className={'tooltip-edit'}>\n            <circle r={radius / 2} cx={x} cy={y} fill={'#126995'} stroke={'none'}/>\n            <SVGIcon x={x} y={y} fontSize={fontSize} icon={'edit'}/>\n        </g>\n    )\n\n    renderEditabilityTooltip = (sector, index, offset) => {\n        const middleOfSectorAngle = ((sector.startAngle + sector.endAngle) / 2) || 0\n        const toolTipOffset = Math.min(offset * 0.15, 100)\n        const [x, y] = getCoordsFromAngleAndRadius(middleOfSectorAngle, offset - toolTipOffset)\n\n        return this.renderMenuLink(x, y, e => this.showSectorEditMenu(e, sector))\n    }\n\n    renderSectorEditor = () => {\n        const { containerWidth, containerHeight, timeRanges, radius, updateSector, radarSettings: { editSectorsPageOpen }, canEditRadar } = this.props\n\n        if (!canEditRadar) {\n            return null\n        }\n\n        const { sectors: lastSectors, outerRadius: lastRadius } = _.last(timeRanges)\n        const { editSector, zoomExtent } = this.state\n        const transform = `translate(${containerWidth / 2}, ${containerHeight / 2}) scale(${zoomExtent})`\n\n        return editSectorsPageOpen && (\n            <div>\n                <Modal\n                    isOpen={!!editSector}\n                    onRequestClose={() => {\n                        this.setState({ editSector: null })\n                    }}\n                    contentLabel='Sector settings'\n                    style={modalStyles}\n                    ariaHideApp={false}\n                >\n                    <SectorEditorForm\n                        sector={editSector}\n                        onClose={() => {\n                            this.setState({ editSector: null })\n                        }}\n                        updateSector={updateSector}\n                    />\n                </Modal>\n                <svg height={containerHeight} width={containerWidth} fill='black'>\n                    <g transform={transform}>\n                        <circle stroke={'#D9D9D9'}\n                                fill={'rgb(15, 19, 24)'}\n                                r={lastRadius}/>\n                        {this.renderSectors()}\n                        {lastSectors.map((sector, index) =>\n                            this.renderEditabilityTooltip(\n                                sector,\n                                index,\n                                lastRadius\n                            )\n                        )}\n                        {!lastSectors.length &&\n                        this.renderEditabilityTooltip({}, 1, radius)\n                        }\n                    </g>\n                </svg>\n            </div>\n        )\n    }\n\n    isEditorPageOpen(props = this.props) {\n        const {\n            radarSettings: {\n                editSectorsPageOpen\n            }\n        } = props\n\n        return editSectorsPageOpen\n    }\n\n    scaled = value => {\n        const { zoomExtent, zoomTransform: { k } } = this.state\n\n        if (!this.isZoomable()) {\n            return value / (zoomExtent / 1.4)\n        }\n\n        const divisor = Math.max(k, 0.25)\n\n        return value / (divisor / 1.4)\n    }\n\n    onPhenomenaDrag = (e, phenomenon, newlyCreated = false) => {\n        const { setDraggedPhenomenon, canEditRadar } = this.props\n\n        if (e) {\n            e.stopPropagation()\n        }\n\n        if (newlyCreated || (detectLeftButton(e) && e) || ('ontouchstart' in document.documentElement) || ('ontouchstart' in window)\n        ) {\n            this.setState({ updatingPhenomena: phenomenon })\n\n            this.longpressTimeout = setTimeout(() => {\n                if (canEditRadar) {\n                    this.setState({ phenomenaDragged: true })\n                    setDraggedPhenomenon(phenomenon)\n                }\n            }, 650)\n\n            document.addEventListener('mouseup', this.onPhenomenaDragEnd)\n            document.addEventListener('touchend', this.onPhenomenaDragEnd)\n            document.addEventListener('touchcancel', this.onPhenomenaDragEnd)\n            document.addEventListener('pointerup', this.onPhenomenaDragEnd)\n            // safari fix for when adding phenom\n            document.addEventListener('click', this.onPhenomenaDragEnd)\n        }\n    }\n\n    handleMouseAction = () => {\n        const { timeRanges, radius: radarRadius } = this.props\n\n        // d3.event.preventDefault()\n\n        if (!this.isEditorPageOpen()) {\n            const [x, y] = d3.mouse(this.radar)\n            const radians = Math.atan2(y, x)\n            const angle = radians < (Math.PI / 2) ? radians + (Math.PI * 2.5) : radians + (Math.PI * 0.5)\n            const radius = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\n            const isOutside = radius > radarRadius\n            const timeRange = _.find(timeRanges, ({ radius: innerRadius, outerRadius }) => radius >= innerRadius && radius < outerRadius)\n            const sector = timeRange && _.find(timeRange.sectors, ({ startAngle, endAngle }) => angle >= startAngle && angle < endAngle)\n            const outerTimeRange = isOutside ? _.last(timeRanges) : _.first(timeRanges)\n            const boundaryRadius = isOutside ? outerTimeRange.outerRadius : outerTimeRange.radius\n            const boundaryTime = isOutside ? outerTimeRange.endYear + 0.00001 : outerTimeRange.startYear + 0.00001\n            const outerSector = _.find(outerTimeRange.sectors, ({ startAngle, endAngle }) => angle >= startAngle && angle < endAngle)\n            const time = timeRange && timeRange.scale.invert(radius)\n            const xOffset = sector ? d3.scaleLinear()\n                .range([0, 1])\n                .domain([sector.startAngle, sector.endAngle])\n                .interpolate(d3.interpolate)(angle) : 0.5\n\n            this.setState({\n                mouseCoords: {\n                    x,\n                    y,\n                    isOutside,\n                    xOffset,\n                    angle,\n                    radius,\n                    timeRange,\n                    sector,\n                    time,\n                    outerSector,\n                    boundaryTime,\n                    boundaryRadius\n                }\n            })\n        }\n    }\n\n    onPhenomenaDragEnd = e => {\n        const { updatePhenomenon, setDraggedPhenomenon, draggedPhenomenon: phenomenon } = this.props\n        if (this.longpressTimeout) {\n            clearTimeout(this.longpressTimeout)\n        }\n\n        if (phenomenon) {\n            const { mouseCoords: { time, angle, sector, xOffset } } = this.state\n            const deleting = !sector\n\n            if (deleting) {\n                this.setState({ deleteRadarPhenomenonOpen: phenomenon })\n            } else {\n                updatePhenomenon(phenomenon, {\n                    sectorId: sector.id,\n                    xOffset,\n                    time,\n                    angle\n                })\n            }\n\n            this.setState({ phenomenaDragged: false })\n            setDraggedPhenomenon(false)\n\n            if (e) {\n                e.preventDefault()\n                e.stopPropagation()\n            }\n        }\n\n        if (e && ('ontouchstart' in document.documentElement || 'ontouchstart' in window)) {\n            e.preventDefault()\n            e.stopPropagation()\n        }\n\n        document.removeEventListener('mouseup', this.onPhenomenaDragEnd)\n        document.removeEventListener('pointerup', this.onPhenomenaDragEnd)\n        document.removeEventListener('touchcancel', this.onPhenomenaDragEnd)\n        document.removeEventListener('touchend', this.onPhenomenaDragEnd)\n        document.removeEventListener('click', this.onPhenomenaDragEnd)\n    }\n\n    svgRef = ref => this.svg = ref\n    radarRef = ref => this.radar = ref\n\n    getPhenomenaDisplayProps = () => {\n        const { radius, phenomenaTypesById } = this.props\n        // this can't be scaled due to react-svg-text calculation mechanisms\n        const labelWidth = radius * 0.25\n        const labelHeight = this.scaled(30)\n        const phenomenaSize = this.scaled(21)\n        const iconSize = this.scaled(21)\n        const fontSize = this.scaled(8)\n\n        return { labelWidth, labelHeight, phenomenaSize, iconSize, fontSize, phenomenaTypesById }\n    }\n\n    renderDragMarker() {\n        const { draggedPhenomenon } = this.props\n\n        if (draggedPhenomenon) {\n            if (!this.phenomenaDisplayProps) {\n                this.phenomenaDisplayProps = this.getPhenomenaDisplayProps()\n            }\n\n            const { mouseCoords: { sector, x, y } } = this.state\n\n            return (\n                <Phenomenon\n                    cx={x}\n                    cy={y}\n                    phenomenon={draggedPhenomenon}\n                    deleting={!sector}\n                    dragged={true}\n                    {...this.phenomenaDisplayProps}\n                    scaled={this.scaled}\n                />\n            )\n        } else if (this.phenomenaDisplayProps) {\n            this.phenomenaDisplayProps = null\n        }\n        return null\n    }\n\n    renderEditPhenomenonForm() {\n        const {\n            radarSettings: { editPhenomenaVisible, id, group, radarLanguage },\n            storePhenomenon,\n        } = this.props\n\n        return (\n            <Modal isOpen={!!editPhenomenaVisible}\n                   contentLabel={'Edit phenomena'}\n                   style={modalStyles}\n                   onRequestClose={this.handleEditPhenomenonFormClose}\n                   ariaHideApp={false}>\n                {editPhenomenaVisible && (\n                    <PhenomenonLoader id={editPhenomenaVisible.id} group={editPhenomenaVisible.group || editPhenomenaVisible.groups[0]}>\n                        {({ loading, error, phenomenon }) => {\n                            if (loading) {\n                                return <div className=\"py-5 text-center\">Loading...</div>\n                            }\n\n                            if (error) {\n                                return <div className=\"py-5 text-center text-danger\">{error.message}</div>\n                            }\n\n                            return (\n                                <PhenomenonEditForm\n                                    phenomenon={phenomenon}\n                                    onSubmit={(values, newsFeedChanges) => {\n                                        storePhenomenon(values, newsFeedChanges, this.handleEditPhenomenonFormClose)\n                                    }}\n                                    onCancel={this.handleEditPhenomenonFormClose}\n                                    onDelete={() => {}}\n                                    radar={{\n                                        id,\n                                        groupId: group.id,\n                                        language: radarLanguage\n                                    }}\n                                />\n                            )\n                        }}\n                    </PhenomenonLoader>\n                )}\n            </Modal>\n        )\n    }\n\n    handleWebsocketUpdate = update => {\n        const { radarSettings: { radar_version }, refetchRadarData } = this.props\n\n        if (update.radar_version !== radar_version) {\n            refetchRadarData()\n                .then(() => toast(requestTranslation('radarUpdated')))\n        }\n    }\n\n    renderSockJsClient() {\n        const { account, id } = this.props.radarSettings\n\n        return account && id && (\n            <SockJsClient\n                url={RADAR_DATA_WEBSOCKET_URL}\n                topics={[`/topic/radar/${id}`]}\n                onMessage={update => setTimeout(function() {\n                    this.handleWebsocketUpdate(update)\n                }.bind(this), 500)}\n                headers={getWebSocketHeaders()}\n            />\n        )\n    }\n\n    renderBottomLeftNav() {\n        const { radarSettings: { editSectorsPageOpen }, radarLogoLinkDisabled } = this.props\n\n        return !editSectorsPageOpen && <Filters hideInfoButton={radarLogoLinkDisabled} />\n    }\n\n    renderTitle() {\n        const { radarName, groups, group, titleLogo } = this.props.radarSettings\n        const renderTitleLogoInput = _.find(groups, ({ value }) => Number(value) === Number(group.id))\n\n        return renderTitleLogoInput && renderTitleLogoInput.radarLogoEnabled && titleLogo\n            ?\n            (<RadarTitleLogo src={titleLogo} />)\n            :\n            (<RadarTitle id='radar-title-left'>{radarName}</RadarTitle>)\n    }\n\n\n    // this really needs to be rewritten\n    renderEditSectorMenu() {\n        const { editMenuPosition } = this.state\n        const { timeRanges, addSector, deleteSector } = this.props\n\n        return editMenuPosition && (\n            <EditSectorMenu\n                timeranges={timeRanges}\n                handleEditSectorForm={() => {\n                    this.setState({ editSector: editMenuPosition.sector })\n                    this.hideSectorMenuEdit()\n                }}\n                y={editMenuPosition.y}\n                x={editMenuPosition.x}\n                sector={editMenuPosition.sector}\n                onClose={this.hideSectorMenuEdit}\n                deleteSector={sectorId => {\n                    deleteSector(sectorId)\n                    this.hideSectorMenuEdit()\n                }}\n                addSector={(direction, sectorId) => {\n                    addSector(direction, sectorId)\n                    this.hideSectorMenuEdit()\n                }}\n            />\n        )\n    }\n\n    renderCreateRadarModal() {\n        const {\n            changeAddRadarFormVisibility,\n            radarSettings: {\n                addRadarFormOpen,\n                id,\n            }\n        } = this.props\n\n        return (\n            <Modal\n                isOpen={addRadarFormOpen}\n                contentLabel='Radar settings'\n                style={modalStyles}\n                ariaHideApp={false}\n                onRequestClose={id ? () => changeAddRadarFormVisibility() : null}\n            >\n                <CreateRadarForm />\n            </Modal>\n        )\n    }\n\n    renderSectorDescriptionModal() {\n        const { sectorDescriptionModal } = this.state\n\n        return (\n            <Modal\n                isOpen={!!sectorDescriptionModal}\n                contentLabel='Sector description'\n                onRequestClose={() => this.setState({ sectorDescriptionModal: null })}\n                style={modalStyles}\n                ariaHideApp={false}\n            >\n                {!!sectorDescriptionModal &&\n                    <div>\n                        <div className='modal-form-sections'>\n                            <div className='modal-form-section modal-form-header'>\n                                <h2>{sectorDescriptionModal.title}</h2>\n                            </div>\n                            <div className='modal-form-section'>\n                                <div\n                                    dangerouslySetInnerHTML={{ __html: sectorDescriptionModal.notes }}\n                                />\n                            </div>\n                        </div>\n\n                        <div className='modal-form-section modal-form-actions pt-0'>\n                            <div\n                                onClick={() => this.setState({ sectorDescriptionModal: null })}\n                                className='btn btn-lg btn-primary'\n                            >\n                                {requestTranslation('close')}\n                            </div>\n                        </div>\n                    </div>\n                }\n            </Modal>\n        )\n    }\n\n    renderDeleteRadarPhenomenonModal() {\n        const { deleteRadarPhenomenonOpen } = this.state\n        const { deleteRadarPhenomenon } = this.props\n\n        return (\n            <Modal\n                isOpen={!!deleteRadarPhenomenonOpen}\n                contentLabel='Delete phenomena from radar'\n                style={paddingModalStyles}\n                className={'paddedModal'}\n                ariaHideApp={false}\n            >\n                <div className={'confirmation-modal-content'}>\n                    <h3 className={'confirmation-modal-title'}>\n                        {requestTranslation('deletePhenomenaDoubleCheck')}\n                    </h3>\n                    <div className={'confirmation-modal-actions'}>\n                        <button className='btn btn-lg btn-plain-gray'\n                                onClick={() => {\n                                    // is already on radar\n                                    if (deleteRadarPhenomenonOpen.time) {\n                                        this.setState({ deleteRadarPhenomenonOpen: false })\n                                    // need to add it to radar again and set it as dragged\n                                    } else {\n                                        this.onPhenomenaDrag(false, deleteRadarPhenomenonOpen, true)\n                                        this.setState({ deleteRadarPhenomenonOpen: false })\n                                    }\n                                }}>\n                            {requestTranslation('cancel')}\n                        </button>\n                        <button\n                            className='btn btn-lg btn-primary'\n                            onClick={() =>\n                                deleteRadarPhenomenon(deleteRadarPhenomenonOpen, () => this.setState({ deleteRadarPhenomenonOpen: false }))\n                            }\n                        >\n                            {requestTranslation('delete')}\n                        </button>\n                    </div>\n                </div>\n            </Modal>\n        )\n    }\n\n    renderSandbox() {\n        const { setDraggedPhenomenon, radarSettings: { addPhenomenaVisible } } = this.props\n        const { phenomenaDragged } = this.state\n\n        if (addPhenomenaVisible) {\n            return (\n                <AddPhenomenaSandbox\n                    onPhenomenaDrag={(...args) => {\n                        this.setState({ phenomenaDragged: true })\n                        this.onPhenomenaDrag(...args)\n                        setDraggedPhenomenon(args[1])\n                    }}\n                    updateMouseCoords={this.handleMouseAction}\n                    placing={!!phenomenaDragged}\n                />\n            )\n        }\n\n        return null\n    }\n\n    render() {\n        const { loading, returnUri } = this.props\n\n        return (\n            <Container style={{ pointerEvents: loading.length ? 'none' : 'all' }}>\n                <Loading shown={loading.length} color={'white'}/>\n                {this.renderTitle()}\n                {this.renderBottomLeftNav()}\n                <SideNav returnUri={returnUri} radarSettings={this.props.radarSettings}/>\n                {this.renderEditSectorMenu()}\n                {this.renderRadar()}\n                {this.renderSectorEditor()}\n                <SignalList />\n                {this.renderSandbox()}\n                <TimeRangeEditorForm radarWidth={this.svg && this.svg.width.baseVal.value} />\n                {this.renderEditPhenomenonForm()}\n                {this.renderSockJsClient()}\n                {this.renderCreateRadarModal()}\n                {this.renderSectorDescriptionModal()}\n                {this.renderDeleteRadarPhenomenonModal()}\n                <ConfirmDialog />\n                <ErrorModal />\n            </Container>\n        )\n    }\n}\n\nconst RadarTitle = styled.h1`\n    color: white;\n    position: absolute;\n    top: 25px;\n    left: 25px;\n    margin: 0;\n    text-shadow: 1.5px 1.5px 0 rgba(0, 0, 0, .2);\n    max-width: 250px;\n`\n\nconst Container = styled.div`\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    background-color: black;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nconst RadarTitleLogo = styled.img`\n    height: 85px;\n    width: auto;\n    object-fit: contain;\n    position: absolute;\n    top: 25px;\n    left: 25px;\n`\n\nexport default RadarPage\n","import _ from 'lodash'\nimport { getNetworkMethods } from './network'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport radarDataApi from '../radarDataApiProxy'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nexport const addSector = (placement, selectedSector) => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.ADD_SECTOR,\n        actionTypes.ADD_SECTOR_SUCCESS,\n        requestTranslation('addingSectorError')\n    )\n\n    const radarId = getState().radarSettings.id\n\n    const data = {\n        title: '',\n        notes: ''\n    }\n\n    if (selectedSector && !_.isEmpty(selectedSector) && placement === 0) {\n        data.next = {}\n        data.next.id = selectedSector.id\n        data.next.version = selectedSector.version\n    } else if (selectedSector && !_.isEmpty(selectedSector) && placement === 1) {\n        data.previous = {}\n        data.previous.id = selectedSector.id\n        data.previous.version = selectedSector.version\n    }\n\n    dispatch(loading())\n\n    return radarDataApi.createSector(radarId, data)\n        .then(({ sector, next, previous }) => dispatch(success({\n            affectedSectors: [next, previous].filter(s => !_.isEmpty(s)),\n            sectorId: selectedSector.id,\n            placement,\n            sector\n        })))\n        .catch(err => dispatch(error(err)))\n}\n\nexport const updateSector = (sector, title, notes, callback) => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.EDIT_SECTOR,\n        actionTypes.EDIT_SECTOR_SUCCESS,\n        requestTranslation('editingSectorError')\n    )\n\n    dispatch(loading())\n\n    const radarId = getState().radarSettings.id\n    const data = {\n        id: sector.id,\n        version: sector.version,\n        title,\n        notes\n    }\n\n    return radarDataApi.updateSector(radarId, data)\n        .then(resultData => {\n            if (callback) {\n                callback()\n            }\n            return dispatch(success(resultData.sector))\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const deleteSector = ({ id: sectorId, version }) => (dispatch, getState) => {\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.DELETE_SECTOR,\n        actionTypes.DELETE_SECTOR_SUCCESS,\n        requestTranslation('deletingSectorError')\n    )\n\n    dispatch(loading())\n\n    const radarId = getState().radarSettings.id\n    const data = { id: sectorId, version }\n\n    return radarDataApi.deleteSector(radarId, sectorId, data)\n        .then(({ next, previous, radar_version }) => {\n            const affectedSectors = [next, previous].filter(s => !_.isEmpty(s))\n            dispatch(success({\n                    deletedSectorId: sectorId,\n                    affectedSectors,\n                    radarVersion: radar_version\n                }\n            ))\n        })\n        .catch(err => dispatch(error(err)))\n}\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport RadarPage from '../components/RadarPage'\nimport { compose, bindActionCreators } from 'redux'\nimport Dimensions from 'react-dimensions'\nimport { createSelector } from 'reselect'\nimport { centerRadiusPercentage } from '../config'\nimport { getCoordsFromAngleAndRadius } from '../helpers'\nimport * as d3 from 'd3'\nimport _ from 'lodash'\n\nimport {\n    changeAddRadarFormVisibility,\n    changeEditPhenomenaVisibility,\n    getUserGroups,\n    toggleEditMenuVisiblity\n} from '../actions/radarSettings'\nimport { addSector, deleteSector, updateSector } from '../actions/sectors'\nimport {\n    fetchRadar,\n    setDraggedPhenomenon,\n    updatePhenomenon,\n    createPhenomenonWithPosition,\n    deleteRadarPhenomenon,\n    refetchRadarData,\n    storePhenomenon,\n    addPublicPhenomenaToRadar\n} from '../actions/radarData'\n\nconst getCreateTimeRanges = (thisRadius, centerRadius = thisRadius * centerRadiusPercentage) => timeRanges => {\n    let previousRadius = centerRadius\n\n    return timeRanges.map((timeRange, index) => {\n        const { startYear, endYear, sectors, position } = timeRange\n        const width = position - (index ? timeRanges[index - 1].position : 0)\n        const timelineWidth = (thisRadius - centerRadius) * width\n\n        // get inner radius\n        const radius = previousRadius\n\n        // get outer radius\n        const outerRadius = previousRadius + timelineWidth\n\n        previousRadius = outerRadius\n\n        // get scale\n        const scale = d3.scaleLinear()\n            .range([radius, outerRadius])\n            .domain([startYear, endYear])\n\n        // get constraints\n        const band = d3.scaleBand().range([0, 2 * Math.PI]).domain(_.keys(sectors))\n\n        // set phenomena x and y\n        return {\n            ...timeRange,\n            radius,\n            outerRadius,\n            scale,\n            sectors: sectors.map((sector, sectorIndex) => {\n                const startAngle = (Math.PI + band(sectorIndex))\n                const endAngle = Math.PI + band(sectorIndex) + band.step()\n                const key = `sector-${startYear}-${sector.id}`\n                return {\n                    ...sector,\n\n                    key,\n\n                    startAngle,\n\n                    endAngle,\n\n                    scale,\n\n                    arc: d3.arc()\n                        .innerRadius(radius)\n                        .outerRadius(outerRadius)\n                        .startAngle(startAngle)\n                        .endAngle(endAngle)(),\n\n                    constraints: {\n                        angle: [startAngle, endAngle],\n                        radius: [radius, outerRadius]\n                    },\n\n                    phenomena: sector.phenomena.map(phenomenon => {\n                        const { xOffset, time } = phenomenon\n\n                        const angle = startAngle + ((endAngle - startAngle) * xOffset)\n                        const phenomenonRadius = scale(time)\n\n                        const [x, y] = getCoordsFromAngleAndRadius(angle, phenomenonRadius)\n\n                        return {\n                            ...phenomenon,\n                            angle,\n                            radius: phenomenonRadius,\n                            x,\n                            y\n                        }\n                    })\n                }\n            })\n        }\n    })\n}\n\nconst Timelines = WrappedComponent => {\n    class WithTimelines extends PureComponent {\n        render() {\n            // const { containerHeight, containerWidth } = this.props\n            const containerHeight = 2300\n            const containerWidth = 2300\n            const svgDimensions = Math.min(containerHeight, containerWidth)\n            const radius = (svgDimensions / 2) - 30\n            const createTimeRanges = getCreateTimeRanges(radius)\n\n            return (\n                <WrappedComponent\n                    {...this.props}\n                    svgDimensions={svgDimensions}\n                    radius={radius}\n                    createTimeRanges={createTimeRanges}\n                />\n            )\n        }\n    }\n\n    return WithTimelines\n}\n\nconst getTimelines = ({ timelines }) => timelines\nconst getSectors = ({ sectors }) => sectors\nconst getPhenomena = ({ phenomena }) => phenomena\nconst getDraggedPhenomenonId = ({ radarSettings: { draggedPhenomenonId } }) => draggedPhenomenonId\n\nconst getPropsCreateTimeRanges = (state, props) => props.createTimeRanges\n\nconst getSectorPhenomena = (sector, phenomenas, startYear, endYear) => {\n    return phenomenas.filter(\n        ({ sectorId, time }) =>\n            sectorId === sector.id && time >= startYear && time < endYear\n    )\n}\n\nconst getTimelineSectors = (sectors, phenomena, startYear, endYear) => sectors.map(sector => ({\n    ...sector,\n    phenomena: getSectorPhenomena(sector, phenomena, startYear, endYear)\n}))\n\nconst getTimeRanges = createSelector(\n    [getTimelines, getSectors, getPhenomena],\n    (timeLineBoundaries, sectors, phenomena) => {\n        // TODO fix\n        const isPlaceholder = timeLineBoundaries.length === 1 && timeLineBoundaries[0][1] === 1\n\n        return timeLineBoundaries.map(({ year: startYear }, index) => {\n            if (timeLineBoundaries[index + 1]) {\n                const endYear = timeLineBoundaries[index + 1].year\n                const title = timeLineBoundaries[index + 1].title || ''\n                const id = timeLineBoundaries[index + 1].id\n                const version = timeLineBoundaries[index + 1].version || 1\n                const position = timeLineBoundaries[index + 1].position\n                const description = timeLineBoundaries[index].description\n                const label = timeLineBoundaries[index].label\n\n                return {\n                    id,\n                    title,\n                    startYear,\n                    endYear,\n                    isPlaceholder,\n                    sectors: getTimelineSectors(sectors, phenomena, startYear, endYear),\n                    version,\n                    position,\n                    description,\n                    label\n                }\n            }\n\n            return null\n        }).filter(timeRange => !!timeRange)\n    }\n)\n\nconst getRadarData = createSelector(\n    [getTimeRanges, getPropsCreateTimeRanges],\n    (timeRanges, createTimeRanges) => createTimeRanges(timeRanges)\n)\nconst getDraggedPhenomenon = createSelector(\n    [getPhenomena, getDraggedPhenomenonId],\n    (phenomena, draggedPhenomenonId) => _.find(\n        phenomena, ({ id }) => id === draggedPhenomenonId\n    )\n)\n\nconst mapStateToProps = (state, props) => {\n    const {\n        radarSettings,\n        loading,\n        phenomenaTypesById,\n        timelines\n    } = state\n\n    return {\n        loading,\n        radarSettings,\n        phenomenaTypesById,\n        timeRanges: getRadarData(state, props),\n        canEditRadar: radarSettings.canEditRadar,\n        isVisitor: radarSettings.isVisitor,\n        draggedPhenomenon: getDraggedPhenomenon(state),\n        timelines\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    ...bindActionCreators({\n        changeAddRadarFormVisibility,\n        addSector,\n        deleteSector,\n        updateSector,\n        fetchRadar,\n        changeEditPhenomenaVisibility,\n        deleteRadarPhenomenon,\n        storePhenomenon,\n        getUserGroups,\n        refetchRadarData,\n        toggleEditMenuVisiblity,\n        addPublicPhenomenaToRadar\n    }, dispatch),\n    setDraggedPhenomenon: phenomenon => dispatch(setDraggedPhenomenon(phenomenon.id || phenomenon.phenomenon_uuid)),\n    updatePhenomenon:\n        // phenomena do not have ids until placed\n        (phenomenon, positionData) => !phenomenon.time\n            ? dispatch(createPhenomenonWithPosition(phenomenon, positionData))\n            : dispatch(updatePhenomenon(phenomenon, positionData))\n})\n\nexport default compose(\n    Dimensions(),\n    Timelines,\n    connect(mapStateToProps, mapDispatchToProps)\n)(RadarPage)\n","import _ from 'lodash'\n\nimport { getNetworkMethods } from './network'\nimport * as actionTypes from '@sangre-fp/reducers/actionTypes'\nimport radarDataApi from '../radarDataApiProxy'\nimport { requestTranslation } from '@sangre-fp/i18n'\n\nexport function roundToX(num, X) {\n    return +(Math.round(num + \"e+\"+X)  + \"e-\"+X)\n}\n\nexport const updateTimerange = (timerange, callback) => (dispatch, getState) => {\n    const radarId = getState().radarSettings.id\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.UPDATE_TIMERANGE,\n        actionTypes.UPDATE_TIMERANGE_SUCCESS,\n        requestTranslation('updatingTimelinesError')\n    )\n\n    // can be data = {...payload} when title is removed from dto by konrad\n    const { id, version, position, label, description, year } = timerange\n    const data = { id, version, position, label, description, year }\n\n    dispatch(loading())\n\n    return radarDataApi.updateRadarTimeRange(radarId, data)\n        .then(timeRangeData => {\n            callback()\n            return dispatch(success({\n                ...timeRangeData.time_range\n            }))\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const updateTimerangePosition = (newTimelinePositions, oldTimelinePositions) => (dispatch, getState) => {\n    const radarId = getState().radarSettings.id\n    const timelines = getState().timelines\n    const newPosition = _.difference(newTimelinePositions, oldTimelinePositions)[0]\n\n    // because this is fired upon a onAfterChange event, the position has already been set by the uploadPositions function\n    const timelineToUpdate = _.find(timelines, { position: roundToX(Number(newPosition), 2) })\n    const data = { ...timelineToUpdate }\n\n    // first and last timerange position are unchangable\n    // so the only time timelineToUpload is false, is when one\n    // of those has been touched (they fire an event despite being disabled\n    // ( bug in rc-slider )\n    if (!timelineToUpdate) {\n        return\n    }\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.UPDATE_TIMERANGE,\n        actionTypes.UPDATE_TIMERANGE_SUCCESS,\n        requestTranslation('updatingTimelinesPositionError')\n    )\n\n    dispatch(loading())\n\n    return radarDataApi.updateRadarTimeRange(radarId, data)\n        .then(timeRangeData => dispatch(success({\n            ...timeRangeData.time_range\n        })))\n        .catch(err => {\n            // set the timeranges position to it's old position\n            dispatch({\n                type: actionTypes.UPDATE_TIMELINES,\n                payload: updatePositions(timelines, oldTimelinePositions)\n            })\n\n            dispatch(error(err))\n        })\n}\n\nexport const removeTimeline = timerange => (dispatch, getState) => {\n    const radarId = getState().radarSettings.id\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.REMOVE_TIMELINE,\n        actionTypes.REMOVE_TIMELINE_SUCCESS,\n        requestTranslation('removingTimelineError')\n    )\n\n    dispatch(loading())\n\n    const data = { ...timerange }\n\n    return radarDataApi.deleteRadarTimeRange(radarId, data)\n        .then(timeRangeData => dispatch(success(timeRangeData.time_range.id)))\n        .catch(err => dispatch(error(err)))\n}\n\n\nconst updatePositions = (timelines, positions) => {\n    return timelines\n        .map((timeline, index) => ({\n            ...timeline,\n            position: roundToX(Number(positions[index]), 2)\n        }))\n}\n\nexport const updateTimelinePositions = timelineYearRangeValues => (dispatch, getState) => {\n    const timelines = getState().timelines\n\n    // first and last positions are unchangable\n    const positions = timelineYearRangeValues.map((value, index) => {\n        if (index === 0) {\n            return 0\n        }\n\n        if (index === timelineYearRangeValues.length - 1) {\n            return 1\n        }\n\n        return value\n    })\n\n    dispatch({\n        type: actionTypes.UPDATE_TIMELINES,\n        payload: updatePositions(timelines, positions)\n    })\n}\n\nexport const addTimeline = (timeline, callback) => (dispatch, getState) => {\n    const timelines = getState().timelines\n    const { id: radarId, timelineLabelFormat } = getState().radarSettings\n\n    // insert new timeline into proper place\n    let newTimelines = [...timelines]\n    const newTimelineIndex = timelineLabelFormat ? _.sortedIndexBy(timelines, timeline, 'position') : _.sortedIndexBy(timelines, timeline, 'year')\n    newTimelines.splice(newTimelineIndex, 0, timeline)\n\n    // set the new timeline's position to be between it's neightbours\n    const nextTimelinePosition = Number(newTimelines[newTimelineIndex + 1].position)\n    const previousTimelinePosition = Number(newTimelines[newTimelineIndex - 1].position)\n    const timelinePosition = (nextTimelinePosition + previousTimelinePosition) / 2\n\n    const { loading, success, error } = getNetworkMethods(\n        actionTypes.ADD_TIMERANGE,\n        actionTypes.ADD_TIMERANGE_SUCCESS,\n        requestTranslation('addingTimelineError')\n    )\n\n    const data = {\n        ...newTimelines[newTimelineIndex],\n        position: roundToX(Number(timelinePosition), 2)\n    }\n\n    dispatch(loading())\n\n    return radarDataApi.addRadarTimeRange(radarId, data)\n        .then(timeRangeData => {\n            const newTimelineState = [...timelines]\n            // posiiton will come from backend once it's implemented\n            // then delete this position below\n            newTimelineState.splice(newTimelineIndex, 0, {...timeRangeData.time_range })\n\n            dispatch(success(newTimelineState))\n            callback()\n        })\n        .catch(err => dispatch(error(err)))\n}\n\nexport const toggleLabelMode = () => dispatch => dispatch({ type: actionTypes.TOGGLE_LABEL_MODE })","import _ from 'lodash'\nimport React, { PureComponent } from 'react'\nimport styled from 'styled-components'\nimport { Range, Handle } from 'rc-slider'\nimport Select from 'react-select'\nimport Draggable from 'react-draggable'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport {\n    Z_INDEX_MODAL,\n    Checkbox,\n    MaterialIcon,\n    Modal,\n    paddingModalStyles,\n    ModalContainer,\n    BorderTitleContainer as Container\n} from '@sangre-fp/ui'\nimport { createGlobalStyle } from 'styled-components'\nimport ReactQuill from 'react-quill'\nimport {\n    customQuillModules,\n    RANGE_MIN,\n    RANGE_MAX,\n    RANGE_BOUNDARY,\n    TIMELINE_TEMPLATE,\n    MAX_TIMELINES\n} from '../config'\nimport { formats } from '../quill'\nimport { roundToX } from '../actions/timelines'\n\nconst MODAL_WIDTH = 300\nconst MODAL_TO_RADAR_MARGIN = 37\n\nexport default class SectorEditorForm extends PureComponent {\n    state = {\n        // timerangeEditModal is either timeline to edit, false or new timeline template\n        timerangeEditModal: false,\n        updateTimerangeBlock: false,\n        oldPositions: this.props.timelines.map(({ year }) => year)\n    }\n\n    calculateModalDisplacement = () => {\n        const { radarWidth } = this.props\n\n        if (!radarWidth) {\n            return MODAL_TO_RADAR_MARGIN + 'px'\n        }\n\n        const windowWidth = window.innerWidth\n        const availableWidth = (windowWidth - radarWidth) / 2\n\n        if (availableWidth > MODAL_WIDTH + MODAL_TO_RADAR_MARGIN * 2) {\n            return availableWidth - (MODAL_WIDTH + MODAL_TO_RADAR_MARGIN) + 'px'\n        }\n\n        return MODAL_TO_RADAR_MARGIN + 'px'\n    }\n\n    cancelEvents = e => {\n        e.preventDefault()\n        e.stopPropagation()\n        this.blurHandles()\n    }\n\n    handleDescriptionChange = value => {\n        const { timerangeEditModal } = this.state\n\n        this.setState({\n            timerangeEditModal: {\n                ...timerangeEditModal,\n                description: value\n            }\n        })\n    }\n\n    handleYearChange = ({ target }) => {\n        const { timerangeEditModal } = this.state\n\n        this.setState({\n            timerangeEditModal: {\n                ...timerangeEditModal,\n                year: Number(target.value) ? Number(target.value) : ''\n            }\n        })\n    }\n\n    handleLabelChange = ({ target }) => {\n        const { timerangeEditModal } = this.state\n\n        this.setState({\n            timerangeEditModal: {\n                ...timerangeEditModal,\n                label: target.value\n            }\n        })\n    }\n\n\n    handleLabelPositionChange = ({ value, year }) => {\n        const { timerangeEditModal } = this.state\n\n        this.setState({\n            timerangeEditModal: {\n                ...timerangeEditModal,\n                position: value,\n                year\n            }\n        })\n    }\n\n    generateLabelPositionOptions = () => {\n        const { timelines } = this.props\n\n        return timelines.map(({ label }, index) => {\n            if (index < timelines.length - 1) {\n                const nextPosition = Number(timelines[index + 1].position)\n                const position = roundToX((Number(timelines[index].position) + nextPosition) / 2, 2)\n                const year = Math.round((Number(timelines[index].year) + Number(timelines[index + 1].year)) / 2)\n\n                return { label: requestTranslation('afterLabel', label), value: position, year }\n            }\n\n            return null\n        }).filter(option => option)\n    }\n\n    validateTimerangeInput = () => {\n        const { timerangeEditModal: { year, id } } = this.state\n        const { timelines, timelineLabelFormat } = this.props\n\n        const firstYear = Number(timelines[0].year)\n        const lastYear = Number(timelines[timelines.length - 1].year)\n\n        if (!id) {\n\n            if (timelines.length >= MAX_TIMELINES) {\n                return requestTranslation('timerangeAmountError')\n            }\n\n            if (!timelineLabelFormat && (!year || isNaN(year) || (year <= firstYear || year >= lastYear))) {\n\n                return requestTranslation('timerangeBoundaryError', ({ firstYear, lastYear }) )\n            }\n\n            if (_.find(timelines, [ 'year', Number(year) ])) {\n\n\n                return timelineLabelFormat ? requestTranslation('consecutiveYearError') : requestTranslation('timerangeExistsError')\n            }\n\n            let newTimelines = [...timelines]\n            const timeline = this.state.timerangeEditModal\n\n            if (!timeline || (timelineLabelFormat && !timeline.position)) {\n                return true\n            }\n\n            const newTimelineIndex = timelineLabelFormat ? _.sortedIndexBy(timelines, timeline, 'position') : _.sortedIndexBy(timelines, timeline, 'year')\n            newTimelines.splice(newTimelineIndex, 0, timeline)\n\n            const nextTimeline = newTimelines[newTimelineIndex + 1]\n            const previousTimeline = newTimelines[newTimelineIndex - 1]\n\n            if (Number(nextTimeline.position) - Number(previousTimeline.position) < RANGE_BOUNDARY * 2) {\n                return requestTranslation('timerangeSpaceError', ({ previousYear: timelineLabelFormat ? `'${previousTimeline.label}'` : previousTimeline.year, nextYear: timelineLabelFormat ? `'${nextTimeline.label}'` : nextTimeline.year }))\n            }\n        }\n\n        if (id) {\n            if (!year || isNaN(year)) {\n                return requestTranslation('timerangeError', ({ firstYear, lastYear }) )\n            }\n\n            const index = _.findIndex(timelines, { id })\n            const previousTimeline = timelines[index - 1]\n            const nextTimeline = timelines[index + 1]\n\n            if (nextTimeline && year >= nextTimeline.year) {\n                return requestTranslation('timerangeSmallerYearError', nextTimeline.year)\n            }\n\n            if (previousTimeline && year <= previousTimeline.year) {\n                return requestTranslation('timerangeLargerYearError', previousTimeline.year)\n            }\n\n            // if (year < 2018) {\n            //     return requestTranslation('timerangeCurrentYearError', 2018)\n            // }\n\n        }\n\n        return false\n    }\n\n    resetTimerangeEditModal = () => this.setState({ timerangeEditModal: false })\n\n    renderTimeRangeModal = () => {\n        const { timerangeEditModal } = this.state\n        const { addTimeline, updateTimerange, timelineLabelFormat } = this.props\n        const edit = timerangeEditModal.id\n        const disabledText = this.validateTimerangeInput()\n        const options = this.generateLabelPositionOptions()\n\n        return timerangeEditModal && (\n            <Modal\n                isOpen={true}\n                onRequestClose={() => this.setState({ timerangeEditModal: false})}\n                contentLabel='Timerange editor'\n                ariaHideApp={false}\n                style={paddingModalStyles}\n            >\n                <ModalContainer>\n                    <h2>\n                        {edit ?\n                            requestTranslation('editTimerange')\n                            :\n                            requestTranslation('addTimerange')\n                        }\n                    </h2>\n                    {timelineLabelFormat ?\n                        (\n                            <div className='mb-4 d-flex w-100 align-items-center justify-content-between'>\n                                <div style={{ width: '35%' }}>\n                                    <h3>{requestTranslation('label')}</h3>\n                                    <LabelInput\n                                        maxLength={35}\n                                        value={timerangeEditModal.label}\n                                        onChange={this.handleLabelChange}\n                                        placeholder={requestTranslation('typeLabel')}\n                                    />\n                                </div>\n                                {!edit && (\n                                    <div style={{ width: '35%' }}>\n                                        <h3>{requestTranslation('labelPosition')}</h3>\n                                        <Select\n                                            searchable={false}\n                                            clearable={false}\n                                            name='position'\n                                            className='fp-radar-select w-100 h-100'\n                                            value={timerangeEditModal.position}\n                                            onChange={this.handleLabelPositionChange}\n                                            options={options.length ? options : []}\n                                        />\n                                    </div>\n                                )}\n                            </div>\n                        )\n                    :\n                        (\n                            <div>\n                                <h3>{requestTranslation('year')}</h3>\n                                <InputContainer className='mb-4'>\n                                    <YearInput\n                                        onChange={this.handleYearChange}\n                                        value={timerangeEditModal.year}\n                                        maxLength={4}\n                                    />\n                                </InputContainer>\n                            </div>\n                        )\n                    }\n                    <p>{disabledText}</p>\n                    <h3>{requestTranslation('description')}</h3>\n                    <ReactQuill\n                        className='fp-wysiwyg'\n                        style={{ height: '250px', paddingBottom: '42px' }}\n                        modules={customQuillModules}\n                        onChange={this.handleDescriptionChange}\n                        formats={formats}\n                        value={timerangeEditModal.description || ''}\n                    />\n                    <div className={'confirmation-modal-actions d-flex justify-content-end mt-4'}>\n                        <button className='btn btn-lg btn-plain-gray'\n                                onClick={this.resetTimerangeEditModal}>\n                            {requestTranslation('cancel')}\n                        </button>\n                        <button\n                            className='btn btn-lg btn-primary'\n                            disabled={!!disabledText}\n                            onClick={() =>\n                                edit ?\n                                    updateTimerange(timerangeEditModal, this.resetTimerangeEditModal)\n                                    :\n                                    addTimeline(timerangeEditModal, this.resetTimerangeEditModal)\n                                }\n                        >\n                            {edit ? requestTranslation('edit') : requestTranslation('add')}\n                        </button>\n                    </div>\n                </ModalContainer>\n            </Modal>\n        )\n    }\n\n\n    renderHandles = handleProps => {\n        const {\n            timelines,\n            toggleConfirmationDialog,\n            removeTimeline,\n            timelineLabelFormat\n        } = this.props\n        const { index, dragging } = handleProps\n        const isDisabled = index === 0 || index === timelines.length - 1\n        const { year, label } = timelines[index]\n\n        return (\n            <Handle\n                key={year}\n                {...handleProps}\n                dragging={dragging.toString()}\n                disabled={isDisabled}\n                style={{ zIndex: timelines.length - index }}\n            >\n                {isDisabled ?\n                    <DragIconContainer />\n                :\n                    <DragIconContainer border>\n                        <MaterialIcon color={'#0A6996'}>\n                                unfold_more\n                        </MaterialIcon>\n                    </DragIconContainer>\n                }\n                <div className='pl-2 trunctuate'>{timelineLabelFormat ? label : year}</div>\n                <div\n                    className='ml-auto dropdown show dropdown-toggle h-100'\n                    href='#'\n                    role=\"button\"\n                    data-toggle=\"dropdown\"\n                    id=\"dropdownMenuLink\"\n                    onMouseDown={this.cancelEvents}\n                    onClick={this.cancelEvents}\n                    onMouseUp={this.cancelEvents}\n                >\n                    <button\n                        className='btn btn-link h-100 w-100 d-flex align-items-center justify-content-center pl-2 pr-2'\n                        onMouseDown={this.cancelEvents}\n                        onClick={this.cancelEvents}\n                        onMouseUp={this.cancelEvents}\n                    >\n                        <MaterialIcon\n                            color={'#0A6996'}\n                            onMouseDown={this.cancelEvents}\n                            onClick={this.cancelEvents}\n                            onMouseUp={this.cancelEvents}\n                        >\n                            more_horiz\n                        </MaterialIcon>\n                    </button>\n                    <div\n                        className='dropdown-menu'\n                        aria-labelledby=\"dropdownMenuLink\"\n                    >\n                        <div\n                            className='dropdown-item'\n                            onMouseDown={e => {\n                                this.cancelEvents(e)\n\n                                this.setState({ timerangeEditModal: timelines[index] })\n                            }}\n                        >\n                            {requestTranslation('edit')}\n                        </div>\n                        {!isDisabled &&\n                            <div\n                                className='dropdown-item'\n                                onMouseDown={e => {\n                                    this.cancelEvents(e)\n                                    toggleConfirmationDialog({\n                                        title: requestTranslation('timelineDeleteTitle', timelineLabelFormat ? label : year),\n                                        text: requestTranslation('timelineDeleteSubtitle'),\n                                        callback: () => removeTimeline(timelines[index])\n                                    })\n                                }}\n                            >\n                                {_.upperFirst(_.toLower(requestTranslation('delete')))}\n                            </div>\n                        }\n                    </div>\n                </div>\n            </Handle>\n        )\n    }\n\n    savePreviousPosition = positions => this.setState({ oldPositions: positions })\n\n    // this is needed because we're preventing bubbling when clicking on the dropdown\n    // in the custom handle. Without this the handle would still be focused after selecting an action\n    // and clicking anywhere else after would move said handle.\n    blurHandles = () => {\n        const handles = document.getElementsByClassName('rc-slider-handle')\n\n        for (let i = 0; i < handles.length - 1; i++) {\n            handles[i].blur()\n        }\n    }\n\n    isMobileDevice() {\n        return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1);\n    }\n\n    render() {\n        const {\n            editTimeRangesPageOpen,\n            toggleConfirmationDialog,\n            timerangePageHandler,\n            timelines,\n            updateTimelinePositions,\n            updateTimerangePosition,\n            timelineLabelFormat,\n            updateRadar,\n            toggleLabelMode\n        } = this.props\n        const { oldPositions, updateTimerangeBlock } = this.state\n\n        if (!editTimeRangesPageOpen || !timelines.length) {\n            return null\n        }\n\n        return (\n            <Draggable handle=\".handle\">\n                <TimeRangeEditorContainer\n                    left={this.calculateModalDisplacement}\n                    className='d-flex flex-column'\n                    style={{ height: this.isMobileDevice() ? '40vh' : '75vh'}}\n                >\n                    <RangeStyles />\n                    <button className={'btn-close-modal'} onClick={timerangePageHandler}>\n                        <i className='material-icons'>close</i>\n                    </button>\n                    <Container className='flex-shrink-0 handle' style={{ cursor: 'move' }}>\n                        <h3 className='radar-widget-title mb-0'>{requestTranslation('timelineEditor')}</h3>\n                    </Container>\n                    <Container className='pt-5 h-100 d-flex flex-column' style={{ paddingBottom: '50px' }}>\n                        <Range\n                            key={timelines.length}\n                            min={RANGE_MIN}\n                            max={RANGE_MAX}\n                            value={timelines.map(({ position }) => position )}\n                            handle={this.renderHandles}\n                            onBeforeChange={this.savePreviousPosition}\n                            onChange={updateTimelinePositions}\n                            // https://github.com/ant-design/ant-design/issues/13628\n                            onAfterChange={newPositions => {\n                                this.setState({ updateTimerangeBlock: !updateTimerangeBlock }, () => {\n                                    updateTimerangePosition(newPositions, oldPositions)\n                                    this.blurHandles()\n                                })\n                            }}\n                            vertical={true}\n                            allowCross={false}\n                            pushable={RANGE_BOUNDARY}\n                            step={RANGE_MAX / 100}\n                            reverse\n                        />\n                        <button\n                            className='btn btn-outline-secondary w-100 flex-shrink-0 position-relative'\n                            style={{ top: '25px' }}\n                            onClick={() => this.setState({ timerangeEditModal: TIMELINE_TEMPLATE })}\n                        >\n                            {requestTranslation('addTimelineButton')}\n                        </button>\n                    </Container>\n                    <Container className='flex-shrink-0'>\n                        <Checkbox\n                            label={requestTranslation('toggleTimelineMode')}\n                            className='mb-0'\n                            checked={!!timelineLabelFormat}\n                            onChange={() =>\n                                toggleConfirmationDialog({\n                                    text: requestTranslation('timelineModeSubtitle'),\n                                    title: requestTranslation('timelineModeTitle'),\n                                    callback: () => {\n                                        toggleLabelMode()\n                                        updateRadar(false)\n                                    }\n                                })\n                            }\n                        />\n                    </Container>\n                    <Container className='d-flex flex-shrink-0'>\n                        <button\n                            className='btn btn-primary ml-auto'\n                            onClick={timerangePageHandler}\n                        >\n                            {requestTranslation('done')}\n                        </button>\n                    </Container>\n                    {this.renderTimeRangeModal()}\n                </TimeRangeEditorContainer>\n            </Draggable>\n        )\n    }\n}\n\nconst TimeRangeEditorContainer = styled.div`\n    z-index: ${Z_INDEX_MODAL};\n    background-color: #F2F4F4;\n    position: absolute;\n    top: 100px;\n    left: ${({ left }) => left};\n    width: 300px;\n    max-height: 900px;\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n`\n\nconst DragIconContainer = styled.div`\n    width: 35px;\n    height: 100%;\n    border-right: ${ ({ border }) => border ? '1px solid #E9ECEC' : null };\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nconst InputContainer = styled.div`\n    width: 125px;\n    height: 38px;\n    position: relative;\n    border: 1px solid #ccc;\n`\n\nconst YearInput = styled.input`\n    width: 100%;\n    height: 100%;\n    border: none;\n    display: flex;\n    align-items: center;\n    font-size: 18px;\n    letter-spacing: 15px;\n    font-weight: bold;\n    padding-left: 15px;\n    margin-right: -21px;\n`\n\nconst LabelInput = styled.input`\n    border: 1px solid #ccc;\n    height: 38px;\n    padding: 0 15px;\n    font-weight: medium;\n    font-size: 14px;\n    width: 100%;\n`\n\nconst RangeStyles = createGlobalStyle`\n    .trunctuate {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n    .rc-slider.rc-slider-vertical {\n        pointer-events: none;\n        width: 100%;\n        .rc-slider-handle {\n            pointer-events: auto;\n            width: 100%;\n            height: 35px;\n            border-radius: 5px;\n            border: 1px solid #E9ECEC;\n            display: flex;\n            align-items: center;\n            /*\n                https://github.com/react-component/slider/blob/master/src/Handle.jsx\n                line 90 needs to be fixed, they forgot to check if slider is vertical\n                when doing translateY. Submit a merge request\n            */\n            transform: translateY(-50%) !important;\n        }\n        .rc-slider-handle:focus {\n            outline: none;\n            box-shadow: none;\n        }\n        .rc-slider-track {\n            background-color: #C8C8C9;\n            left: 15px;\n        }\n        .rc-slider-rail, .rc-slider-step {\n            left: 15px;\n        }\n    }\n    .dropdown-toggle::after {\n        display: none;\n    }\n`\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport TimerangeEditorForm from '../components/TimerangeEditorForm'\nimport { timerangePageHandler, updateRadar } from '../actions/radarSettings'\nimport { toggleConfirmationDialog } from '../actions/confirmDialog'\nimport {\n    updateTimelinePositions,\n    removeTimeline,\n    addTimeline,\n    updateTimerange,\n    updateTimerangePosition,\n    toggleLabelMode\n} from '../actions/timelines'\n\nexport default connect(\n    state => {\n        const {\n            radarSettings: {\n                editTimeRangesPageOpen,\n                timelineLabelFormat\n            },\n            timelines\n        } = state\n\n        return {\n            editTimeRangesPageOpen,\n            timelines,\n            timelineLabelFormat\n        }\n    },\n    dispatch => bindActionCreators({\n        timerangePageHandler,\n        toggleConfirmationDialog,\n        updateTimelinePositions,\n        removeTimeline,\n        addTimeline,\n        updateTimerange,\n        updateTimerangePosition,\n        updateRadar,\n        toggleLabelMode\n    }, dispatch)\n)(TimerangeEditorForm)\n","import _ from 'lodash'\nimport React from 'react'\nimport styled from 'styled-components'\nimport { requestTranslation } from '@sangre-fp/i18n'\nimport { Checkbox, PhenomenonType, Tag } from '@sangre-fp/ui'\nimport { useTags } from '@sangre-fp/hooks'\n\nexport const Filters = props => {\n    const renderPhenomenaType = phenomenaType => {\n        const {groupType, id, alias, title, style} = phenomenaType\n        const {activeFilter, setActiveFilter} = props\n\n        return (\n            <StateContainer key={id}>\n                <PhenomenaState>\n                    <PhenomenonType type={alias} size={15} fill = {style ? style.color : null} />\n                </PhenomenaState>\n                <Checkbox\n                    label={groupType ? title : requestTranslation(alias)}\n                    value={id}\n                    checked={_.find(activeFilter, filter => filter.id === id)}\n                    onChange={() => setActiveFilter(phenomenaType)}\n                    className='phenomena-checkbox'\n                />\n            </StateContainer>\n        )\n    }\n\n    const renderTags = tags => {\n        const {language, activeTagFilter, setActiveTagFilter} = props\n\n        return (\n            <div>\n                {!!(_.isArray(tags) && tags.length) && (\n                    <div>\n                        <div className='d-flex flex-row flex-wrap'>\n                            {tags.map((tag, index) => {\n                                return (\n                                    <OptionsListItem key={index} style={{padding: '0 5px'}}>\n                                        <Tag\n                                            label={tag.label[language] || tag.label}\n                                            active={_.find(activeTagFilter, filter => filter === tag.uri)}\n                                            onClick={() => setActiveTagFilter(tag.uri)}\n                                        />\n                                    </OptionsListItem>\n                                )\n                            })}\n                        </div>\n                    </div>\n                )}\n            </div>\n        )\n    }\n\n    const renderLoading = () => <div>{requestTranslation('loading')}</div>\n\n    const {\n        filtersVisible,\n        phenomenaTypes,\n        toggleFilter,\n        resetFilters,\n        activeFilter,\n        activeTagFilter,\n        group,\n        hideInfoButton = false\n    } = props\n\n    const {tags} = useTags(group && group.id)\n    let [fpTags, groupTags] = tags\n    const activeFilters = [...activeFilter, ...activeTagFilter].length\n\n    return (\n        <div style={{ zIndex: 2 }}>\n            {!hideInfoButton && <div className='radar-nav' id='radar-nav-bottomleft' style={{zIndex: 1}}>\n                    <HubLink className='btn-round btn-lg d-flex align-items-center justify-content-center' target='_blank'\n                             rel='noopener noreferrer' href={requestTranslation('infoUrl')}>\n                        <span className='af-custom-info'/>\n                        <span className='sr-only'>Info</span>\n                    </HubLink>\n                </div> }\n            <FiltersButton\n              className={`btn-round btn-lg d-flex align-items-center justify-content-center ${activeFilters ? '' : 'inactive'}`}\n              onClick={toggleFilter}\n            >\n                <i className='material-icons' style={{transform: 'rotate(-90deg)', fontWeight: 'bold'}}>tune</i>\n                {!!activeFilters && (\n                  <ActiveFiltersIndicator\n                      className='d-flex justify-content-center align-items-center'>{activeFilters}</ActiveFiltersIndicator>\n                )}\n            </FiltersButton>\n            {filtersVisible && (\n                <LegendContainer className='pb-4'>\n                    <button className={'btn-close-modal'} onClick={toggleFilter}>\n                        <i className='material-icons'>close</i>\n                    </button>\n                    <Container>\n                        <h3 className='radar-widget-title mb-0'>{requestTranslation('filterPhenomena')}</h3>\n                    </Container>\n                    <Container style={{padding: '15px 10px'}}>\n                        <h5 className='mb-2 mt-1 ml-2'>{requestTranslation('filterByTag')}</h5>\n                        {renderTags([...groupTags, ...fpTags])}\n                    </Container>\n                    <Container>\n                        <h5 className='mb-3 mt-1'>{requestTranslation('filterByType')}</h5>\n                        {phenomenaTypes && phenomenaTypes.length ? _.map(phenomenaTypes, renderPhenomenaType) : renderLoading}\n                    </Container>\n                    <Container style={{borderBottom: 'none'}}>\n                        <button className='btn btn-outline-secondary w-100' onClick={resetFilters}>\n                            {requestTranslation('resetFilters')}\n                        </button>\n                    </Container>\n                </LegendContainer>\n            )}\n        </div>\n    )\n}\n\nconst OptionsListItem = styled.div`\n    padding: 0 12px;\n    display: flex;\n    align-items: center;\n    margin-top: 8px;\n`\n\nconst LegendContainer = styled.div`\n  width: 270px;\n  position: absolute;\n  background-color: #F2F4F4;\n  left: 37px;\n  bottom: 85px;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n`\n\nconst FiltersButton = styled.button`\n  position: absolute;\n  bottom: 65px;\n  left: 15px;\n  /*background-color: rgb(242,244,244) !important;*/\n\n  &.inactive {\n    background-color: transparent !important;\n    border: 2px solid white;\n\n    i {\n      color: white;\n    }\n  }\n`\n\nconst Container = styled.div`\n  padding: 15px 17px;\n  border-bottom: 1px solid #e9e9ea;\n  max-height: 260px;\n  overflow: auto;\n  ::-webkit-scrollbar {\n    width: 8px;\n    margin-right: 2px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: rgb(194, 208, 215);\n    border-radius: 20px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: white;\n    border-radius: 20px;\n  }\n`\n\nconst StateContainer = styled.div`\n  display: flex;\n  box-sizing: border-box;\n  min-height: 25px;\n  align-items: center;\n  position: relative;\n`\n\nconst PhenomenaState = styled.div`\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  position: absolute;\n  z-index: 10;\n  left: 27px;\n`\n\nconst HubLink = styled.a`\n  background-color: transparent;\n  border: 2px solid white;\n  &:hover {\n    background-color: transparent;\n  }\n`\n\nconst ActiveFiltersIndicator = styled.div`\n  width: 13px;\n  height: 13px;\n  background-color: white;\n  font-size: 9px;\n  position: absolute;\n  color: black;\n  top: 0px;\n  left: 0px;\n  border-radius: 50%;\n`\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { Filters } from '../components/Filters'\nimport { toggleFilter, setActiveFilter, resetFilters, setActiveTagFilter } from '../actions/radarSettings'\n\nexport default connect(\n    state => {\n        const {\n            phenomenaTypes,\n            filters: {\n                filtersVisible,\n                activeFilter,\n                activeTagFilter\n            },\n            radarSettings: {\n                group,\n                radarLanguage\n            }\n        } = state\n\n        return {\n            phenomenaTypes,\n            filtersVisible,\n            activeFilter,\n            activeTagFilter,\n            group,\n            language: radarLanguage\n        }\n    },\n    dispatch => bindActionCreators({\n        toggleFilter,\n        setActiveFilter,\n        resetFilters,\n        setActiveTagFilter\n    }, dispatch)\n)(Filters)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createGlobalStyle } from 'styled-components'\n\nexport const RadarStyles = createGlobalStyle` \n   html, body {\n      overflow: hidden !important;\n      font-family: 'L10' !important;\n  }\n  \n  .radar-widget-title {\n    font-size: 18px;\n  }\n  \n  .fp-wysiwyg .ql-editor p, \n  .fp-wysiwyg .ql-editor h1,\n  .fp-wysiwyg .ql-editor h2,\n  .fp-wysiwyg .ql-editor h3,\n  .fp-wysiwyg .ql-editor h4,\n  .fp-wysiwyg .ql-editor h5,\n  .fp-wysiwyg .ql-editor h6,\n  .fp-wysiwyg .ql-editor iframe,\n  .fp-wysiwyg .ql-editor img {\n    margin-bottom: 20px;\n  }\n`","import { initTranslations } from '@sangre-fp/i18n'\n\nconst localTranslations = {\n    pptxTimestamp: {\n      en: 'Timestamp',\n      fi: 'Ajankohta'\n    },\n    pptxCommentsTitle: {\n      en: 'Comments',\n      fi: 'Kommentit'\n    },\n    pptxCommentsText: {\n      en: count => `There are ${count === 0 ? 'no' : count } comment${count !== 1 ? 's' : ''} on this radar. To review them${count === 0 ? ' later': ''}, please log in to the platform and click this link: `,\n        fi: count => count === 0 ? 'Kartalle ei ole viel kyttjien kommentteja. Pset katsomaan niit myhemmin kirjautumalla palveluun ja klikkaamalla tt linkki: ' : `Kartalla on yhteens ${count} kyttjien kommentti${count > 1 ? 'a' : ''}. Pset katsomaan niit kirjautumalla palveluun ja klikkaamalla tt linkki: `\n    },\n    download: {\n        en: 'Download',\n        fi: 'Lataa'\n    },\n    downloadPPTXDescription: {\n        en: 'Download radar summary in PowerPoint format.',\n        fi: 'Lataa yhteenveto PowerPoint-muodossa.'\n    },\n    pptxGenerateReport: {\n        en: 'Download summary (ppt)',\n        fi: 'Lataa yhteenveto (ppt)'\n    },\n    generatingPPTXError: {\n        en: `generating PowerPoint`,\n        fi: `raporttia luodaan`\n    },\n    pptxNotVoted: {\n      en: 'Not voted',\n      fi: 'Ei ni'\n    },\n    pptxReportBy: {\n      en: 'by',\n      fi: '-'\n    },\n    pptxSectorListTitle: {\n      en: 'List of Sectors',\n      fi: 'Sektorit'\n    },\n    pptxRatedContent: {\n        en: 'Rated Content',\n        fi: 'Arvioitu sislt'\n    },\n    pptxReportTitle: {\n        en: 'Content Summary',\n        fi: 'Yhteenveto'\n    },\n    pptxSector: {\n        en: 'Sector',\n        fi: 'Sektori'\n    },\n    pptxSectorContent: {\n        en: 'Content in the Sector',\n        fi: 'Sektorin sislt'\n    },\n    pptxTopVotedContent: {\n        en: 'Top-Voted Content',\n        fi: 'nestetyt ilmit'\n    },\n    timelineModeTitle: {\n        en: `Please confirm you want to switch the label format`,\n        fi: `Haluatko, ett haluat muuttaa aikajanan formaattia`\n    },\n    timelineModeSubtitle: {\n        en: ``,\n        fi: ``\n    },\n    timelineDeleteTitle: {\n        en: year => `Delete ${year}?`,\n        fi: year => `Poista ${year}?`\n    },\n    timelineDeleteSubtitle: {\n        en: `You're about to remove this time range. The content on the radar will not be removed, it will be re-organised according to the remaining ranges. Do you want to continue??`,\n        fi: `Olet poistamassa aikakeh. Sen sislt ei poisteta, vaan se jrjestetn uudelleen jljelle jvien kehien mukaisesti. Haluatko jatkaa?`\n    },\n    addTimelineButton: {\n        en: `+ ADD NEW RANGE`,\n        fi: `+ LIS UUSI KEH`\n    },\n    deleteSignalConfirmation: {\n        en: 'Are you sure?',\n        fi: 'Oletko varma?'\n    },\n    description: {\n        en: `Description`,\n        fi: `Kuvaus`\n    },\n    year: {\n        en: `Year`,\n        fi: `Vuosi`\n    },\n    add: {\n        en: `Add`,\n        fi: `Lis`\n    },\n    timerangeBoundaryError: {\n        en: ({ firstYear, lastYear }) => `Please enter a valid input between ${firstYear} and ${lastYear}`,\n        fi: ({ firstYear, lastYear }) => `Syt vuosi vlilt  ${firstYear} ja ${lastYear}`,\n    },\n    timerangeSpaceError: {\n        en: ({ previousYear, nextYear }) => `There's not enough space between ${previousYear} and ${nextYear} on your timerange. Please adjust your time ranges`,\n        fi: ({ previousYear, nextYear }) => `Vuosien ${previousYear} ja ${nextYear} vlill ei ole tilaa uudelle kehlle. Tee vliin tilaa (vuosilukuina) ja yrit uudestaan`,\n    },\n    timerangeAmountError: {\n        en: `You have reached the maxiumum amount of timeranges, please remove a timerange before trying to add a new one.`,\n        fi: `Kartalle ei mahdu useampia kehi. Voit poistaa yhden listksesi uuden tai nimet nykyiset keht uudelleen.`\n    },\n    timerangeError: {\n        en: `Please enter a valid input`,\n        fi: `Syt vuosiluku`\n    },\n    timerangeSmallerYearError: {\n        en: nextYear => `Please enter a year smaller than ${nextYear}`,\n        fi: nextYear => `Syt vuosiluku ennen vuotta ${nextYear}`,\n    },\n    timerangeLargerYearError: {\n        en: previousYear => `Please enter a year larger than ${previousYear}`,\n        fi: previousYear => `Syt vuosiluku ${previousYear} jlkeen`,\n    },\n    timerangeCurrentYearError: {\n        en: currentYear => `Please enter a year after ${currentYear}`,\n        fi: currentYear => `Syt vuosiluku ${currentYear} jlkeen`,\n    },\n    timelineEditor: {\n        en: `Timerange editor`,\n        fi: `Aikajakson muokkaus`\n    },\n    updatingTimelinesPositionError: {\n        en: `updating your timerange's position`,\n        fi: `pivitetn aikajakson sijaintia`\n    },\n    removingTimelineError: {\n        en: `removing your timerange`,\n        fi: `poistetaan aikajakso`\n    },\n    addingTimelineError: {\n        en: `adding your timerange`,\n        fi: `listn aikajakso`\n    },\n    timerangeExistsError: {\n        en: `This timerange already exists!`,\n        fi: `Tm aikajakso on jo olemassa!`\n    },\n    label: {\n        en: `Label`,\n        fi: `Kehn nimi`\n    },\n    typeLabel: {\n        en: 'Type label',\n        fi: 'Tyypin nimi'\n    },\n    labelPosition: {\n        en: 'Label position',\n        fi: 'Kehn nimen sijainti'\n    },\n    afterLabel: {\n        en: previousLabel => `Below ${previousLabel}`,\n        fi: previousLabel => `Alapuolelle ${previousLabel}`\n    },\n    consecutiveYearError: {\n        en: 'The years behind these labels are consectuive, please switch back to year format and adjust for space before continuing',\n        fi: 'Vuosileimat kehien nimien taustalla ovat perkkiset. Palauta aikajana vuosi-formaattiin ja tee tilaa ennen kuin jatkat.'\n    },\n    filterPhenomena: {\n        en: `Filter content`,\n        fi: `Suodata sislt`\n    },\n    goToHub: {\n        en: 'Open the hub',\n        fi: 'Avaa Hub'\n    },\n    moreInfoHub: {\n        en: 'For more info go to the hub',\n        fi: 'Lis tietoa lydt HUBista (englanniksi)'\n    },\n    toggleTimelineMode: {\n        en: `Use text labels instead of years`,\n        fi: `Kyt teksti vuosiluvun sijaan`\n    },\n    done: {\n        en: `DONE`,\n        fi: `VALMIS`\n    },\n    confirm: {\n        en: `CONFIRM`,\n        fi: `MUOKKAA`\n    },\n    cancel: {\n        en: `CANCEL`,\n        fi: `PERUUTA`\n    },\n    filterByType: {\n        en: `BY TYPE`,\n        fi: `TYYPIT`\n    },\n    filterByTag: {\n        en: `BY TAG`,\n        fi: `TAGIT`\n    },\n    openPublicLink: {\n        en: `SHOW THE SHARED LINK`,\n        fi: `NYT JAETTAVA LINKKI`\n    },\n    createPublicLink: {\n        en: `CREATE A SHARED LINK`,\n        fi: `LUO JAETTAVA LINKKI`\n    },\n    publicLink: {\n        en: `Shared Link`,\n        fi: `Jaettava linkki`\n    },\n    publicLinkNote: {\n        en: `Copy the link and share it in your network. Anyone with the link can access the radar and collaborate. For data privacy reasons, we recommend deleting the shared link when its not used anymore.`,\n        fi: `Kopioi linkki, ja jaa se verkostossasi. Otathan huomioon, ett linkki klikkaamalla tlle kartalle psee kuka tahansa. Tietoturvasyist suosittelemme jaettavan linkin poistamista, kun sit ei en tarvita.`\n    },\n    regeneratePublicLink: {\n        en: `REGENERATE LINK`,\n        fi: `LUO UUSI LINKKI`\n    },\n    deletePublicLink: {\n        en: `DELETE THE SHARED LINK`,\n        fi: `POISTA JAETTAVA LINKKI`\n    },\n    publicLinkURL: {\n        en: `Shared link: `,\n        fi: `Jaettava linkki:`\n    },\n    regeneratePublicLinkNote: {\n        en: `Note! Regenerating the link will deactivate the current link.`,\n        fi: `Huom. Uuden linkin luonti poistaa nykyisen linkin toiminnasta.`\n    },\n    deletePublicLinkBtn: {\n        en: `DELETE THE CURRENT SHARED LINK`,\n        fi: `POISTA NYKYINEN JAETTU LINKKI`\n    },\n    sharePublicLinkConfirmation: {\n        en: `Are you sure you want to regenerate a shared link?`,\n        fi: `Haluatko varmasti luoda uuden jaettavan linkin?`\n    },\n    sharePublicLinkConfirmationNote: {\n        en: `The current link will stop working when you create a new one.`,\n        fi: `Nykyinen linkki lakkaa toimimasta, kun luot uuden.`\n    },\n    deletePublicLinkConfirmation: {\n        en: `Are you sure you want to delete the shared link?`,\n        fi: `Haluatko varmasti poistaa jaettavan linkin?`,        \n    },\n    deletePublicLinkConfirmationNote: {\n        en: `When you delete the shared link, the radar remains visible to the users who have been granted access to the radar in the user management.`,\n        fi: `Poistettuasi jaetun linkin tm kartta nkyy vain henkilille, joille on kyttjhallinnassa annettu sille psy.`\n    },\n    copyToClipboard: {\n        en: `Copy to clipboard`,\n        fi: `Kopioi leikepydlle`\n    },\n    publicLinkCopied: {\n        en: `Link copied.`,\n        fi: `Linkki kopioitu.`\n    },\n    shareRadarFromUsrMngmt: {\n        en: `You can invite users to this radar from the User management, or by creating a Shared link and share that in your network. If you choose to create a Shared link, please note, that anyone with the link can access the radar and collaborate on it.`,\n        fi: `Voit kutsua kollegasi kartalle kyttjhallinnasta tai tehd jaettavan linkin ja jakaa sen verkostossasi. Huomaathan, ett jakamaasi linkki klikkaamalla kuka tahansa voi pst kartalle ja osallistua tyskentelyyn.` \n    },\n    publicLinkExisted : {\n        en: `A shared link already exists for this radar. Click below to view it.`,\n        fi: `Tlle kartalle on tehty jaettava linkki. Voit katsoa sen alta.`\n    },\n    checkPublicLinkAlreadyExisted: {\n        en:`A shared link already exists for this radar. Click below to view it.`,\n        fi:`Tlle kartalle on tehty jaettava linkki. Voit katsoa sen alta.`\n    },\n    goToManagement: {\n        en:`OPEN THE USER MANAGEMENT`,\n        fi:`AVAA KYTTJHALLINTA`\n    },\n    ok: {\n        en:`OK`,\n        fi:`OK`\n    },\n    sharedLinkDeletedNote: {\n        en:`The shared link is now deleted from this radar.`,\n        fi:`Jaettava linkki on nyt poistettu tlt kartalta.`\n    },\n    upvotesForHaloDescription: {\n        en:`Sum of votes required for 'halo' effect:`,\n        fi:`Sdekehn vaadittava nimr:`\n    },\n    createFormDiscussionDescription: {\n        en: ` Enable Discussion area in the Collaboration results section.`,\n        fi: ` Enable Discussion area in the Collaboration results section.`\n    },\n    verticalAxisName: {\n        en:`Vertical axis name`,\n        fi:`Pystyakselin nimi`\n    },\n    HorizontalAxisName: {\n        en:`Horizontal axis name`,\n        fi:`Vaaka-akseli`\n    },\n    IntructionsForNamingAxis: {\n        en:`You can select the commonly used axis from the pulldown menu, and/or fill in the fields manually. `,\n        fi:`You can select the commonly used axis from the pulldown menu, and/or fill in the fields manually. `\n    },\n    FlipHorizontalVertical: {\n        en:`FLIP HORIZONTAL/VERTICAL`,\n        fi:`VAIHDA VAAKA- JA PYSTYAKSELIT`\n    },\n    clearAllFieldsBtn: {\n        en:`CLEAR ALL FIELDS`,\n        fi:`TYHJENN KAIKKI KENTT`\n    },\n    editManuallyBtn: {\n        en:`EDIT MANUALLY`,\n        fi:`MUOKKAA KSIN`\n    },\n    InfoIconHover: {\n        en:`Click for more info.`,\n        fi:`Avaa listiedot klikkaamalla.`\n    },\n    InfoModalVotingNote: {\n        en: `The Voting tool enables prioritisation of the radar content together with your team.`,\n        fi:`The Voting tool enables prioritisation of the radar content together with your team.`\n        \n    },\n\n    InfoModalVotingContent: {\n        en:`\n         It activates up and down arrows on the top-right corner of Content cards`,\n        fi:`\n         It activates up and down arrows on the top-right corner of Content cards`\n    },\n    InfoModalVotingContent2: {\n        en:`\n         The 'halo' effect can be activated to display a light circle around the content dot on the radar screen, when the set threshold is reached.`,\n        fi:`\n         The 'halo' effect can be activated to display a light circle around the content dot on the radar screen, when the set threshold is reached.`\n    },\n    InfoModalVotingContent3: {\n        en:`\n         Voting summary can be found from the radar centre`,\n        fi:`\n         Voting summary can be found from the radar centre`\n    },\n    InfoModalVotingContent4: {\n        en:`\n         Remember to Save your settings!`,\n        fi:`\n         Remember to Save your settings!`\n    },\n    InfoModalVotingContent5: {\n        en:`\n         If you wish to discard the changes you made, click Cancel`,\n        fi:`\n         If you wish to discard the changes you made, click Cancel`\n    },\n    LearnMoreVotingBtn: {\n        en:`How the Voting system works in Futures Platform?`,\n        fi: `How the Voting system works in Futures Platform?`\n    },\n    GuideVotingBtn: {\n        en:`How to organise a Voting session in practise, and why?`,\n        fi: `How to organise a Voting session in practise, and why?`\n    },\n    InfoModalRatingNote: {\n        en:`The Rating tool enables evaluation of the radar content by two axis, and displays the results in a fourfold table.`,\n        fi: `The Rating tool enables evaluation of the radar content by two axis, and displays the results in a fourfold table.`\n    },\n    InfoModalRatingContent: {\n        en:`\n         It activates the 'axis sliders' on each content card`,\n        fi:`\n         It activates the 'axis sliders' on each content card`\n    },\n    InfoModalRatingContent2: {\n        en:`\n         Easily select some of the commonly used axis from the dropdown menu, and/or fill in any custom values manually`,\n        fi:`\n         Easily select some of the commonly used axis from the dropdown menu, and/or fill in any custom values manually`\n    },\n    InfoModalRatingContent3: {\n        en:`\n         Rating summary can be found from the radar centre`,\n        fi:`\n         Rating summary can be found from the radar centre`\n    },\n    InfoModalRatingContent4: {\n        en:`\n         Remember to Save your settings!`,\n        fi:`\n         Remember to Save your settings!`\n    },\n    InfoModalRatingContent5: {\n        en:`\n         If you wish to discard the changes you made, click Cancel`,\n        fi:`\n         If you wish to discard the changes you made, click Cancel`\n    },\n    LearnMoreRatingBtn: {\n        en:`How the Rating system works in Futures Platform?`,\n        fi: `How the Rating system works in Futures Platform?`\n    },\n    GuideRatingBtn: {\n        en:`How to organise a Rating session in practise, and why?`,\n        fi: `How to organise a Rating session in practise, and why?`\n    },\n    InfoModalCommentingNote: {\n        en:`The Commenting tool enables all team members to leave their notes on the radar content. `,\n        fi: `The Commenting tool enables all team members to leave their notes on the radar content. `\n    },\n    InfoModalCommentingContent: {\n        en:`\n         It activates three commenting fields on the content cards: Opportunities, Threats and Actions.\n        `,\n        fi: `\n         It activates three commenting fields on the content cards: Opportunities, Threats and Actions.\n        `\n    },\n    InfoModalCommentingContent2: {\n        en:`\n         All comments are gathered to the summary views that you can access by clicking the radar centre.`,\n        fi: `\n         All comments are gathered to the summary views that you can access by clicking the radar centre.`\n    },\n    InfoModalCommentingContent3: {\n        en:`\n         A summary of content specific comments can be exported.`,\n        fi: `\n         A summary of content specific comments can be exported.`\n    },\n    LearnMoreCommentingBtn: {\n        en:`How the Commenting system works in Futures Platform?`,\n        fi: `How the Commenting system works in Futures Platform?`\n    },\n    GuideCommentingBtn: {\n        en:`How to organise a Commenting session in practise, and why?`,\n        fi: `How to organise a Commenting session in practise, and why?`\n    },\n    InfoModalDiscussionNote: {\n        en:`The Discussion area allows free conversation, collecting feedback, or e.g. easily collecting participant answers during a foresight workshop.`,\n        fi: `The Discussion area allows free conversation, collecting feedback, or e.g. easily collecting participant answers during a foresight workshop.`\n    },\n    InfoModalDiscussionContent: {\n        en:`\n         It activates the discussion board on the Collaboration results view. \n        `,\n        fi: `\n         It activates the discussion board on the Collaboration results view. \n        `\n    },\n    InfoModalDiscussionContent2: {\n        en:`\n         Can be used to discuss on Voting, Rating and Commenting results.`,\n        fi: `\n         Can be used to discuss on Voting, Rating and Commenting results.`\n    },\n    InfoModalDiscussionContent3: {\n        en:`        \n         The Discussion area can be exported as PDF / PPT summary.`,\n        fi: `\n         The Discussion area can be exported as PDF / PPT summary.`\n    },\n    LearnMoreDiscussionBtn: {\n        en:`How the Discussion area works in Futures Platform?`,\n        fi: `How the Discussion area works in Futures Platform?`\n    },\n    GuideDiscussionBtn: {\n        en:`How to organise a Discussion in practise, and why?`,\n        fi: `How to organise a Discussion in practise, and why?`\n    },\n    commenting: {\n        en:`Commenting`,\n        fi: `Kommentointi`\n    },\n    CommentingTool: {\n        en:`Commenting tool`,\n        fi: `Commenting tool`\n    },\n    RatingTool: {\n        en:`Rating tool`,\n        fi: `Rating tool`\n    },\n    VotingTool: {\n        en:`Voting tool`,\n        fi: `Voting tool`\n    },\n    activateUsers: {\n        en:`Collaboration tools`,\n        fi: `Aktiviteetit`\n    },\n    createFormVotingDescription: {\n        en:`Enable Voting on Content cards.`,\n        fi: `Salli nestys sisltkorteilla.`\n    },\n    upvotesForHalo: {\n        en:`Enable 'halo' effect on Radar screen.`,\n        fi: `Salli sdekeht karttankymss.`\n    },\n    createFormRatingDescription: {\n        en:`Enable two axis Rating on Content cards (fourfold table).`,\n        fi: `Aktivoi arviointiakselit sisltkorteilla (nelikentt).`\n    },\n    selectValue: {\n        en:`Select...`,\n        fi: `Valitse...`\n    },\n    manualEditLeftEnd: {\n        en:`Horizontal axis  Left end`,\n        fi: `Vaaka-akseli  vasen`\n    },\n    manualEditRightEnd: {\n        en:`Horizontal axis  Right end`,\n        fi: `Vaaka-akseli  oikea`\n    },\n    manualEditLowEnd: {\n        en:`Vertical axis  Low end`,\n        fi: `Pystyakseli  ala`\n    },\n    manualEditHighEnd: {\n        en:`Vertical axis  High end`,\n        fi: `Pystyakseli   yl`\n    },\n    manualEditTopLeft: {\n        en:`Fourfold table  top left`,\n        fi: `Nelikentt  vasen ylosa`\n    },\n    manualEditTopRight: {\n        en:`Fourfold table  top right`,\n        fi: `Nelikentt  oikea ylosa`\n    },\n    manualEditBottomLeft: {\n        en:`Fourfold table  bottom left`,\n        fi: `Nelikentt  vasen alaosa`\n    },\n    manualEditBottomRight: {\n        en:`Fourfold table  bottom right`,\n        fi: `Nelikentt  oikea alaosa`\n    },\n    createFormCommentingDescription: {\n        en:`Enable Commenting on Content cards.`,\n        fi: `Aktivoi kommentointikentt sisltkorteilla.`\n    },\n    allowLikeCommenting: {\n        en:`Enable Liking other users comments.`,\n        fi: `Salli kyttjien tykt toistensa kommenteista.`\n    }\n   \n    \n    \n}\n\ninitTranslations(localTranslations);\n","import './polyfills'\nimport 'react-app-polyfill/ie11'\nimport 'core-js'\nimport 'url-search-params-polyfill'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store from './configureStore'\nimport { RadarPage } from './containers'\nimport * as serviceWorker from './serviceWorker'\nimport { GlobalStyles } from '@sangre-fp/ui'\nimport { RadarStyles } from './styles'\nimport { ToastContainer } from 'react-toastify'\n\nimport { startSession } from '@sangre-fp/connectors/session'\nimport './translations'\n\n// package styles\nimport 'react-select/dist/react-select.css'\nimport 'react-quill/dist/quill.snow.css'\nimport 'react-toggle/style.css'\nimport 'react-toastify/dist/ReactToastify.css'\nimport 'rc-slider/dist/rc-slider.css'\nimport 'rc-tooltip/assets/bootstrap.css'\n\nconst renderApp = (returnUri, radarLogoLinkDisabled) => {\n    return (\n        <Provider store={store}>\n            <GlobalStyles />\n            <RadarStyles />\n            <ToastContainer\n                toastClassName='fp-toast'\n                position='top-left'\n                progressClassName='toast-progress'\n            />\n            <RadarPage returnUri={returnUri} radarLogoLinkDisabled={radarLogoLinkDisabled} />\n        </Provider>\n    )\n}\n\nconst appElement = document.getElementById('fp-radar-page')\nstartSession(window.location.origin).then(() => {\n    ReactDOM.render(\n        renderApp(\n            appElement.getAttribute('data-return-uri'),\n            appElement.getAttribute('data-rlld') === '1'\n        ), appElement)\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","import axios from 'axios'\n// import { NEWS_FEED_API_URL } from '../../env'\nimport { getSessionToken } from '../session'\n\nconst NEWS_FEED_API_URL = process.env.REACT_APP_NEWS_FEED_API_URL\n\nconst GET = 'GET'\nconst POST = 'POST'\nconst DELETE = 'DELETE'\nconst PUT = 'PUT' // eslint-disable-line no-unused-vars\nconst PATCH = 'PATCH' // eslint-disable-line no-unused-vars\n\nexport async function httpRequest(method, path, payload = null) {\n    return axios({\n        method,\n        url: `${NEWS_FEED_API_URL}/${path}`,\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${getSessionToken()}`\n        },\n        withCredentials: true,\n        data: payload || null\n    }).then(res => res.data)\n}\n\n/**\n * @param {Number} groupId Group Id\n * @param {string} url RSS URL\n * @param {string} phenomenonUuid Phenomenon to which RSS URL is added\n * @return {Promise<string>} Returns uuid of the feed\n */\n\nconst newsFeedApi = {\n    addNewsFeed: async (groupId, url, phenomenonUuid) => {\n        // Not sure if groupId is passed as a string\n        if (isNaN(parseInt(groupId))) {\n            return false\n        }\n        const path = Number(groupId) === 0 ? 'feed' : `${groupId}/feed`\n        return httpRequest(POST, path, {\n            phenomenon_uuid: phenomenonUuid,\n            url\n        })\n    },\n    /**\n     * @param  {Number} groupId Group Id\n     * @param  {string} feedUuid Feed's uuid\n     * @param  {string} phenomenonUuid Phenomenon's uuid\n     * @return {Promise<Boolean>} Success\n     */\n    removeNewsFeed: async (groupId, feedUuid, phenomenonUuid) => {\n        if (isNaN(parseInt(groupId))) {\n            return false\n        }\n        const path = Number(groupId) === 0 ? `${feedUuid}/${phenomenonUuid}` : `${groupId}/${feedUuid}/${phenomenonUuid}`\n        return httpRequest(DELETE, path).then(ok => ok)\n    },\n    /**\n     * @param  {Number} groupId Group Id\n     * @param {string} phenomenonUuid Phenomenon's uuid\n     * @return {Promise<{id: string, title: string}[]>} Feed object array\n     */\n    getNewsFeeds: async (groupId, phenomenonUuid) => {\n        return httpRequest(GET, `${groupId}/news-feeds/${phenomenonUuid}`)\n    }\n}\n\nexport default newsFeedApi\n","import radarDataApi from '../radar-data-api'\nimport { getDocument, upsertDocument, archiveDocument } from '../content-service-api'\nimport newsFeedApi from '../news-feed-api'\nimport { getPhenomena } from '../search-api'\nimport { map, find, filter } from 'lodash-es'\n\nconst mergePhenomena = (phenomena, phenomenonDocuments) =>\n    phenomena\n        .filter(phenomenon => Boolean(phenomenon.id))\n        .map(phenomenon => {\n            const searchApiResult = find(phenomenonDocuments, result => phenomenon.id === result.id)\n\n            return searchApiResult\n                ? {\n                    ...phenomenon,\n                    ...searchApiResult\n                }\n                : null\n        })\n        .filter(Boolean)\n\nexport const getRadarPhenomena = async (radarId, groupId) => {\n    const { data: radarDataApiData } = await radarDataApi.getRadar(radarId)\n\n    const uuids = map(radarDataApiData.phenomena, ({ id }) => id)\n        .filter(Boolean)\n\n    const { result: phenomenonDocuments = []} = uuids.length\n        ? await getPhenomena({ phenomena: uuids, groups: [0, Number(groupId)], size: uuids.length, include_archived: true })\n        : {}\n\n    let phenomena = mergePhenomena(radarDataApiData.phenomena, phenomenonDocuments)\n\n    return {\n        ...radarDataApiData,\n        phenomena\n    }\n}\n\nexport const NEWSFEED_ERROR_PARTIAL = 'NEWSFEED_ERROR_PARTIAL'\nexport const NEWSFEED_ERROR = 'NEWSFEED_ERROR'\nexport const NEWSFEED_SUCCESS = 'NEWSFEED_SUCCESS'\n\nexport const archivePhenomenon = async (id, group) => await archiveDocument({ type: 'phenomenon', id, group })\n\nexport const storePhenomenon = async (phenomenon) => await upsertDocument({type: 'phenomenon', ...phenomenon})\n\nexport const storeNewsFeeds = async (phenomenon, newsFeedChanges) => {\n    const { addedNewsFeeds, deletedNewsFeeds } = newsFeedChanges\n\n    const operations = {\n        add: Promise.all(map(\n            addedNewsFeeds,\n            newsFeed => newsFeedApi.addNewsFeed(phenomenon.groups[0], newsFeed.title, phenomenon.id)\n        )),\n        delete: await Promise.all(map(\n            deletedNewsFeeds,\n            newsFeed => newsFeedApi.removeNewsFeed(phenomenon.groups[0], newsFeed.id, phenomenon.id)\n        ))\n    }\n\n    const added = await operations.add\n\n    const failedNewsFeedTitles = filter(\n        map(added, (newsFeed, index) => !newsFeed ? addedNewsFeeds[index].title : null),\n        title => !!title\n    )\n\n    if (failedNewsFeedTitles.length) {\n        return {\n            status: NEWSFEED_ERROR_PARTIAL,\n            failedNewsFeedTitles\n        }\n    }\n\n    return {\n        status: NEWSFEED_SUCCESS\n    }\n}\n\nexport const storePhenomenonWithNewsFeeds = async (phenomenon, newsFeedChanges) => {\n    const storedPhenomenon = await storePhenomenon(phenomenon)\n\n    try {\n        const newsFeedStatus = await storeNewsFeeds(storedPhenomenon, newsFeedChanges)\n\n        return {\n            ...newsFeedStatus,\n            storedPhenomenon\n        }\n    } catch (error) {\n        return {\n            status: NEWSFEED_ERROR,\n            error,\n            storedPhenomenon\n        }\n    }\n}\n\nexport const getPhenomenonByUUIDAndGroup = async (id, group) => {\n  const phenomenon = await getDocument({ group, id, type: 'phenomenon' })\n\n  try {\n      const uuids = phenomenon.content.related_phenomena\n      let relatedPhenomena = []\n      const newsFeeds = await newsFeedApi.getNewsFeeds(group, id) || []\n      if (Array.isArray(uuids) && uuids.length > 0) {\n        const result = await getPhenomena({ phenomena: uuids, groups: [0, Number(group)], size: uuids.length })\n        relatedPhenomena = result.result ||[]\n      }\n\n      return {\n        ...phenomenon,\n        newsFeeds,\n        relatedPhenomena\n      }\n  } catch (error) {\n    return { error }\n  }\n}\n\nexport function transformFromLegacy({ uuid, language, group, title, shortTitle, lead, video, image, imageFile, imageUrl, videoText, phenomenonType, body, relatedPhenomena, feedTag, timing, links }) {\n  return {\n    id: uuid,\n    language,\n    group: Number(group),\n    content: {\n      title,\n      short_title: shortTitle,\n      summary: lead,\n      body,\n      type: phenomenonType,\n      media: { video: video || '', image: imageUrl ||'', text: videoText  || '' },\n      related_phenomena: relatedPhenomena.map(({ id }) => id),\n      feed_tags: Array.isArray(feedTag) ? feedTag.map(({ id }) => id) : [],\n      time_range: timing,\n      links: Array.isArray(links) ? links.map(({ value }) =>({ url: value})) : []\n    },\n    _upload: {\n      image,\n      imageFile,\n      imageUrl\n    }\n  }\n}\n\nexport function transformToLegacy (\n  {\n    id: uuid,\n    language,\n    groups,\n    content: {\n      title = '',\n      short_title: shortTitle = '',\n      summary: lead = '',\n      body = '',\n      type,\n      media: { video: videoUrl, image: imageUrl, text: mediaText } = {},\n      related_phenomena: relatedPhenomena = [],\n      feed_tags = [],\n      time_range: timing = {},\n      links\n    } = {},\n    ...other\n  }\n) {\n\n  return {\n    uuid,\n    language,\n    group: Array.isArray(groups) ? groups[0] : null,\n    title,\n    shortTitle,\n    lead,\n    phenomenonType: type,\n    videoUrl,\n    imageUrl,\n    mediaText,\n    body,\n    relatedPhenomena,\n    feedTag: feed_tags.map(id => ({ id, title: '...' })),\n    timing,\n    links: Array.isArray(links) ? links.map(({ url }) => ({ value: url })) : [],\n    ...other\n  }\n}","import axios from 'axios'\nimport { getSessionToken } from '../session'\nconst CONTENT_SERVICE_API_URL = process.env.REACT_APP_CONTENT_SERVICE_API_URL\n\nconst GET = 'GET'\nconst POST = 'POST'\nconst DELETE = 'DELETE'\nconst PATCH = 'PATCH'\n\nexport const TYPE_PHENOMENON='phenomenon'\nexport const TYPE_SIGNAL='signal'\n\nasync function httpRequest(method, path, payload = null) {\n  return axios({\n    method,\n    url: `${CONTENT_SERVICE_API_URL}/${path}`,\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${getSessionToken()}`\n    },\n    withCredentials: true,\n    data: payload || null\n  }).then(({ data }) => data)\n}\n\nexport async function getSchema({ group = 0, type }) {\n  return httpRequest(GET, `schema/${group}/${type}`)\n}\n\nexport async function getDocument({ group = 0, type, id }) {\n  return httpRequest (GET, `doc/${group}/${type}/${id}`)\n}\n\nexport async function archiveDocument({ group = 0, type, id }) {\n  return httpRequest (DELETE, `doc/${group}/${type}/${id}`)\n}\n\nexport async function getDocuments({ type, ids, fields = null, sortColumns = null }) {\n  return httpRequest(POST, `doc/find/${type}`, { ids, fields, sortColumns })\n}\n\nexport async function upsertDocument({ group, type, ...doc }) {\n  if (doc.id) {\n    return httpRequest(PATCH, `doc/${group}/${type}`, {groups: [Number(group)], type, ...doc})\n  } else {\n    return httpRequest(POST, `doc/${group}/${type}`, {groups: [Number(group)], type, ...doc})\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"custom-react-select-height-att\":\"CreateRadarForm_custom-react-select-height-att__3HSYb\",\"custom-react-select-margin-bottom-att\":\"CreateRadarForm_custom-react-select-margin-bottom-att__1lS7o\",\"custom-react-select-width-att\":\"CreateRadarForm_custom-react-select-width-att__2SRWa\"};","import axios from 'axios'\nimport { getSessionToken } from '../session'\n\nconst SEARCH_API_URL = process.env.REACT_APP_SEARCH_API_URL\n\n/*\n Fields in document: short_name,image_url,archived,uuid,ingress_body,original_id,language,\n related_phenomena,title,group,state,visibility,video_url,media_text,description,body,feed_tag,\n media_body_text\n */\n\nasync function httpPostRequest(type, payload = null) {\n    return axios({\n        method: 'post',\n        url: `${SEARCH_API_URL}/${type}`,\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${getSessionToken()}`\n        },\n        data: payload\n    }).then(res => res.data)\n}\n\n// eslint-disable-next-line max-params\nexport async function getPhenomena({ phenomena = [], query, groups = [0], page = 0, size = 10, language = null, enhanced = 1, tags = [], types = [], time_min = null, time_max = null, include_archived = false }) {\n    return httpPostRequest('phenomenon', {\n      phenomena,\n      query,\n      groups,\n      page,\n      size,\n      language,\n      enhanced,\n      include_archived,\n      // TODO: Implement passing properties in this structure\n      tags: tags.length > 0 ? { 'fp:docs/props/has': tags } : {},\n      types,\n      time_min,\n      time_max\n    }).then(({result, ...rest}) => ({\n      // TODO: Replace group in using function with groups property\n      // TODO: Start to use separate properties for tags\n      result: result.map(({ groups, ...doc }) => ({\n        groups,\n        group: groups.length > 0 && groups[0],\n        ...doc,\n        tags: Object.keys(doc).reduce((tags, key) => /^tags_/.test(key) ? [...tags, ...doc[key]] : tags, [])\n      })),\n      ...rest\n    }))\n}\n\n// eslint-disable-next-line max-params\nexport async function getSignals(query, groups, page = 0, size = 10, radar_uuid, enhanced = 1) {\n    return httpPostRequest('signal', {\n        query,\n        page,\n        size,\n        groups,\n        radar_uuid,\n        enhanced\n    })\n}\n\nexport async function getRadars(query, language, empty = false, fields = ['id', 'uuid', 'content.title', 'content.sectors.id', 'content.sectors.title', 'content.preview_image'], groups = [0], page = 0, size = 3, template = true, enhanced = 1) {\n  return httpPostRequest('radar', {\n    query,\n    empty,\n    language,\n    fields,\n    page,\n    size,\n    groups,\n    template,\n    enhanced\n  })\n}","import { toLower } from 'lodash-es'\n\nexport const normalizePhenomenon = (phenomenon) => {\n    const {\n        x_offset,\n        phenomenon_uuid,\n        sector_id,\n        ...rest\n    } = phenomenon\n\n    return {\n        id: toLower(phenomenon_uuid),\n        xOffset: x_offset,\n        sectorId: sector_id,\n        ...rest\n    }\n}\n\nexport const normalizePhenomenonInput = (phenomenonInput) => {\n    const {\n        id,\n        sectorId,\n        time,\n        xOffset,\n        radarId,\n        version,\n        timing\n    } = phenomenonInput\n\n    return {\n        radar_id: Number(radarId),\n        phenomenon_uuid: id,\n        sector_id: sectorId,\n        time: parseFloat(time.toFixed(4)),\n        x_offset: parseFloat(xOffset.toFixed(4)),\n        version,\n        timing\n    }\n}\n","import axios from 'axios'\n// import { RADAR_DATA_API_URL } from '../../env'\nimport { getSessionToken } from '../session'\nimport { normalizePhenomenon, normalizePhenomenonInput } from './normalize'\n\nconst RADAR_DATA_API_URL = process.env.REACT_APP_RADAR_DATA_API_URL\n\nconst GET = 'GET'\nconst POST = 'POST'\nconst DELETE = 'DELETE'\nconst PATCH = 'PATCH'\n\nasync function httpRequest(method, path, payload = null) {\n    return axios({\n        method,\n        url: `${RADAR_DATA_API_URL}/${path}`,\n        headers: {\n            // 'X-CSRF-Token': getCsrfToken(),\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${getSessionToken()}`\n        },\n        withCredentials: true,\n        data: payload || null\n    })\n}\n\n// TODO: move normalize functions to the api consumers\nconst radarDataApi = {\n    getRadar: async (radarId) => {\n        return httpRequest(GET, `${radarId}`)\n            .then(({ data, ...result }) => {\n                const { phenomena, ...restData } = data\n\n                return {\n                    data: {\n                        phenomena: phenomena.map(normalizePhenomenon),\n                        ...restData\n                    },\n                    ...result\n                }\n            })\n    },\n    createPhenomenon: async (radarId, phenomenonData) => {\n        return httpRequest(POST, `${radarId}/phenomenon`, normalizePhenomenonInput(phenomenonData))\n            .then(({ data, ...result }) => {\n                const { phenomenon, ...restData } = data\n\n                return {\n                    data: {\n                        phenomenon: normalizePhenomenon(phenomenon),\n                        ...restData\n                    },\n                    ...result\n                }\n            })\n    },\n    updatePhenomenon: async (radarId, phenomenonData) => {\n        return httpRequest(PATCH, `${radarId}/phenomenon`, normalizePhenomenonInput(phenomenonData))\n            .then(({ data, ...result }) => {\n                const { phenomenon, ...restData } = data\n\n                return {\n                    data: {\n                        phenomenon: normalizePhenomenon(phenomenon),\n                        ...restData\n                    },\n                    ...result\n                }\n            })\n    },\n    deletePhenomenon: async (radarId, phenomenonData) => {\n        return httpRequest(DELETE, `${radarId}/phenomenon`, phenomenonData)\n    },\n    // time ranges\n    addRadarTimeRange: async (radarId, data) => {\n        return httpRequest(POST, `${radarId}/time-range`, data)\n    },\n    updateRadarTimeRange: async (radarId, data) => {\n        return httpRequest(PATCH, `${radarId}/time-range`, data)\n    },\n    deleteRadarTimeRange: async (radarId, data) => {\n        return httpRequest(DELETE, `${radarId}/time-range`, data)\n    },\n    // sectors\n    createSector: async (radarId, sectorData) => {\n        return httpRequest(POST, `${radarId}/sector`, sectorData)\n    },\n    updateSector: async (radarId, sectorData) => {\n        return httpRequest(PATCH, `${radarId}/sector`, sectorData)\n    },\n    deleteSector: async (radarId, sectorId, sectorData) => {\n        return httpRequest(DELETE, `${radarId}/sector`, sectorData)\n    }\n}\n\nexport default radarDataApi\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ReactModal__Content\":\"PublicLink_ReactModal__Content__3WOSB\",\"Modal__Title\":\"PublicLink_Modal__Title__2Cqix\",\"SavePublicLink__Container\":\"PublicLink_SavePublicLink__Container__hWhdN\",\"RegenerateBtn\":\"PublicLink_RegenerateBtn__3vqov\"};","import axios from 'axios'\n// import { DRUPAL_API_URL, PUBLIC_URL } from './env'\n\nconst DRUPAL_API_URL = process.env.REACT_APP_DRUPAL_API_URL\nconst PUBLIC_URL = process.env.REACT_APP_PUBLIC_URL\n\n// using axios built in interceptors to refresh the page if the user is either unauthorized\n// or his session has run out. Drupal will automatically log the user out on refresh\naxios.interceptors.response.use(null, error => {\n    if (error.response && (error.response.status === 401 || error.response.status === 403)) {\n        if (!(process.env.NODE_ENV === 'development')) {\n            window.location.replace(PUBLIC_URL)\n        }\n    }\n\n    return Promise.reject(error)\n})\n\nexport function getSessionToken() {\n    return sessionStorage.getItem('fp-session-token')\n}\n\nexport function getCsrfToken() {\n    return sessionStorage.getItem('fp-csrf-token')\n}\n\nexport function getUserId() {\n    return sessionStorage.getItem('fp-user-id')\n}\n\nexport function getUsername() {\n    return sessionStorage.getItem('fp-username')\n}\n\nexport function clearSession() {\n    sessionStorage.clear()\n    return true\n}\n\nexport function getUserRoles() {\n    const roles = sessionStorage.getItem('fp-user-roles')\n\n    if (roles && roles.length) {\n        return JSON.parse(roles)[0]\n    }\n\n    return false\n}\n\n/**\n * Fetch csrf & session token & user id and start session storing data to sessionStorage\n * @returns {Promise<Boolean>} Returns true\n */\nexport async function startSession() {\n    return axios({\n        method: 'get',\n        url: `${DRUPAL_API_URL}/session/token`,\n        withCredentials: true\n    }).then(csrfRes => {\n        const csrfToken = csrfRes.data['X-CSRF-Token']\n        sessionStorage.setItem('fp-csrf-token', csrfToken)\n        return axios({\n            method: 'get',\n            url: `${DRUPAL_API_URL}/fp-session-token`,\n            withCredentials: true\n        }).then(tokenRes => {\n            const token = tokenRes.data.token\n            const userId = Number(tokenRes.data.user_id)\n            const roles = tokenRes.data.accountDrupalRoles\n            const username = tokenRes.data.user_name\n\n            sessionStorage.setItem('fp-session-token', token)\n            sessionStorage.setItem('fp-user-id', userId)\n            sessionStorage.setItem('fp-username', username)\n            sessionStorage.setItem('fp-user-roles', JSON.stringify(roles))\n            return true\n        })\n    })\n}\n","import { toLower, filter, sortBy } from 'lodash-es'\n\nexport const normalizeRadar = radar => {\n    const {\n        hide_users,\n        title,\n        map_intro,\n        language,\n        axis_x_title,\n        axis_x_max,\n        axis_x_min,\n        axis_y_title,\n        axis_y_max,\n        axis_y_min,\n        four_fields_top_left,\n        four_fields_top_right,\n        four_fields_bottom_left,\n        four_fields_bottom_right,\n        enable_issue_rating,\n        allow_issue_rating,\n        show_freewall,\n        enable_issue_commenting,\n        allow_comment_thumbing,\n        logo_image,\n        display_halo_when_rating,\n        uuid,\n        signal_tool_enabled,\n        owner_id,\n        enable_url_login,\n        url_login_expire,\n        url_login_link,\n        radar_template,\n        title_logo,\n        timeline_label_format,\n        ...rest\n    } = radar\n\n    return {\n        hideUsersFromTrial: hide_users,\n        radarName: title,\n        mapIntro: map_intro,\n        radarLanguage: language,\n        axisXTitle: axis_x_title,\n        axisXMax: axis_x_max,\n        axisXMin: axis_x_min,\n        axisYTitle: axis_y_title,\n        axisYMax: axis_y_max,\n        axisYMin: axis_y_min,\n        fourFieldsTopLeft: four_fields_top_left,\n        fourFieldsTopRight: four_fields_top_right,\n        fourFieldsBottomLeft: four_fields_bottom_left,\n        fourFieldsBottomRight: four_fields_bottom_right,\n        displayHaloWhenRating: display_halo_when_rating,\n        commentsOn: enable_issue_commenting === 'Yes',\n        likingOn: allow_comment_thumbing === 'Yes',\n        ratingsOn: enable_issue_rating === 'Yes',\n        votingOn: allow_issue_rating === 'Yes',\n        discussionOn: show_freewall === 'Yes',\n        radarImage: logo_image,\n        uuid,\n        signalToolEnabled: signal_tool_enabled,\n        ownerId: owner_id,\n        enableUrlLogin: enable_url_login,\n        urlLoginExpire: url_login_expire,\n        urlLoginLink: url_login_link,\n        isRadarTemplate: !!radar_template,\n        titleLogo: title_logo,\n        timelineLabelFormat: timeline_label_format,\n        ...rest\n    }\n}\n\nconst normalizeRadarInput = (radarSettings) => {\n    const {\n        radarName,\n        mapIntro,\n        hideUsersFromTrial,\n        phenomenaSet,\n        ratingsOn = false,\n        commentsOn = false,\n        likingOn = false,\n        discussionOn = false,\n        votingOn = false,\n        radarImage = null,\n        radarTitleImage = null,\n        axisXTitle = null,\n        axisXMax = null,\n        axisXMin = null,\n        axisYTitle = null,\n        axisYMax = null,\n        axisYMin = null,\n        fourFieldsTopLeft = null,\n        fourFieldsTopRight = null,\n        fourFieldsBottomLeft = null,\n        fourFieldsBottomRight = null,\n        displayHaloWhenRating = false,\n        timelineLabelFormat = false\n    } = radarSettings\n\n    return {\n        title: radarName,\n        map_intro: mapIntro,\n        hide_users: hideUsersFromTrial ? 1 : 0,\n        template_id: phenomenaSet,\n        allow_issue_rating: votingOn ? 'Yes' : 'No',\n        enable_issue_rating: ratingsOn ? 'Yes' : 'No',\n        enable_issue_commenting: commentsOn ? 'Yes' : 'No',\n        show_freewall: discussionOn ? 'Yes' : 'No',\n        allow_comment_thumbing: likingOn ? 'Yes' : 'No',\n        axis_x_title: axisXTitle,\n        axis_x_max: axisXMax,\n        axis_x_min: axisXMin,\n        axis_y_title: axisYTitle,\n        axis_y_max: axisYMax,\n        axis_y_min: axisYMin,\n        four_fields_top_left: fourFieldsTopLeft,\n        four_fields_top_right: fourFieldsTopRight,\n        four_fields_bottom_left: fourFieldsBottomLeft,\n        four_fields_bottom_right: fourFieldsBottomRight,\n        display_halo_when_rating: displayHaloWhenRating,\n        logo_image: radarImage,\n        title_logo: radarTitleImage,\n        timeline_label_format: timelineLabelFormat\n    }\n}\n\nexport const normalizeUpdateRadarInput = radarSettings => {\n    const {\n        group,\n        enableUrlLogin,\n        urlLoginExpire,\n        isRadarTemplate,\n        timelineLabelFormat\n    } = radarSettings\n\n    return {\n        ...normalizeRadarInput(radarSettings),\n\n        // Public group is an empty array atm\n        gid: (!group || (Array.isArray(group) && group.length === 0)) ? { id: 0 } : group,\n        enable_url_login: enableUrlLogin,\n        url_login_expire: urlLoginExpire,\n        radar_template: isRadarTemplate,\n        timeline_label_format: timelineLabelFormat\n    }\n}\n\nexport const normalizeCreateRadarInput = (radarSettings) => {\n    const {\n        group,\n        radarLanguage\n    } = radarSettings\n\n    return {\n        ...normalizeRadarInput(radarSettings),\n\n        // Public group is an empty array atm // TODO check why this is handled differently in update and create\n        gid: group,\n        language: radarLanguage || 'en'\n        // TODO check why enable_url_login etc are not in create\n    }\n}\n\nexport const normalizePhenomenon = (phenomenon) => {\n    const {\n        uuid\n    } = phenomenon\n\n    return {\n        uuid: toLower(uuid)\n    }\n}\n\nconst normalizeRelatedPhenomena = relatedPhenomena => relatedPhenomena.map(phenom => ({...phenom, id: phenom.uuid }))\n\nexport const normalizePhenomenonInput = phenomenonInput => {\n    const {\n        relatedPhenomena,\n        title,\n        language,\n        shortTitle,\n        state,\n        video,\n        body,\n        videoText,\n        lead,\n        imageUrl,\n        feedTag,\n        group,\n        userId,\n        archived,\n        timing,\n        links\n    } = phenomenonInput\n\n    const dto = {\n        short_name: shortTitle,\n        group_id: group,\n        user_id: Number(userId),\n        megatrend: 1,\n        language,\n        title,\n        issue_state: state.issue_state,\n        video_url: video,\n        body,\n        media_text: videoText,\n        related_phenomena: normalizeRelatedPhenomena(relatedPhenomena),\n        ingress_body: lead,\n        feed_tag: feedTag,\n        image_url: imageUrl,\n        timing,\n        links\n    }\n\n    if (archived) {\n        dto.archived = 1\n    }\n\n    if ((Number(group) === 0)) {\n        dto.visibility = 'PUBLIC'\n    }\n\n    return dto\n}\n\nexport const sortTypes = types => {\n  if (types.length) {\n    const customTypes = [...types]\n    const defaultTypes = types.slice(Math.max(types.length - 6, 0))\n\n    defaultTypes[1].order = 1\n    defaultTypes[3].order = 4\n    defaultTypes[0].order = 6\n    defaultTypes[4].order = 5\n    defaultTypes[5].order = 3\n    defaultTypes[2].order = 2\n\n    const sortedTypes = sortBy(defaultTypes, 'order')\n    customTypes.splice(customTypes.length - 6)\n\n    return [...customTypes, ...sortedTypes]\n  }\n\n  return types\n}\n\n// phenomenonTypes endpoint returns an object with numeric keys. Mapping through it with lodash removes self etc\nexport const normalizePhenomenonTypes = phenomenonTypes => {\n    const filteredTypes = filter(phenomenonTypes, phenomenonType => phenomenonType.id)\n\n    return sortTypes(filteredTypes)\n}\n\nexport const normalizeGroupPhenomenonTypes = (groupPhenomenonTypes, groupId) =>\n    groupPhenomenonTypes.map(type => {\n        return {\n            id: `fp:doc-types/group/${groupId}/${type.name}`,\n            title: type.label || type.name,\n            label: type.label || type.name,\n            groupType: true,\n            ...type\n        }\n    })\n\n// feedTags endpoint returns an object with numeric keys. Mapping through it with lodash removes self etc\nexport const normalizeFeedTags = feedTags =>\n    filter(feedTags, feedTag => feedTag.id)\n\nexport function normalizeRestApiResult ({count, ...drupalRestApiObject }) {\n  return {\n    results: Object.values(drupalRestApiObject).filter(({ url_alias }) => url_alias),\n    count: Number(count)\n  }\n}\n\nexport const editorRole = role => {\n    if (role === 'manager' || role === 'owner' || role === 'editor') {\n        return true\n    }\n\n    return false\n}\n\nexport const publicEditorRole = permissions => !!_.find(permissions, permission => permission === 'fp editor')\n\nexport const normalizeGroup = group => {\n    const {\n      id,\n      label,\n      radarsUsed,\n      radarsAllowed: radarsAllowedString,\n      accountDrupalRoles,\n      accountPermissions,\n      availableResources\n    } = group\n\n    // backend is returning this as a string for whatever reason\n    const radarsAllowed = Number(radarsAllowedString)\n\n    // not sure why this info is in the group\n    const canEditPublic = accountDrupalRoles && publicEditorRole(accountDrupalRoles[0])\n    const canEdit = accountPermissions && editorRole(accountPermissions.role)\n\n    return {\n      ...group,\n      id,\n      value: id,\n      label,\n      radarsAllowed,\n      radarsUsed,\n      hasAvailableRadars: radarsUsed < radarsAllowed,\n      availableResources,\n      canEditPublic,\n      canEdit\n    }\n}\n","import axios from 'axios'\nimport {getCsrfToken, getSessionToken} from '../session'\nimport {\n    normalizeRadar,\n    normalizeCreateRadarInput,\n    normalizeUpdateRadarInput,\n    normalizePhenomenon,\n    normalizePhenomenonInput,\n    normalizePhenomenonTypes,\n    normalizeGroupPhenomenonTypes,\n    normalizeFeedTags,\n    normalizeRestApiResult,\n    normalizeGroup\n} from './normalize'\nimport { get, map } from 'lodash-es'\n\nconst USER_PAGE_SIZE = 25\nconst DRUPAL_API_URL = process.env.REACT_APP_DRUPAL_API_URL\n\n/**\n * @typedef {Object} Group\n * @property {number} id\n * @property {string} title\n */\n/**\n * @typedef {Object} PhenomenonState\n * @property {boolean} halo\n * @property {boolean} speech_bubble\n */\n/**\n * @typedef {Object} Radar\n * @property {number} id\n * @property {string} label\n * @property {string} logo_image\n * @property {boolean} hide_users\n * @property {\"No\"|\"Yes\"} allow_issue_rating\n * @property {\"No\"|\"Yes\"} enable_issue_commenting\n * @property {\"No\"|\"Yes\"} allow_comment_thumbing\n * @property {\"No\"|\"Yes\"} enable_kiosk_mode\n * @property {\"No\"|\"Yes\"} enable_issue_rating\n * @property {Object} info_screen\n * @property {\"No\"|\"Yes\"} show_freewall\n * @property {?string} axis_x_title\n * @property {?number} axis_x_max\n * @property {?number} axis_x_min\n * @property {?string} axis_y_title\n * @property {?number} axis_y_max\n * @property {?number} axis_y_min\n * @property {?number} four_fields_top_left\n * @property {?number} four_fields_top_right\n * @property {?number} four_fields_bottom_left\n * @property {?number} four_fields_bottom_right\n * @property {?number} speech_bubble_flashing_time\n * @property {?number} display_halo_when_rating\n * @property {string} map_intro\n * @property {boolean} signal_tool_enabled\n * @property {boolean} assign_new_users\n * @property {boolean} disable_newsfeed\n * @property {boolean} enable_url_login\n * @property {?number} url_login_count\n * @property {boolean} radar_template\n * @property {string} uuid\n * @property {string} title\n * @property {string} language\n * @property {Object.<string, PhenomenonState>}} phenomena\n * @property {number} owner_id\n * @property {Group} group\n */\n\nconst GET = 'GET'\nconst POST = 'POST'\nconst DELETE = 'DELETE'\nconst PUT = 'PUT'\nconst PATCH = 'PATCH'\n\nasync function httpRequest(method, path, payload = null) {\n    return axios({\n        method,\n        url: `${DRUPAL_API_URL}/v1.0/${path}`,\n        headers: {\n            'X-CSRF-Token': getCsrfToken(),\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${getSessionToken()}`\n        },\n        withCredentials: true,\n        data: payload || null\n    }).then(res => res.data)\n}\n\nexport async function getGroups() {\n    return httpRequest(GET, 'group')\n}\n\nexport async function getMemberships() {\n    return httpRequest(GET, 'membership')\n}\n\nexport async function getRadar(id) {\n    return httpRequest(GET, `radars/${id}`)\n        .then(data => data[0])\n        .then(normalizeRadar)\n}\n\nexport async function createRadar(radarData) {\n    return httpRequest(POST, 'radars', normalizeCreateRadarInput(radarData))\n        .then(data => data[0])\n        .then(normalizeRadar)\n}\n\nexport async function cloneRadar(parentRadarId) {\n    return httpRequest(POST, 'radars', {parent_radar_id: parentRadarId})\n        .then(data => data[0])\n        .then(normalizeRadar)\n}\n\nexport async function updateRadar(radarId, radarData) {\n    return httpRequest(PATCH, `radars/${radarId}`, normalizeUpdateRadarInput(radarData))\n        .then(data => data[0])\n        .then(normalizeRadar)\n}\n\nexport async function deleteRadar(radarId) {\n    return httpRequest(DELETE, `radars/${radarId}`).then(() => radarId)\n}\n\nexport async function createPhenomenon(phenomenonData) {\n    return httpRequest(POST, 'phenomena', [normalizePhenomenonInput(phenomenonData)])\n        .then(data => data.phenomena[0])\n        .then(normalizePhenomenon)\n        .then(phenomenon => ({\n            ...phenomenonData,\n            ...phenomenon,\n        }))\n}\n\nexport async function updatePhenomenon(uuid, phenomenonData) {\n    return httpRequest(PATCH, `phenomena/${uuid}`, [normalizePhenomenonInput(phenomenonData)])\n        .then(normalizePhenomenon)\n        .then(phenomenon => ({\n            ...phenomenon,\n            ...phenomenonData\n        }))\n}\n\nexport async function createRadarSectorPhenomenon(data) {\n    return httpRequest(POST, 'radar-sector-phenomena', data)\n}\n\nexport async function updateRadarSectorPhenomenon(phenomenonId, phenomenonData) {\n    return httpRequest(PATCH, `radar-sector-phenomena/${phenomenonId}`, phenomenonData)\n}\n\nexport async function deleteRadarSectorPhenomenon(phenomenonId) {\n    return httpRequest(DELETE, `radar-sector-phenomena/${phenomenonId}`).then(() => phenomenonId)\n}\n\nexport async function getRadarTemplates() {\n    return httpRequest(GET, 'radartemplates?&sort=label')\n}\n\nexport async function updateGroup(groupId, data) {\n    return httpRequest(PATCH, `group/${groupId}`, data)\n}\n\nexport async function getRadarsByGroupId(groupId) {\n    return httpRequest(GET, `radarsingroup?filter[gid]=${groupId}`)\n}\n\nexport async function getMembershipByGroupId(groupId, page, roleFilter, searchPhrase) {\n    // eslint-disable-next-line\n    return httpRequest(GET, `membership?filter[gid]=${groupId}&page[number]=${page}&page[size]=${USER_PAGE_SIZE}${roleFilter && roleFilter.value ? `&filter[role]=${roleFilter.value.toLowerCase()}` : ''}${searchPhrase && searchPhrase.length ? `&email_like=${searchPhrase}` : ''}&sort=role_weight,email`)\n}\n\nexport async function deleteMemberships(membershipIds) {\n    return httpRequest(DELETE, `membershipsdelete`, membershipIds.map(mid => ({mid})))\n}\n\nexport async function updateMembershipRole(data) {\n    return httpRequest(PUT, 'membershiprole', data)\n}\n\nexport async function getGroupById(groupId) {\n    return httpRequest(GET, `group?filter[id]=${groupId}`)\n}\n\nexport async function grantRadarUserAccess(data) {\n    return httpRequest(POST, 'radargrantuseraccess', data)\n}\n\nexport async function revokeRadarUserAccess(data) {\n    return httpRequest(DELETE, 'radarrevokeuseraccess', data)\n}\n\nexport async function inviteToRadar(data, gid) {\n    return httpRequest(POST, `groupadduser/${gid}`, data)\n}\n\nexport async function createRadarShareLink(radarId, gid) {\n    // TODO: @jouni implement\n    return 'https://fp-dev.sangre.fi/fp-radar-visit/a363b635-bb6c-401b-a9e8-257f31c33a10'\n}\n\nexport async function getPhenomenaTypes(groupId) {\n    const phenomenaTypes = await httpRequest(GET, 'phenomenontypes?sort=weight')\n    const group = groupId && await getGroupById(groupId)\n    const groupTypes = get(group, '0.settings.doc_types.phenomenon.types', [])\n\n    return ([...normalizeGroupPhenomenonTypes(groupTypes, groupId), ...normalizePhenomenonTypes(phenomenaTypes)])\n}\n\nexport async function getRssFeedTags() {\n    return httpRequest(GET, 'rssfeedtags')\n        .then(normalizeFeedTags)\n}\n\n/**\n *\n * @return {Promise<{count: Number, results: Object[]}>}\n */\nexport async function getHubspotAlertsTaxonomy() {\n    return normalizeRestApiResult(await httpRequest(GET, 'hubspotalerts?sort=weight'))\n}\n\nexport async function getGroupSettings(gid) {\n    return httpRequest(GET, `groupsettings?gid=${Number(gid)}`)\n}\n\nexport async function getGroupsWithMemberShips() {\n    const [groups, memberships] = await Promise.all([getGroups(), getMemberships()])\n\n    const membershipGroupIds = memberships ? Object.values(memberships).map(membership => parseInt(membership.gid, 10)) : []\n\n    const groupsToNormalize = groups\n        ? Object.values(groups).filter(group => membershipGroupIds.indexOf(group.id) !== -1)\n        : []\n\n    return map(groupsToNormalize, normalizeGroup)\n}\n\nexport async function createSignal(data) {\n    return httpRequest(POST, `signals`, [data])\n}\n\nexport async function fetchShares(gid) {\n    return httpRequest(GET, `radarshares?gid=${gid}`)\n}\n\nexport async function regenerateShare(id) {\n    return httpRequest(DELETE, `radarshares/${id}/?regenerate=1`)\n}\n\nexport async function deleteShare(id) {\n    return httpRequest(DELETE, `radarshares/${id}`)\n}\n\n/**\n * Returns object containing public radar share expiry time and url\n * If share url doesn't epire if  is false\n * If public radar share doesn't exists, it returns null for url\n *\n * @param {number} radarId\n * @return {Promise<{expired: (Date|boolean), url: string|null }>}\n */\nexport async function getRadarPublicShare(radarId) {\n    return handlePublicShareInfo(await httpRequest(GET, `public-radar-shares?radar_id=${radarId}`))\n}\n\n/**\n* Creates or replaces a public radar share for a radar with a new exipiry time\n* If public radar share doesn't exists, it returns null for url\n*\n* @param {number} radarId\n* @param {Date} expired\n* @return {Promise<{expired: (Date|null), url: (string|null) }>}\n*/\nexport async function createOrReplaceRadarPublicShare({ radarId, expired = null }) {\n    return handlePublicShareInfo(await httpRequest(POST, `public-radar-shares?radar_id=${radarId}`, {\n        login_expire: expired instanceof Date ? Math.round(expired.getTime() / 1000)  : 0\n    }))\n}\n\n/**\n* Removes existing public radar share\n*\n* @param {number} radarId\n* @return {Promise<void>}\n*/\nexport async function removeRadarPublicShare(radarId) {\n    return httpRequest(DELETE, `public-radar-shares?radar_id=${radarId}`)\n}\n\n/**\n * Regenerates a new radar share url\n *\n * @param {number} radarId\n * @return {Promise<{expired: (Date|null), url: (string|null) }>}\n */\nexport async function regenerateRadarPublicShare(radarId) {\n    return handlePublicShareInfo(await httpRequest(DELETE, `public-radar-shares?radar_id=${radarId}&regenerate=1`))\n}\n\n/**\n *\n * @param {{ login_expire: number|boolean, radar_share_url: string|null }} info\n * @return {null|{expired: (Date|boolean), url}}\n */\nfunction handlePublicShareInfo(info) {\n    if (info) {\n        const  { login_expire, radar_share_url } = info\n        return { expired: login_expire ? new Date(login_expire * 1000) : false, url: radar_share_url }\n    } else {\n        return null\n    }\n}\n\nexport async function getVotingResults(radarId) {\n    return httpRequest(GET, `votes/?radar_id=${radarId}`)\n}\n\nexport default {\n    cloneRadar,\n    createPhenomenon,\n    createRadar,\n    createRadarSectorPhenomenon,\n    createSignal,\n    deleteMemberships,\n    deleteRadar,\n    deleteRadarSectorPhenomenon,\n    deleteShare,\n    fetchShares,\n    getGroupById,\n    getGroupSettings,\n    getGroups,\n    getGroupsWithMemberShips,\n    getMembershipByGroupId,\n    getMemberships,\n    getPhenomenaTypes,\n    getRadar,\n    getRadarTemplates,\n    getRadarsByGroupId,\n    getRssFeedTags,\n    getHubspotAlertsTaxonomy,\n    getVotingResults,\n    grantRadarUserAccess,\n    inviteToRadar,\n    regenerateShare,\n    revokeRadarUserAccess,\n    updateGroup,\n    updateMembershipRole,\n    updatePhenomenon,\n    updateRadar,\n    updateRadarSectorPhenomenon,\n    getRadarPublicShare,\n    removeRadarPublicShare,\n    createOrReplaceRadarPublicShare,\n    regenerateRadarPublicShare\n}\n","/* eslint-disable */\n\nif (!String.prototype.includes) {\n  String.prototype.includes = function(search, start) {\n    'use strict';\n    if (typeof start !== 'number') {\n      start = 0;\n    }\n\n    if (start + search.length > this.length) {\n      return false;\n    } else {\n      return this.indexOf(search, start) !== -1;\n    }\n  };\n}\n"],"sourceRoot":""}