(this.webpackJsonpradar=this.webpackJsonpradar||[]).push([[0],{1148:function(e,t,n){"use strict";n.r(t),n.d(t,"tagPhenomenon",(function(){return f})),n.d(t,"removeTagPhenomenon",(function(){return v})),n.d(t,"getTagUrisByPhenomenonUuid",(function(){return w})),n.d(t,"getTagUrisByPhenomenonUuids",(function(){return O})),n.d(t,"getTagByUri",(function(){return x})),n.d(t,"getLocalizedTagByUri",(function(){return k})),n.d(t,"getGroupTags",(function(){return D})),n.d(t,"getFpTags",(function(){return I})),n.d(t,"getLocalizedFpTags",(function(){return R}));var a=n(64),r=n(4),A=n.n(r),i=n(3),o=n(61),c=n(7),s=n(52),l=n(427),u=n(62),d=n.n(u),p=n(49),m="POST";function g(e,t){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(A.a.mark((function e(t,n){var a,r=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:null,e.abrupt("return",d()({method:t,url:"".concat("/tag-service-api","/").concat(n),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Object(p.b)())},data:a}).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,n){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(A.a.mark((function e(t,n,a){var r,i,o,c=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>3&&void 0!==c[3]?c[3]:"fp:docs/props/has",e.next=3,g(m,"?group=".concat(t),{tag:a,content:"fp:docs/phenomenon/".concat(n),property:r});case 3:return i=e.sent,o=i.error,e.abrupt("return",Boolean(o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(c.a)(A.a.mark((function e(t,n,a){var r,i,o,c=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>3&&void 0!==c[3]?c[3]:"fp:docs/props/has",e.next=3,g(m,"remove?group=".concat(t),{tag:a,content:"fp:docs/phenomenon/".concat(n),property:r});case 3:return i=e.sent,o=i.error,e.abrupt("return",Boolean(o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(A.a.mark((function e(t,n){var a,r,i=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:"fp:docs/props/has",e.next=3,g("GET","fp:docs/phenomenon/".concat(n,"?group=").concat(t));case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return r=e.t0,e.abrupt("return",r.filter((function(e){return e.property===a})).map((function(e){return e.tag})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(A.a.mark((function e(t,n){var r,i,o,c,s,l,u,d,p,h=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:"fp:docs/props/has",e.next=3,g(m,"tags?group=".concat(t),{content:n.map((function(e){return"fp:docs/phenomenon/".concat(e)}))});case 3:if(i=e.sent,!Array.isArray(i)||0!==i.length){e.next=6;break}return e.abrupt("return",{});case 6:for(o={},c=0,s=Object.entries(i);c<s.length;c++)l=Object(a.a)(s[c],2),u=l[0],d=l[1],p=u.replace("fp:docs/phenomenon/",""),o[p]=d.filter((function(e){return e.property===r})).map((function(e){return e.tag}));return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(A.a.mark((function e(t){var n,r,i,o,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=[{re:/^fp:tags\/group\/(\d+)\/(.*)$/,resolver:function(e){var t=Object(a.a)(e,3),n=t[1],r=t[2];return groupTags[Number(n)].find((function(e){return e.name===r}))}},{re:/^fp:tags\/theme\/(.*)$/,resolver:function(e){var t=Object(a.a)(e,2)[1];return fpTags.find((function(e){return e.name===t}))}}];case 2:if(!(n<r.length)){e.next=10;break}if(i=r[n],o=i.re,c=i.resolver,null===(s=t.match(o))){e.next=7;break}return e.abrupt("return",c(s));case 7:n++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(A.a.mark((function e(t,n){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x(t),!(r=Object.assign({},a))){e.next=7;break}if("string"!==typeof r.label){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",Object(i.a)(Object(i.a)({},r),{},{label:r.label[n]}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return t.map((function(t){var n=t.name,a=Object(o.a)(t,["name"]);return Object(i.a)({uri:"".concat(e).concat(n)},a)}))}function D(e){return M.apply(this,arguments)}function M(){return(M=Object(c.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.t0=S,e.t1="fp:tags/group/".concat(t,"/"),e.t2=l.a,e.next=6,Object(s.getGroupSettings)(Number(t));case 6:return e.t3=e.sent,e.t4=["data","settings","tags"],e.t5=[],e.t6=(0,e.t2)(e.t3,e.t4,e.t5),e.abrupt("return",(0,e.t0)(e.t1,e.t6));case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return P.apply(this,arguments)}function P(){return(P=Object(c.a)(A.a.mark((function e(){var t,n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.getHubspotAlertsTaxonomy)();case 2:return t=e.sent,n=t.results,a=void 0===n?[]:n,e.abrupt("return",S("fp:tags/theme/",a.map((function(e){var t=e.name,n=e.translation,a=e.url_alias;return{label:{fi:n,en:t},name:(void 0===a?"":a).replace("/hubspot-alerts/","")}}))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return B.apply(this,arguments)}function B(){return(B=Object(c.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I().map((function(e){var n=e.label,a=Object(o.a)(e,["label"]);return Object(i.a)(Object(i.a)({},a),{},{label:n[t]})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1149:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),A=n(7),i=n(62),o=n.n(i),c=n(49);function s(e,t){return l.apply(this,arguments)}function l(){return(l=Object(A.a)(r.a.mark((function e(t,n){var a,A=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=A.length>2&&void 0!==A[2]?A[2]:null,e.abrupt("return",o()({method:t,url:"".concat("/statistics-api/v1/statistics/phenomena","/").concat(n),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Object(c.b)())},withCredentials:!0,data:a||null}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u={getPhenomenaStatistics:function(){var e=Object(A.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s("GET","?uuid=".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.default=u},1210:function(e,t){},1235:function(e,t){},1304:function(e,t,n){"use strict";n.r(t);n(438),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(689),n(690),n(691),n(692),n(693),n(694),n(695),n(465),n(697),n(285),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(710),n(711),n(713),n(714),n(473),n(373),n(715),n(716),n(717),n(718),n(719),n(720),n(721),n(722),n(723),n(724),n(725),n(726),n(727),n(728),n(729),n(730),n(478),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(741),n(742),n(744),n(745),n(746),n(747),n(748),n(749),n(750),n(751),n(752),n(753),n(754),n(755),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(485),n(765),n(766),n(768),n(769),n(770),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(491),n(783),n(784),n(492),n(785),n(786),n(787),n(788),n(381),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(810),n(811),n(812),n(813),n(814),n(816),n(817),n(818),n(819),n(820),n(821),n(822),n(823),n(824),n(825),n(826),n(827),n(829),n(830),n(831),n(832),n(833),n(834),n(835),n(836),n(837),n(839),n(840),n(841),n(842),n(843),n(844),n(845),n(846),n(847),n(848),n(849),n(850),n(384),n(851),n(852),n(854),n(855),n(856),n(857),n(858),n(860),n(861),n(862),n(863),n(864),n(865),n(866),n(867),n(869),n(870),n(871),n(872),n(873),n(874),n(875),n(876),n(877),n(878),n(879),n(880),n(881),n(882),n(883),n(884),n(885),n(886),n(887),n(888),n(889),n(890),n(891),n(892),n(893),n(895),n(897),n(898),n(899),n(900),n(901),n(902),n(903),n(904),n(905),n(906),n(907),n(908),n(909),n(910),n(911),n(912),n(913),n(914),n(915),n(916),n(917),n(918),n(919),n(920),n(921),n(922),n(923),n(924),n(925),n(926),n(927),n(929),n(503),n(504),n(505),n(931),n(932),n(933),n(934),n(935),n(936),n(937),n(938),n(940),n(941),n(942),n(943),n(945),n(508),n(946),n(947),n(952);var a=n(0),r=n.n(a),A=n(20),i=n.n(A),o=n(45),c=n(3),s=n(33),l=n(606),u=n(9),d=n.n(u),p=n(57),m=n(49),g=function(e,t){return p.h()([[e,t]]).match(/^M(.+),(.+)Z$/).slice(1).map(Number)},h=function(e){var t=e||window.event;return"buttons"in e?1===t.buttons:1===(t.which||t.button)},f=function(e){return!!d.a.find(e,(function(e){return"fp editor"===e}))},b=function(e){var t,n=e.id,a=e.label,r=e.radarsUsed,A=e.radarsAllowed,i=e.accountDrupalRoles,o=e.accountPermissions,s=e.availableResources,l=Number(A),u=i&&f(i[0]),d=o&&("manager"===(t=o.role)||"owner"===t||"editor"===t);return Object(c.a)(Object(c.a)({},e),{},{id:n,value:n,label:a,radarsAllowed:l,radarsUsed:r,hasAvailableRadars:r<l,availableResources:s,canEditPublic:u,canEdit:d})},v=f(Object(m.c)()),E=n(2),w=n(6),y=document.location.search,O=new URLSearchParams(y),j=Number(O.get("node")),x={id:j||!1,existingRadarPage:!!j,addRadarFormOpen:!j,addRadarFormPage:1,groups:[],group:!1,radarName:"",mapIntro:null,radarLanguage:Object(E.getCurrentLanguage)(),phenomenaSet:!1,hideUsersFromTrial:!1,radarImage:!1,votingOn:!1,ratingsOn:!1,discussionOn:!1,commentsOn:!1,likingOn:!1,votingUp:!0,editMenuOpen:!1,editSectorsPageOpen:!1,editTimeRangesPageOpen:!1,addPhenomenaVisible:!1,editPhenomenaVisible:null,account:!1,displayHaloWhenRating:null,enableUrlLogin:!1,urlLoginExpire:null,urlLoginLink:"",isRadarTemplate:!1,radarTitleImage:!1,timelineLabelFormat:!1,draggedPhenomenonId:!1},C=[],k=n(607),T=n(22),S={filtersVisible:!1,activeFilter:[],activeTagFilter:[]},D={signalListVisible:!1,signalCreateVisibility:!1,signals:[],totalRadarSignals:!1},M=n(174),I=Object(s.c)({sectors:M.g,filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case w.Cb:return Object(c.a)(Object(c.a)({},e),{},{filtersVisible:!e.filtersVisible});case w.xb:return Object(c.a)(Object(c.a)({},e),{},{activeFilter:d.a.find(e.activeFilter,a)?e.activeFilter.filter((function(e){return e!==a})):[].concat(Object(T.a)(e.activeFilter),[a])});case w.yb:return Object(c.a)(Object(c.a)({},e),{},{activeTagFilter:d.a.includes(e.activeTagFilter,a)?e.activeTagFilter.filter((function(e){return e!==a})):[].concat(Object(T.a)(e.activeTagFilter),[a])});case w.wb:return Object(c.a)(Object(c.a)({},e),{},{activeFilter:[],activeTagFilter:[]});default:return e}},phenomena:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case w.tb:case w.V:return a.phenomena;case w.Eb:return e.map((function(e){return e.id===a.id?Object(c.a)(Object(c.a)({},e),a):e}));case w.Jb:return e.map((function(e){return e.id===a.id?Object(c.a)(Object(c.a)({},e),{},{version:a.version}):e}));case w.G:return e.concat(a);case w.M:return e.filter((function(e){return e.id!==a.id}));case w.F:case w.Ib:return e.map((function(e){return e.id===a.id?Object(c.a)(Object(c.a)({},e),a):e}));default:return e}},timelines:k.a,radarSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case w.zb:return Object(c.a)(Object(c.a)({},e),{},{draggedPhenomenonId:a});case w.Db:return Object(c.a)(Object(c.a)({},e),{},{timelineLabelFormat:!e.timelineLabelFormat});case w.Bb:return Object(c.a)(Object(c.a)({},e),{},{editMenuOpen:a});case w.Lb:return Object(c.a)(Object(c.a)({},e),a);case w.I:var r=window.location,A=r.origin,i=r.pathname;return window.location.href=A+i+"?node=".concat(a.id),Object(c.a)(Object(c.a)(Object(c.a)({},e),a),{},{editSectorsPageOpen:!a.time_ranges.length});case w.ib:return Object(c.a)(Object(c.a)({},e),{},{addRadarFormOpen:!e.addRadarFormOpen,addRadarFormPage:a||1});case w.V:Object(E.setLanguage)(a.radarLanguage);var o=a.account,s=!!o&&o.role,l="owner"===s||"manager"===s||String(o.userId)===String(a.ownerId),u="owner"===s||"editor"===s||"manager"===s||v,p="visitor"===s,m="owner"===s||"manager"===s;return Object(c.a)(Object(c.a)(Object(c.a)({},e),a),{},{canDeleteRadar:l,canEditRadar:u,isVisitor:p,canShareRadar:m});case w.t:return Object(c.a)(Object(c.a)({},e),{},{enableUrlLogin:a});case w.u:return Object(c.a)(Object(c.a)({},e),{},{urlLoginExpire:a});case w.k:return Object(c.a)(Object(c.a)({},e),{},{existingRadarPage:a});case w.lb:return Object(c.a)(Object(c.a)({},e),{},{editSectorsPageOpen:!e.editSectorsPageOpen});case w.mb:return Object(c.a)(Object(c.a)({},e),{},{editTimeRangesPageOpen:!e.editTimeRangesPageOpen});case w.s:return Object(c.a)(Object(c.a)({},e),{},{radarName:a});case w.n:return Object(c.a)(Object(c.a)({},e),{},{mapIntro:a});case w.r:return Object(E.setLanguage)(a),Object(c.a)(Object(c.a)({},e),{},{radarLanguage:a});case w.g:return Object(c.a)(Object(c.a)({},e),{},{addRadarFormPage:a});case w.o:return Object(c.a)(Object(c.a)({},e),{},{phenomenaSet:a});case w.p:return Object(c.a)(Object(c.a)({},e),{},{group:a});case w.l:return Object(c.a)(Object(c.a)({},e),{},{hideUsersFromTrial:a});case w.q:return Object(c.a)(Object(c.a)({},e),{},{radarImage:a});case w.v:return Object(c.a)(Object(c.a)({},e),{},{radarTitleImage:a});case w.y:return Object(c.a)(Object(c.a)({},e),{},{votingOn:a});case w.j:return Object(c.a)(Object(c.a)({},e),{},{displayHaloWhenRating:a});case w.w:return Object(c.a)(Object(c.a)({},e),{},{ratingsOn:a});case w.x:return Object(c.a)(Object(c.a)({},e),a);case w.i:return Object(c.a)(Object(c.a)({},e),{},{discussionOn:a});case w.h:return Object(c.a)(Object(c.a)({},e),{},{commentsOn:a});case w.m:return Object(c.a)(Object(c.a)({},e),{},{likingOn:a});case w.z:return Object(c.a)(Object(c.a)({},e),{},{votingUp:a});case w.cb:var g=d.a.filter(d.a.map(a,b),(function(e){return e.id}));return Object(c.a)(Object(c.a)({},e),{},{groups:g});case w.jb:return Object(c.a)(Object(c.a)({},e),{},{addPhenomenaVisible:!e.addPhenomenaVisible});case w.kb:return Object(c.a)(Object(c.a)({},e),{},{editPhenomenaVisible:a});case w.Mb:return Object(c.a)(Object(c.a)({},e),{},{radar_version:a});default:return e}},radarSets:M.f,loading:M.c,errors:M.b,phenomenaTypes:M.d,phenomenaTypesById:M.e,signals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case w.ob:return Object(c.a)(Object(c.a)({},e),{},{signalListVisible:!e.signalListVisible});case w.nb:return Object(c.a)(Object(c.a)({},e),{},{signalCreateVisibility:!e.signalCreateVisibility});case w.Y:return Object(c.a)(Object(c.a)({},e),{},{signals:a.result,totalRadarSignals:a.total});case w.T:return Object(c.a)(Object(c.a)({},e),{},{signals:[].concat(Object(T.a)(e.signals),Object(T.a)(a.result)),totalRadarSignals:a.total});case w.K:return Object(c.a)(Object(c.a)({},e),{},{signals:[Object(c.a)({},a)].concat(Object(T.a)(e.signals)),totalRadarSignals:e.totalRadarSignals+1});default:return e}},confirmDialog:M.a}),P=n(4),R=n.n(P),B=n(7),N=n(64),L=function(e,t,n,a){return{type:"".concat(w.qb,"/").concat(e),payload:{component:e,error:t,defaultMessage:n,message:a}}},F=function(e,t,n){return{loading:function(){return t=e,{type:"".concat(w.pb,"/").concat(t),payload:{component:t}};var t},success:function(n){return function(a){var r;return a((r=e,{type:"".concat(w.rb,"/").concat(r),payload:{component:r}})),a({type:t,payload:n})}},error:function(t,a){return function(r){return r(L(e,t,n,a))}}}},Q=n(52),q=n(62),Y=n.n(q);function U(e,t){return G.apply(this,arguments)}function G(){return(G=Object(B.a)(R.a.mark((function e(t,n){var a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":n.type||"application/octet-stream",Authorization:"Bearer ".concat(Object(m.b)())},r="".concat("/file","/").concat(t),e.abrupt("return",Y.a.put(r,n,{headers:a}).then((function(e){return e.data.name||e.data})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return J.apply(this,arguments)}function J(){return(J=Object(B.a)(R.a.mark((function e(t){var n,a=arguments;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,e.abrupt("return",U(n?"".concat(n,"/").concat(t.name):"".concat(t.name),t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){return e&&!e.match(/^https?:\/\//)?"/file/"+e:e},Z=function(){var e=Object(B.a)(R.a.mark((function e(t,n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||"string"===typeof t){e.next=5;break}return e.next=3,V(t,n);case 3:return a=e.sent,e.abrupt("return",K(a));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return t({type:w.Bb,payload:e})}},H=function(){return function(e){var t=F(w.bb,w.cb,Object(E.requestTranslation)("fetchingGroupsError")),n=t.loading,a=t.success,r=t.error;e(n());var A=Q.default.getGroups(),i=Q.default.getMemberships();return Promise.all([A,i]).then((function(t){var n=Object(N.a)(t,2),r=n[0],A=n[1],i=A?Object.values(A).map((function(e){return parseInt(e.gid,10)})):[];e(a(r?Object.values(r).filter((function(e){return-1!==i.indexOf(e.id)})):[]))})).catch((function(t){e(r(t))}))}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){t(e?{type:w.ib,payload:e}:{type:w.ib})}},_=function(e){return function(t){return t({type:w.j,payload:e})}},X=function(e){return function(t){return t({type:w.s,payload:e})}},$=function(e){return function(t){return t({type:w.n,payload:e})}},ee=function(e){return function(t){return t({type:w.r,payload:e})}},te=function(e){return function(t){return t({type:w.p,payload:e})}},ne=function(e){return function(t){return t({type:w.g,payload:e})}},ae=function(e){return function(t){return t({type:w.o,payload:e})}},re=function(e){return function(t){return t({type:w.l,payload:e})}},Ae=function(e){return function(t){return t({type:w.q,payload:e})}},ie=function(e){return function(t){return t({type:w.v,payload:e})}},oe=function(e){return function(t){return t({type:w.y,payload:e})}},ce=function(e){return function(t){return t({type:w.w,payload:e})}},se=function(e){return function(t){return t({type:w.t,payload:e})}},le=function(e){return function(t){return t({type:w.u,payload:e})}},ue=function(e){var t=e.axisXTitle,n=e.axisXMax,a=e.axisXMin,r=e.axisYTitle,A=e.axisYMax,i=e.axisYMin,o=e.fourFieldsTopLeft,c=e.fourFieldsTopRight,s=e.fourFieldsBottomLeft,l=e.fourFieldsBottomRight;return function(e){return e({type:w.x,payload:{axisXTitle:t,axisXMax:n,axisXMin:a,axisYTitle:r,axisYMax:A,axisYMin:i,fourFieldsTopLeft:o,fourFieldsTopRight:c,fourFieldsBottomLeft:s,fourFieldsBottomRight:l}})}},de=function(e){return function(t){return t({type:w.i,payload:e})}},pe=function(e){return function(t){return t({type:w.h,payload:e})}},me=function(e){return function(t){return t({type:w.m,payload:e})}},ge=function(e){return function(t){return t({type:w.z,payload:e})}},he=function(){return function(e){return e({type:w.Cb})}},fe=function(e){return function(t){return t({type:w.xb,payload:e})}},be=function(e){return function(t){return t({type:w.yb,payload:e})}},ve=function(){return function(e){return e({type:w.wb})}},Ee=function(){return function(){var e=Object(B.a)(R.a.mark((function e(t,n){var a,r,A,i,o,s,l,u,p,m,g;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().radarSettings,r=a.group,A=a.radarImage,i=a.radarTitleImage,o=F(w.H,w.I,Object(E.requestTranslation)("creatingRadarError")),s=o.loading,l=o.success,u=o.error,t(s()),e.prev=4,p=d.a.isObject(r)?d.a.get(r,"id",0):r,e.t0=c.a,e.t1=Object(c.a)({},a),e.t2={},e.next=11,Z(A,p);case 11:return e.t3=e.sent,e.next=14,Z(i,p);case 14:return e.t4=e.sent,e.t5={radarImage:e.t3,radarTitleImage:e.t4},m=(0,e.t0)(e.t1,e.t2,e.t5),e.next=19,Q.default.createRadar(m);case 19:g=e.sent,t(l(g)),e.next=26;break;case 23:e.prev=23,e.t6=e.catch(4),t(u(e.t6));case 26:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t,n){return e.apply(this,arguments)}}()},we=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){var t=Object(B.a)(R.a.mark((function t(n,a){var r,A,i,o,s,l,u,p,m,g,h,f;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().radarSettings,A=r.group,i=r.radarImage,o=r.radarTitleImage,s=r.id,l=F(w.Kb,w.Lb,Object(E.requestTranslation)("updatingRadarError")),u=l.loading,p=l.success,m=l.error,n(u()),t.prev=4,g=d.a.isObject(A)?d.a.get(A,"id",0):A,t.t0=c.a,t.t1=Object(c.a)({},r),t.t2={},t.next=11,Z(i,g);case 11:return t.t3=t.sent,t.next=14,Z(o,g);case 14:return t.t4=t.sent,t.t5={radarImage:t.t3,radarTitleImage:t.t4},h=(0,t.t0)(t.t1,t.t2,t.t5),t.next=19,Q.default.updateRadar(s,h);case 19:f=t.sent,e&&n({type:w.ib}),n(p(f)),t.next=27;break;case 24:t.prev=24,t.t6=t.catch(4),n(m(t.t6));case 27:case"end":return t.stop()}}),t,null,[[4,24]])})));return function(e,n){return t.apply(this,arguments)}}()},ye=function(){return function(e){var t=F(w.fb,w.gb,Object(E.requestTranslation)("fetchingSetsError")),n=t.loading,a=t.success,r=t.error;return e(n()),Q.default.getRadarTemplates().then((function(t){return e(a(t))})).catch((function(t){return e(r(t))}))}},Oe=function(){return function(e){return e({type:w.lb})}},je=function(){return function(e){return e({type:w.mb})}},xe=function(){return function(e){return e({type:w.A})}},Ce=function(){return{type:w.jb}},ke=function(e){return function(t,n){var a=n().phenomena,r=e?d.a.find(a,{id:e}):null;return e&&!r&&console.error("Invalid phenomenonUuid",e),t({type:w.kb,payload:r})}},Te=s.d,Se=Object(s.e)(I,Te(Object(s.a)(l.a)));window.radarCallbacks=Object(c.a)(Object(c.a)({},window.radarCallbacks||{}),{},{openPhenomenonEditor:function(e){return Se.dispatch(ke(e))}});var De,Me,Ie,Pe,Re,Be,Ne,Le,Fe,Qe,qe,Ye,Ue,Ge,Ve,Je,Ke,Ze,We,He,ze,_e=Se,Xe=n(43),$e=n(44),et=n(47),tt=n(46),nt=n(329),at=n.n(nt),rt=n(21),At=n.n(rt),it=n(8),ot=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){var e;Object(Xe.a)(this,n);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(e=t.call.apply(t,[this].concat(r))).handleDrag=function(t){t.stopPropagation();var n=e.props;(0,n.onPhenomenaDrag)(t,n.phenomenon)},e.phenomenonRef=function(t){e.phenomena=t},e.getPhenomenonType=function(){var t=e.props,n=t.phenomenaTypesById,a=t.phenomenon.content.type,r=d.a.find(n,(function(e){return"undefined"===e.alias}));return n[a]||r},e.getClassNameState=function(){return e.getPhenomenonType().alias},e.includesTag=function(e,t){var n=!1;return d.a.map(e,(function(e){d.a.includes(t,e)&&(n=!0)})),n},e.getFilterClassName=function(){var t=e.getPhenomenonType().id,n=e.props,a=n.filter,r=n.tagFilter,A=n.phenomenon.tags;return a&&a.length&&!d.a.find(a,(function(e){return e.id===t}))||r&&r.length&&!e.includesTag(A,r)?"phenomenon-disabled":null},e.getClassNameDrag=function(e,t){return e&&t?"deleting":e?"dragged":""},e}return Object($e.a)(n,[{key:"componentDidMount",value:function(){this.props.onPhenomenaDrag&&(this.phenomena.addEventListener("mousedown",this.handleDrag),this.phenomena.addEventListener("touchstart",this.handleDrag),this.phenomena.addEventListener("ontouchstart",this.handleDrag))}},{key:"componentWillUnmount",value:function(){this.props&&(this.phenomena.removeEventListener("mousedown",this.handleDrag),this.phenomena.addEventListener("touchstart",this.handleDrag),this.phenomena.addEventListener("ontouchstart",this.handleDrag))}},{key:"render",value:function(){var e,t=this.props,n=t.deleting,a=t.labelWidth,A=t.phenomenaSize,i=t.cx,o=t.cy,c=t.fontSize,s=t.dragged,l=t.hidden,u=t.radarId,d=t.phenomenon,p=t.votingOn,m=d.content,g=m.title,h=m.short_title,f=d.group,b=d.halo;e=s?n?"rgba(229, 104, 105, 1)":"rgba(43, 201, 143, 0.3)":this.getPhenomenonType().style?this.getPhenomenonType().style.color:"rgba(43, 201, 143, 1)";var v=A/2,E={fontSize:"".concat(c,"px")},w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.group,r=t.id,A=t.hasOwnProperty("group"),i=A?"group=".concat(a):"";if(!e)return"".concat("","/fp-phenomena/").concat(r).concat(i.length?"/?".concat(i):"");var o=new URLSearchParams(window.location.search),c=o.get("vsid");return"".concat("","/node/").concat(e,"?issue=").concat(r,"&map_id=").concat(e,"&source_position=right&source_page=radar-view").concat(i.length?"&".concat(i):"").concat(n?"&hideEdit=true":"").concat(c?"&vsid=".concat(c):"")}(u,d),y=At()("phenomenon",this.getClassNameState(),this.getClassNameDrag(s,n),this.getFilterClassName(),{left:"undefined"!==typeof u,hidden:l});return r.a.createElement("g",{"data-href":w,ref:this.phenomenonRef,className:y},r.a.createElement(it.PhenomenonType,{phenomenon:d,type:this.getPhenomenonType().alias,size:A,x:i,halo:p&&b,y:o,fill:e}),0===f&&!n&&r.a.createElement("image",{x:i-v,y:o-v,width:2*v,height:2*v,xlinkHref:"https://go.futuresplatform.com/sites/all/themes/AltFutures_theme/images/watermark-fp.png?v=2"}),n&&r.a.createElement("foreignObject",{x:i-v,y:o-v,width:A,height:A,style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{className:"material-icons",style:{color:"rgba(255, 255, 255, 0.4)",fontSize:"35px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},textAnchor:"middle"},"delete")),r.a.createElement(at.a,{textAnchor:"middle",verticalAnchor:"start",x:i,y:o+1.4*v,width:a,className:"phenomena-label noselect",style:E},h||g))}}]),n}(a.PureComponent),ct=n(321),st=n.n(ct),lt=function(e,t){var n=Object(N.a)(e,2),a=n[0],r=n[1];return t<a?a:t>r?r:t},ut=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(e){var a;return Object(Xe.a)(this,n),(a=t.call(this,e)).range=[0,100],a.copyPhenomena=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.phenomena,t=a.props.sector.constraints;return a.xScale=p.j().domain(t.angle).range(a.range),a.yScale=p.j().domain(t.radius).range(a.range),e.map((function(e,t){var n=e.angle,r=e.radius,A=e.size;return{index:t,x:a.xScale(n),y:a.yScale(r),fy:a.yScale(r),size:A}}))},a.startForce=function(){var e=a.state.nodes;a.force&&a.force.stop(),e.length>1&&(a.force=p.d(e).force("charge",p.c().strength(-5).distanceMax(a.range[1]/e.length)).on("tick",(function(){e.map((function(e){e.x=lt(a.range,e.x),e.y=lt(a.range,e.y)})),a.setState({nodes:e.slice()})})))},a.getNodeCoordinates=function(e){var t=a.state.nodes[e],n=a.xScale.invert(t.x),r=a.yScale.invert(t.y),A=g(n,r),i=Object(N.a)(A,2);return{cx:i[0],cy:i[1]}},a.state={nodes:a.copyPhenomena()},a}return Object($e.a)(n,[{key:"componentDidMount",value:function(){this.startForce()}},{key:"componentWillReceiveProps",value:function(e){var t=e.phenomena,n=this.props.phenomena;st()(t,n)||this.setState({nodes:this.copyPhenomena(t)},this.startForce)}},{key:"componentWillUnmount",value:function(){this.force&&this.force.stop()}},{key:"render",value:function(){var e=this,t=this.props,n=t.phenomena,a=t.draggedPhenomenon,A=t.phenomenaDisplayProps;return r.a.createElement("g",null,n.map((function(t,n){var i=t.id,o=a&&a.id===i;return r.a.createElement(ot,Object.assign({},e.props,e.getNodeCoordinates(n),{key:n,hidden:o,phenomenon:t},A))})))}}]),n}(a.PureComponent),dt=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){return Object(Xe.a)(this,n),t.apply(this,arguments)}return Object($e.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.timeRanges,a=(0,t.getPhenomenaDisplayProps)();return r.a.createElement("g",{className:"phenomena"},n.map((function(t){var n=t.value;return t.sectors.filter((function(e){return!!e.phenomena.length})).map((function(t){return r.a.createElement(ut,Object.assign({},e.props,{key:"".concat(t.id,"-").concat(n),sector:t,phenomena:t.phenomena,phenomenaDisplayProps:a}))}))})))}}]),n}(a.PureComponent),pt=Object(o.b)((function(e){var t=e.radarSettings,n=t.id,a=t.canEditRadar,r=t.votingOn,A=e.filters;return{radarId:n,canEdit:a,filter:A.activeFilter,tagFilter:A.activeTagFilter,votingOn:r}}),(function(e){return Object(s.b)({},e)}))(dt),mt=n(168),gt=Object(mt.a)([function(e){return e.radarSettings&&e.radarSettings.groups}],(function(e){return function(t){var n=Object(u.find)(e,(function(e){return t===e.id}));return!!n&&(!n.availableResources.hasOwnProperty("collaboration_tools")||!!n.availableResources.collaboration_tools)}})),ht=n(13),ft=n(209),bt=n(12),vt=n(169),Et=n(230),wt=n.n(Et),yt={toolbar:[[{header:["1","2","3","4","5"]},{font:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"],["clean"]],clipboard:{matchVisual:!1}},Ot=function(){return[{value:"en",label:Object(E.requestTranslation)("english")},{value:"fi",label:Object(E.requestTranslation)("finnish")}]},jt=[{label:"Opportunities",checked:!1},{label:"Threats",checked:!1},{label:"Actions",checked:!1}],xt={position:null,year:"",description:"",label:""},Ct=p.j().domain([30,2,1,0]).range(["#333334","#E7E7E8","#F3F3F4","#FBFBFC"]).interpolate(p.f),kt=n(140),Tt=n.n(kt),St=n(107),Dt=n.n(St),Mt=n(170),It=n.n(Mt),Pt=n(131),Rt=n.n(Pt),Bt=n(424),Nt=n.n(Bt),Lt=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","video"],Ft=window.URL||window.webkitURL,Qt=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(e){var a;Object(Xe.a)(this,n),(a=t.call(this,e)).setFieldError=function(e,t){var n=a.state.errors;return t?n.indexOf(e)<0&&a.setState({errors:[].concat(Object(T.a)(n),[e])}):a.setState({errors:Dt()(n,(function(t){return t!==e}))}),!t},a.validateRadarName=function(){return a.setFieldError("radarName",a.hasRadarNameError())},a.validateGroup=function(){return a.setFieldError("group",a.hasGroupError())},a.hasGroupError=function(){var e=a.props.groups,t=a.state.group,n=It()(e,(function(e){return e.value===t}));return n&&!n.hasAvailableRadars},a.hasRadarNameError=function(){return!a.state.radarName},a.handleRadarNameChange=function(e){return a.setState({radarName:e.target.value},(function(){return a.validateRadarName()}))},a.handleMapIntroChange=function(e){return a.setState({mapIntro:e})},a.handleValueChange=function(e){return function(t){return a.setState(Object(ft.a)({},e,t.target.value))}},a.handleRadarLanguageChange=function(e){var t=e.value;(0,a.props.changeRadarLanguage)(t),a.setState({radarLanguage:t})},a.handlePhenomenaSetChange=function(e){var t=e.value,n=a.state.imageUrl,r=a.props.radarSets,A=It()(r,(function(e){return e.id===t}));n=!(!A||""===A.logo_image)&&A.logo_image,a.setState({phenomenaSet:t,imageUrl:n})},a.handleDisplayHaloWhenRatingChange=function(e){var t=e.value;return a.setState({displayHaloWhenRating:t})},a.handleGroupChange=function(e){var t=e.value;return a.setState({group:t},(function(){return a.validateGroup()}))},a.handleDiscussionOnChange=function(){return a.setState({discussionOn:!a.state.discussionOn})},a.handleVotingOnChange=function(){return a.setState({votingOn:!a.state.votingOn})},a.handleRatingsOnChange=function(){return a.setState({ratingsOn:!a.state.ratingsOn})},a.handleLikingOnChange=function(){return a.setState({likingOn:!a.state.likingOn})},a.handleCommentsOnChange=function(){return a.setState({commentsOn:!a.state.commentsOn})},a.handleVotingSelection=function(){return a.setState({votingUp:!a.state.votingUp})},a.handleHideUsersFromTrialClick=function(){return a.setState({hideUsersFromTrial:!a.state.hideUsersFromTrial})},a.handleTopicChange=function(e,t){var n=a.state.commentTopics.map((function(n){return n.label===e?Object(c.a)(Object(c.a)({},n),{},{checked:t}):n}));a.setState({commentTopics:n})},a.handleImageSelect=function(e,t){var n=t||e.target.files[0],r=new FileReader;r.onload=function(){var e=new Image;e.src=Ft.createObjectURL(n),e.onload=function(){a.setState({radarImage:r.result,imageFile:n,imageUrl:!1})}},r.readAsDataURL(n)},a.handleTitleImageSelect=function(e,t){var n=t||e.target.files[0],r=new FileReader;r.onload=function(){var e=new Image;e.src=Ft.createObjectURL(n),e.onload=function(){a.setState({radarTitleImage:r.result,imageTitleFile:n})}},r.readAsDataURL(n)},a.handleTitleImageDelete=function(){a.setState({radarTitleImage:!1,imageTitleFile:!1})},a.handleImageDelete=function(){a.setState({radarImage:!1,imageFile:!1,imageUrl:!1})},a.handleNextClick=function(){var e=a.props,t=e.addRadarFormPage,n=e.changeRadarLanguage,r=e.changeRadarName,A=e.changeMapIntro,i=e.changeAddRadarFormPage,o=e.changeHideUsersFromTrial,c=e.changeRadarImage,s=e.changeDiscussionOn,l=e.changeVotingOn,u=e.changeVotingUp,d=e.changeRatingsOn,p=e.changeRatingsSettings,m=e.changeCommentsOn,g=e.changeLikingOn,h=e.createRadar,f=e.changePhenomenaSet,b=e.changeRadarGroup,v=e.id,E=e.updateRadar,w=e.changeDisplayHaloWhenRating,y=e.isCollaborationToolsAllowed,O=e.changeRadarTitleImage,j=a.state,x=j.radarLanguage,C=j.radarName,k=j.mapIntro,T=j.hideUsersFromTrial,S=j.discussionOn,D=j.votingOn,M=j.votingUp,I=j.ratingsOn,P=j.commentsOn,R=j.likingOn,B=j.phenomenaSet,N=j.group,L=j.axisXTitle,F=j.axisXMax,Q=j.axisXMin,q=j.axisYTitle,Y=j.axisYMax,U=j.axisYMin,G=j.fourFieldsTopLeft,V=j.fourFieldsTopRight,J=j.fourFieldsBottomLeft,K=j.fourFieldsBottomRight,Z=j.imageFile,W=j.imageTitleFile,H=j.displayHaloWhenRating;if(a.validate())switch(t){case 1:n(x),r(C),b(N),v?E():i(2);break;case 2:c(Z),O(W),o(T),f(B),v?E():y(N)?i(3):h();break;case 3:w(H),s(S),l(D),u(M),d(I),p({axisXTitle:L,axisXMax:F,axisXMin:Q,axisYTitle:q,axisYMax:Y,axisYMin:U,fourFieldsTopLeft:G,fourFieldsTopRight:V,fourFieldsBottomLeft:J,fourFieldsBottomRight:K}),m(P),g(R),v?E():h();break;case 4:A(k),v?E():i(4)}},a.handleBackClick=function(){var e=a.props,t=e.addRadarFormPage;(0,e.changeAddRadarFormPage)(t-1)},a.handleCloseClick=function(){return a.props.changeAddRadarFormVisibility()},a.redirectUser=function(){return window.location.replace("/")},a.renderConclusionForm=function(){var e=a.state.mapIntro;return r.a.createElement("div",{className:"modal-form-sections"},r.a.createElement("div",{className:"modal-form-section modal-form-header"},r.a.createElement("h2",null,Object(E.requestTranslation)("conclusions"))),r.a.createElement("div",{className:"modal-form-section"},r.a.createElement(Tt.a,{className:"fp-wysiwyg",style:{height:"250px",paddingBottom:"42px"},modules:yt,formats:Lt,value:e||"",onChange:a.handleMapIntroChange})))},a.renderBasicSettingsForm=function(){var e=a.state,t=e.phenomenaSet,n=e.hideUsersFromTrial,A=e.radarImage,i=e.imageUrl,o=e.group,c=e.radarTitleImage,s=a.props,l=s.radarSets,u=s.id,p=s.groups,m=s.radarTitleImage,g=d.a.find(p,(function(e){var t=e.value;return Number(t)===(Number(o)||Number(o.id))}));return r.a.createElement("div",{className:"modal-form-sections"},r.a.createElement("div",{className:"modal-form-section modal-form-header"},r.a.createElement("h2",null,Object(E.requestTranslation)("basicSettings"))),!u&&r.a.createElement("div",{className:"modal-form-section"},r.a.createElement("h3",null,Object(E.requestTranslation)("selectPhenomenaSet")),r.a.createElement(vt.default,{searchable:!1,name:"phenomena-set",className:"fp-radar-select fp-radar-select-hizindex fp-radar-select--no-margin",value:t,onChange:a.handlePhenomenaSetChange,options:l,clearable:!1})),r.a.createElement("div",{className:"modal-form-section"},r.a.createElement("h3",null,g&&g.radarLogoEnabled?Object(E.requestTranslation)("selectRadarTitleImage"):Object(E.requestTranslation)("selectRadarImage")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement(zt,null,!(A||i)&&Object(E.requestTranslation)("noImageSelected"),(A||i)&&r.a.createElement($t,null,r.a.createElement(_t,{src:i||A}),r.a.createElement(en,{onClick:a.handleImageDelete},r.a.createElement(tn,{className:"material-icons"},"close"))),r.a.createElement(Zt,null,r.a.createElement(Wt,{type:"file",accept:"image/*",onChange:a.handleImageSelect,placeholder:"SELECT",onClick:function(e){e.target.value=null}}),r.a.createElement(Ht,{className:"btn btn-sm btn-outline-secondary"},Object(E.requestTranslation)("select")))),g&&g.radarLogoEnabled?r.a.createElement(zt,null,!(c||m)&&Object(E.requestTranslation)("noImageSelected"),(c||m)&&r.a.createElement($t,null,r.a.createElement(Xt,{src:c||m}),r.a.createElement(en,{onClick:a.handleTitleImageDelete},r.a.createElement(tn,{className:"material-icons"},"close"))),r.a.createElement(Zt,null,r.a.createElement(Wt,{type:"file",accept:"image/*",onChange:a.handleTitleImageSelect,placeholder:"SELECT",onClick:function(e){e.target.value=null}}),r.a.createElement(Ht,{className:"btn btn-sm btn-outline-secondary"},Object(E.requestTranslation)("select")))):null),r.a.createElement("p",{className:"description"},Object(E.requestTranslation)("radarImageText")))),r.a.createElement("div",{className:At()("modal-form-section",{"pb-0":!u})},r.a.createElement("h3",null,Object(E.requestTranslation)("hideUserList")),r.a.createElement("div",{className:At()("form-group",{"pb-0":!u})},r.a.createElement(it.Checkbox,{whiteBg:!0,label:Object(E.requestTranslation)("hideUserListLabel"),checked:n,onChange:a.handleHideUsersFromTrialClick}))))},a.renderFormPage=function(){switch(a.props.addRadarFormPage){case 4:return a.renderConclusionForm();case 2:return a.renderBasicSettingsForm();case 3:return a.renderUserOptionsForm();default:return a.renderHeaderAndLanguageForm()}};var A=!1;if(e.group)A=e.group;else if(e.groups.length>0){var i=new Ft(document.location).searchParams,o=Number(i.get("gid"));A=o&&It()(e.groups,(function(e){var t=e.value;return Number(t)===Number(o)}))?o:Rt()(e.groups).value}var s=e.radarName,l=e.mapIntro,u=e.radarLanguage,p=e.radarSets,m=e.hideUsersFromTrial,g=e.radarImage,h=e.votingOn,f=e.ratingsOn,b=e.discussionOn,v=e.commentsOn,w=e.likingOn,y=e.votingUp,O=e.axisXTitle,j=e.axisXMin,x=e.axisXMax,C=e.axisYTitle,k=e.axisYMin,S=e.axisYMax,D=e.fourFieldsTopLeft,M=e.fourFieldsTopRight,I=e.fourFieldsBottomLeft,P=e.fourFieldsBottomRight,R=e.displayHaloWhenRating,B=e.titleLogo;return a.state={errors:[],phenomenaSet:!!p.length&&p[0].value,commentTopics:jt,radarTitleImage:B,group:A,radarName:s,mapIntro:l,radarLanguage:u,hideUsersFromTrial:m,radarImage:g,votingOn:h,ratingsOn:f,discussionOn:b,commentsOn:v,likingOn:w,votingUp:y,axisXTitle:O,axisXMin:j,axisXMax:x,axisYTitle:C,axisYMin:k,axisYMax:S,fourFieldsTopLeft:D,fourFieldsTopRight:M,fourFieldsBottomLeft:I,fourFieldsBottomRight:P,displayHaloWhenRating:R},a}return Object($e.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getRadarSets,n=e.getUserGroups;e.existingRadarPage||(n(),t())}},{key:"shouldSetDefaultRadarSet",value:function(e){var t=this.state.phenomenaSet,n=this.props.radarSets;return!(!e.radarSets.length||t)||!(!n.length||e.radarSets===n)&&!It()(e.radarSets,(function(e){return e.value===t}))}},{key:"componentWillReceiveProps",value:function(e){if(this.shouldSetDefaultRadarSet(e))if(e.radarSets.length){var t=Rt()(e.radarSets),n=t.logo_image||!1;this.setState({phenomenaSet:t.value,imageUrl:n})}else this.setState({phenomenaSet:!0});if(e.groups.length&&!this.state.group){var a=new Ft(document.location).searchParams,r=Number(a.get("gid"));r&&It()(e.groups,(function(e){var t=e.value;return Number(t)===Number(r)}))?this.setState({group:r}):this.setState({group:Rt()(e.groups).value})}}},{key:"validate",value:function(){var e=[];return 1===this.props.addRadarFormPage&&(this.hasGroupError()&&e.push("group"),this.hasRadarNameError()&&e.push("radarName")),this.setState({errors:e}),0===e.length}},{key:"renderUserOptionsForm",value:function(){var e=this.state,t=e.votingOn,n=e.ratingsOn,a=e.discussionOn,A=e.commentsOn,i=(e.commentTopics,e.likingOn),o=(e.votingUp,e.axisXTitle),c=e.axisXMin,s=e.axisXMax,l=e.axisYTitle,u=e.axisYMin,d=e.axisYMax,p=e.fourFieldsTopLeft,m=e.fourFieldsTopRight,g=e.fourFieldsBottomLeft,h=e.fourFieldsBottomRight,f=e.displayHaloWhenRating;return r.a.createElement("div",{className:"modal-form-sections"},r.a.createElement("div",{className:"modal-form-section modal-form-header"},r.a.createElement("h2",null,Object(E.requestTranslation)("activateUsers"))),r.a.createElement("div",{className:"modal-form-section"},r.a.createElement(an,null,r.a.createElement(nn,null,r.a.createElement("h3",null,Object(E.requestTranslation)("voting")),r.a.createElement(an,null,r.a.createElement("p",null,Object(E.requestTranslation)("createFormVotingDescription")),r.a.createElement(wt.a,{icons:!1,defaultChecked:t,onChange:this.handleVotingOnChange}))),!1),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("h4",null,Object(E.requestTranslation)("upvotesForHalo")),r.a.createElement(vt.default,{searchable:!1,name:"group",className:"fp-radar-select",value:f,onChange:this.handleDisplayHaloWhenRatingChange,options:Nt()(20,(function(e){return{label:e+1,value:e+1}})),clearable:!1}))),r.a.createElement("div",{className:"modal-form-section"},r.a.createElement(nn,null,r.a.createElement("h3",null,Object(E.requestTranslation)("rating")),r.a.createElement(an,null,r.a.createElement("p",null,Object(E.requestTranslation)("createFormRatingDescription")),r.a.createElement(wt.a,{icons:!1,defaultChecked:n,onChange:this.handleRatingsOnChange})))),n&&r.a.createElement(Kt,{style:{paddingTop:0}},r.a.createElement(an,null,r.a.createElement(nn,null,r.a.createElement("h4",null,Object(E.requestTranslation)("horizontalAxis")),r.a.createElement(An,null,r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("axisName")),r.a.createElement(Jt,{type:"text",value:o||"",onChange:this.handleValueChange("axisXTitle")}))),r.a.createElement(An,null,r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("leftEnd")),r.a.createElement(Jt,{type:"text",value:c||"",onChange:this.handleValueChange("axisXMin")})),r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("rightEnd")),r.a.createElement(Jt,{type:"text",value:s||"",onChange:this.handleValueChange("axisXMax")})))),r.a.createElement(nn,null,r.a.createElement("h4",null,Object(E.requestTranslation)("verticalAxis")),r.a.createElement(An,null,r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("axisName")),r.a.createElement(Jt,{type:"text",value:l||"",onChange:this.handleValueChange("axisYTitle")}))),r.a.createElement(An,null,r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("lowEnd")),r.a.createElement(Jt,{type:"text",value:u||"",onChange:this.handleValueChange("axisYMin")})),r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("highEnd")),r.a.createElement(Jt,{type:"text",value:d||"",onChange:this.handleValueChange("axisYMax")})))))),n&&r.a.createElement(Kt,{style:{paddingTop:0}},r.a.createElement("h4",null,Object(E.requestTranslation)("cornersText")),r.a.createElement(an,null,r.a.createElement(nn,null,r.a.createElement(An,null,r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("topLeft")),r.a.createElement(Jt,{type:"text",value:p||"",onChange:this.handleValueChange("fourFieldsTopLeft")})),r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("topRight")),r.a.createElement(Jt,{type:"text",value:m||"",onChange:this.handleValueChange("fourFieldsTopRight")}))),r.a.createElement(An,null,r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("bottomLeft")),r.a.createElement(Jt,{type:"text",value:g||"",onChange:this.handleValueChange("fourFieldsBottomLeft")})),r.a.createElement(on,null,r.a.createElement(rn,null,Object(E.requestTranslation)("bottomRight")),r.a.createElement(Jt,{type:"text",value:h||"",onChange:this.handleValueChange("fourFieldsBottomRight")})))))),r.a.createElement("div",{className:"modal-form-section"},r.a.createElement(an,null,r.a.createElement(nn,null,r.a.createElement("h3",null,Object(E.requestTranslation)("commenting")),r.a.createElement(an,null,r.a.createElement("p",null,Object(E.requestTranslation)("createFormCommentingDescription")),r.a.createElement(wt.a,{icons:!1,defaultChecked:A,onChange:this.handleCommentsOnChange})),r.a.createElement(an,{style:{marginTop:"15px"}},r.a.createElement("p",null,Object(E.requestTranslation)("allowLikeCommenting")),r.a.createElement(wt.a,{icons:!1,defaultChecked:i,onChange:this.handleLikingOnChange}))),A&&!1)),r.a.createElement("div",{className:"modal-form-section"},r.a.createElement(nn,null,r.a.createElement(an,null,r.a.createElement("h3",{className:"mb-0"},Object(E.requestTranslation)("discussion")),r.a.createElement(wt.a,{icons:!1,defaultChecked:a,onChange:this.handleDiscussionOnChange})))))}},{key:"renderFieldError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.state.errors,a=n.length>0&&n.indexOf(e)>=0;return a&&r.a.createElement(Yt,t,Object(E.requestTranslation)("radar-error-".concat(e)))}},{key:"renderHeaderAndLanguageForm",value:function(){var e=this.state,t=e.radarName,n=e.radarLanguage,a=e.group,A=this.props,i=A.groups,o=A.id;return r.a.createElement("div",{className:"modal-form-sections"},r.a.createElement("div",{className:"modal-form-section modal-form-header"},r.a.createElement("h2",null,Object(E.requestTranslation)("headerTitle"))),r.a.createElement("div",{className:"modal-form-section"},r.a.createElement("h3",null,Object(E.requestTranslation)("header")),r.a.createElement("div",{className:"form-group"},r.a.createElement(Jt,{type:"text",value:t,onChange:this.handleRadarNameChange,style:{maxWidth:"300px",display:"inline-block"}}),this.renderFieldError("radarName"))),r.a.createElement("div",{className:"modal-form-section lightgray-bg"},r.a.createElement("h3",null,Object(E.requestTranslation)("group")),!o&&r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,Object(E.requestTranslation)("groupAvailabilityText")),r.a.createElement(qt,null,r.a.createElement(vt.default,{searchable:!1,name:"group",className:"fp-radar-select",value:a,onChange:this.handleGroupChange,options:i,clearable:!1})),this.renderFieldError("group",{select:!0})),o&&r.a.createElement("p",null,Object(E.requestTranslation)("groupAvailability")," ",a.title)),!o&&r.a.createElement("div",{className:"modal-form-section pb-0"},r.a.createElement("h3",null,Object(E.requestTranslation)("language")),r.a.createElement("p",null,Object(E.requestTranslation)("languageAvailability")),r.a.createElement(vt.default,{searchable:!1,name:"language",className:"fp-radar-select",value:n||Ot()[0],onChange:this.handleRadarLanguageChange,options:Ot(),clearable:!1,placeholder:Object(E.requestTranslation)("select").toLowerCase()+"..."})))}},{key:"renderNextButton",value:function(){var e=this.state.errors,t=this.props,n=t.loading,a=t.existingRadarPage,A=e.length||n.length,i=a?"save":"next";return r.a.createElement("button",{disabled:A,className:"btn btn-lg btn-primary",onClick:this.handleNextClick},Object(E.requestTranslation)(i))}},{key:"renderCancelButton",value:function(){var e=this.props,t=e.addRadarFormPage,n=e.existingRadarPage,a=1===t,A=n||a?"cancel":"back",i=a?this.redirectUser:this.handleBackClick;return r.a.createElement("button",{className:"btn btn-lg btn-plain-gray",onClick:n?this.handleCloseClick:i},Object(E.requestTranslation)(A))}},{key:"renderPagination",value:function(){var e=this.props,t=e.addRadarFormPage,n=e.isCollaborationToolsAllowed,a=this.state.group;return r.a.createElement(Ut,null,r.a.createElement(Gt,null),r.a.createElement(Vt,{active:1===t},"1"),r.a.createElement(Vt,{active:2===t},"2"),n(a)&&r.a.createElement(Vt,{active:3===t},"3"))}},{key:"render",value:function(){var e=this.props,t=e.existingRadarPage,n=e.loading;return r.a.createElement("div",null,this.renderFormPage(),r.a.createElement("div",{className:"modal-form-section modal-form-actions"},r.a.createElement("div",null,this.renderCancelButton(),this.renderNextButton())),r.a.createElement(it.Loading,{shown:n.length,color:"black"}),!t&&this.renderPagination())}}]),n}(a.PureComponent),qt=bt.default.div(De||(De=Object(ht.a)(["\n    display: inline-block;\n    margin-right: 15px;\n"]))),Yt=bt.default.div(Me||(Me=Object(ht.a)(["\n    margin-top: ",";\n    display: ",";\n    clear: right;\n    color: red;\n"])),(function(e){return e.select?"7px":"0"}),(function(e){return e.select?"block":"inline-block"})),Ut=bt.default.div(Ie||(Ie=Object(ht.a)(["\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    display: flex;\n    width: 100px;\n    justify-content: space-between;\n"]))),Gt=bt.default.div(Pe||(Pe=Object(ht.a)(["\n    width: 100%;\n    height: 1px;\n    background: gray;\n    position: absolute;\n    top: 50%;\n    z-index: 1;\n"]))),Vt=bt.default.div(Re||(Re=Object(ht.a)(["\n    width: 23px;\n    height: 23px;\n    border-radius: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n    padding-top: 0px;\n    font-size: 13px;\n    box-sizing: border-box;\n    z-index: 10;\n    background: ",";\n"])),(function(e){return e.active?"#006998":"gray"})),Jt=bt.default.input(Be||(Be=Object(ht.a)(["\n    width: 300px;\n    background: transparent;\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    margin-right: 15px;\n    font-size: 16px;\n    padding-left: 20px;\n    height: 45px;\n    border-radius: 1px;\n    box-sizing: border-box;\n"]))),Kt=bt.default.div(Ne||(Ne=Object(ht.a)(['\n    width: 100%;\n    background-color: #f1f3f3;\n    box-sizing: border-box;\n    padding: 30px 50px;\n    &:after {\n      content: "";\n      display: table;\n      clear: both;\n    }\n']))),Zt=bt.default.div(Le||(Le=Object(ht.a)(["\n    position: relative;\n    width: 100px;\n    height: 40px;\n    margin-left: 20px;\n"]))),Wt=bt.default.input(Fe||(Fe=Object(ht.a)(["\n    z-index: 20;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    background: transparent;\n    position: absolute;\n    top: 0;\n    left: 0;\n    &:hover {\n        cursor: pointer;\n    }\n"]))),Ht=bt.default.div(Qe||(Qe=Object(ht.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100px;\n    height: 40px;\n    border: 1px solid #006998;\n    color: #006998;\n    border-radius: 40px;\n    background: transparent;\n    font-size: 16px;\n    font-weight: 700;\n    &:hover {\n        transition: all 0.4s ease;\n        cursor: pointer;\n        color: white;\n        background-color: #006998;\n    }\n"]))),zt=bt.default.div(qe||(qe=Object(ht.a)(["\n    display: flex;\n    margin-bottom: 20px;\n    align-items: center;\n"]))),_t=bt.default.img(Ye||(Ye=Object(ht.a)(["\n    width: 200px;\n    height: 200px;\n    border-radius: 50%;\n    object-fit: cover;\n    border: 1px solid transparent;\n"]))),Xt=bt.default.img(Ue||(Ue=Object(ht.a)(["\n    height: 85px;\n    width: auto;\n    object-fit: contain;\n    border: 1px solid transparent;\n"]))),$t=bt.default.div(Ge||(Ge=Object(ht.a)(["\n    position: relative;\n    background-color: rgba(0,0,0, 0.1);\n"]))),en=bt.default.div(Ve||(Ve=Object(ht.a)(["\n    position: absolute;\n    top: -15px;\n    right: -15px;\n    border-radius: 50%;\n    background-color: #f1f3f3;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 30px;\n    height: 30px;\n    border: 1px solid gray;\n    &:hover {\n        cursor: pointer;\n    }\n"]))),tn=bt.default.i(Je||(Je=Object(ht.a)(["\n    /*color: gray;*/\n    opacity: 0.7;\n"]))),nn=bt.default.div(Ke||(Ke=Object(ht.a)(["\n    @media (min-width: ",") {\n        width: 45%;\n        display: flex;\n        flex-direction: column;\n    }\n"])),"767px"),an=bt.default.div(Ze||(Ze=Object(ht.a)(["\n    @media (min-width: ",") {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n    }\n"])),"767px"),rn=bt.default.label(We||(We=Object(ht.a)(["\n    white-space: nowrap;\n"]))),An=bt.default.div(He||(He=Object(ht.a)(["\n    width: ",";\n    display: flex;\n    margin: 0 -","px 10px -","px;\n"])),(function(e){var t=e.width;return t||"auto"}),10,10),on=bt.default.div(ze||(ze=Object(ht.a)(["\n    flex: 1 1 ",";\n    padding: 0 ","px;\n"])),(function(e){var t=e.width;return t||"0%"}),10),cn=n(425),sn=n.n(cn),ln=Object(mt.a)([E.getCurrentLanguage,function(e){return e.radarSets}],(function(e,t){return Dt()(t,(function(t){return sn()([e,"und"],t.language)}))})),un=Object(s.d)(Object(o.b)((function(e){var t=e.radarSettings,n=e.loading,a=ln(e);return Object(c.a)(Object(c.a)({},t),{},{radarSets:a,loading:n,isCollaborationToolsAllowed:gt(e)})}),(function(e){return Object(s.b)({changeDisplayHaloWhenRating:_,changeAddRadarFormVisibility:z,changeRadarName:X,changeMapIntro:$,changeRadarLanguage:ee,changeAddRadarFormPage:ne,changePhenomenaSet:ae,changeHideUsersFromTrial:re,changeRadarImage:Ae,changeVotingOn:oe,changeRatingsOn:ce,changeRatingsSettings:ue,changeDiscussionOn:de,changeCommentsOn:pe,changeLikingOn:me,changeVotingUp:ge,createRadar:Ee,changeRadarGroup:te,updateRadar:we,getUserGroups:H,getRadarSets:ye,changeRadarTitleImage:ie},e)})))(Qt),dn=n(332),pn=n.n(dn),mn=n(216),gn=Object(o.b)((function(e){return{phenomena:e.phenomena,group:e.radarSettings.group}}))(mn.PhenomenaSelector),hn=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){var e;Object(Xe.a)(this,n);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(e=t.call.apply(t,[this].concat(r))).state={createModalShown:!1,filtersShown:!1,resetFilters:0},e.successfullyCreatedCallback=function(t){(0,e.props.onPhenomenaDrag)(!1,t,!0)},e.handlePhenomenaSelection=function(t){return e.setState({selectedPhenomena:t})},e.handleCreateNew=function(){return e.setState({createModalShown:!0})},e.handleAdd=function(t){(0,e.props.addPublicPhenomenaToRadar)(t,e.successfullyCreatedCallback)},e.hideAddForm=function(){return e.setState({createModalShown:!1})},e.bumpResetFilters=function(){return e.setState({resetFilters:e.state.resetFilters+1})},e}return Object($e.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.updateMouseCoords;p.k(".add-phenomena-to-radar").on("mousemove",e).on("touchstart",e).on("touchmove",e)}},{key:"renderCreateModal",value:function(){var e=this,t=this.props,n=t.changeAddPhenomenaVisibility,a=t.storePhenomenon,A=t.onPhenomenaDrag,i=t.radar,o=this.state.createModalShown;return r.a.createElement(it.Modal,{isOpen:o,contentLabel:"Create phenomena",style:it.modalStyles,ariaHideApp:!1,onRequestClose:this.hideAddForm},r.a.createElement(mn.PhenomenonEditForm,{onSubmit:function(t,r){a(t,r,(function(t){e.hideAddForm(),n(),A(!1,t,!0)}))},onCancel:this.hideAddForm,onDelete:function(){},radar:i}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.changeAddPhenomenaVisibility,a=t.radarId,A=t.language,i=t.placing,o=this.state,c=o.selectedPhenomena,s=o.filtersShown,l=o.resetFilters;return r.a.createElement(pn.a,{handle:".handle"},r.a.createElement(it.ListContainer,{className:"add-phenomena-to-radar",style:{zIndex:i?0:1,opacity:i?.8:1}},r.a.createElement(it.BorderTitleContainer,{className:"flex-shrink-0 handle",style:{cursor:"move"}},r.a.createElement("h3",{className:"radar-widget-title mb-0"},Object(E.requestTranslation)("sandboxTitle"))),r.a.createElement(it.ListClose,{onClick:n},r.a.createElement(it.CloseIcon,{className:"material-icons"},"close")),r.a.createElement(it.BorderTitleContainer,{className:"phenomena-list-container",filtersShown:s},r.a.createElement(gn,{radarId:a,language:A,onSelect:this.handlePhenomenaSelection,onCreate:this.handleCreateNew,selectedPhenomena:c,onAddToRadarClick:this.handleAdd,sandbox:!0,filter:!0,filtersShown:s,handleFilterChange:function(){return e.setState({filtersShown:!s})},resetFilters:l,bumpResetFilters:this.bumpResetFilters})),s?r.a.createElement(it.BorderTitleContainer,{filtersShown:s},r.a.createElement("button",{className:"btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center",onClick:this.bumpResetFilters},r.a.createElement("i",{className:"material-icons mr-1",style:{fontSize:"16px"}},"replay"),Object(E.requestTranslation)("resetFilters"))):r.a.createElement(it.BorderTitleContainer,{className:"d-flex flex-shrink-0"},r.a.createElement("button",{onClick:this.handleCreateNew,className:"btn btn-outline-secondary"},Object(E.requestTranslation)("addNewPhenomena")),r.a.createElement("button",{className:"btn btn-primary ml-auto",onClick:n},Object(E.requestTranslation)("done"))),this.renderCreateModal()))}}]),n}(a.PureComponent),fn=n(61),bn=(n(1206),n(222)),vn={get:function(e,t){return function(){if(!e.hasOwnProperty(t))throw new Error("Invalid call");return e[t].apply(e,arguments).then((function(e){return _e.dispatch(Dn(e.data.radar_version)),e.data}))}}},En=new Proxy(bn.a,vn),wn=n(133),yn=function(e){return function(t,n){var a=F(w.db,w.eb,Object(E.requestTranslation)("fetchingPhenomenaTypesError")),r=a.loading,A=a.success,i=a.error;return t(r()),Q.default.getPhenomenaTypes(e).then((function(e){return t(A(e))})).catch((function(e){return t(i(e))}))}},On=n(621),jn=n(622),xn=n.n(jn);function Cn(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(B.a)(R.a.mark((function e(t){var n,a,r,A,i,o,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.selector,r=void 0===a?null:a,A=t.waitFor,i=void 0===A?2e3:A,o=t.encoding,c={url:n,encoding:void 0===o?"base64":o,waitFor:i},r&&(c.selector=r),e.abrupt("return",Y()({method:"POST",url:"".concat("/screenshot"),headers:{"Content-Type":"application/json"},withCredentials:!0,data:c}).then((function(e){return e.data})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tn(){return(Tn=Object(B.a)(R.a.mark((function e(t,n){var a,r,A,i,o,s,l,d,p,g,h,f,b,v,w,y,O,j,x,C,k,S,D,M,I,P,N,L,F,q,Y,U,G,V,J,K,Z,W,H,z,_,X,$;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z=function(){var e=P();M(d,e),I(Object(E.requestTranslation)("pptxCommentsTitle"),e),e.addText([{text:Object(E.requestTranslation)("pptxCommentsText",v),options:{breakLine:!1}},{text:"".concat(p,"?tab=2"),options:{hyperlink:{url:"".concat(p,"?tab=2")}}}],{x:.4,y:2})},K=function(e,t){var n=P();M(d,n),I(Object(E.requestTranslation)("pptxRatedContent"),n);var a=.4;[e,t].forEach((function(e){var t=e.title,r=e.axis,A=e.phenomena;n.addText(t,{x:a,y:1.4,fontSize:18,w:13,h:.35,bold:!0});var i=A.map((function(e){var t=e.content,n=t.short_title,a=t.type,A=e.rating_avg;return[{text:n,options:{bold:!0}},{text:"".concat(s[a])},{text:A&&"number"===typeof A[r]?(A[r]/100).toFixed(2):"-"}]}));i.length>0&&n.addTable(i,{x:a,y:2,w:5.5,h:4.7,colW:[3.5,1.5,.5],valign:"top"}),a+=6.8}))},J=function(){return(J=Object(B.a)(R.a.mark((function e(){var t,n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P(),M(d,t),I(Object(E.requestTranslation)("pptxRatedContent"),t),e.prev=3,e.next=6,Cn({waitFor:5e3,url:"".concat(p,"?tab=1"),selector:"div.rating-results-diagram"});case 6:n=e.sent,a=n.data,t.addImage({data:"image/png;base64,".concat(a),x:.4,y:1.4,w:7.1,h:5.3}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("rating results diagram screenshot failed");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)},V=function(){return J.apply(this,arguments)},G=function(e,t,n){var a=P();M(d,a),I(Object(E.requestTranslation)("pptxTopVotedContent"),a);var r=e.map((function(e){var t=e.content,n=t.short_title,a=t.type,r=e.vote_sum;return[{text:n,options:{bold:!0}},{text:"".concat(s[a])},{text:"number"===typeof r?r:"-"}]}));a.addTable(r,{x:.5,y:1.3,w:12,h:5,colW:[8,1.5,1.5],valign:"top"})},U=function(e,t,n){var a=P();M(Object(E.requestTranslation)("pptxSectorContent").toUpperCase(),a),I(t,a);var r=0;n.forEach((function(e){var t=e.content,n=t.short_title,A=t.type,i=t.summary,o=t.time_range,c=e.time,l=null===o||void 0===o?void 0:o.min,u=null===o||void 0===o?void 0:o.max,d="";(l||u)&&(d="".concat(l,"-").concat(u)),a.addText(n,{x:.4+r,y:1.2,w:3.9,h:.3,isTextBox:!0,shrinkText:!0,bold:!0,fontSize:15}),a.addText("".concat(s[A]," ").concat(d),{x:.4+r,y:1.4,w:3.9,h:.3,shrinkText:!0,fontSize:10}),a.addText("".concat(Object(E.requestTranslation)("pptxTimestamp"),": ").concat(c||"-"),{x:.4+r,y:1.6,w:3.9,h:.3,shrinkText:!0,fontSize:10}),a.addText(Sn(i),{x:.4+r,y:1.9,w:3.9,h:5,isTextBox:!0,shrinkText:!0,valign:"top",fontSize:12}),r+=4}))},Y=function(e){var t=e.title,n=e.notes,a=P();M(Object(E.requestTranslation)("pptxSector").toUpperCase(),a),I(t,a),a.addText(Sn(n),{x:.4,y:1.2,w:11.5,h:6,fontSize:12,isTextBox:!0,shrinkText:!0,valign:"top"})},q=function(){var e=P();M(d,e),I(Object(E.requestTranslation)("pptxSectorListTitle"),e),e.addText(C.map((function(e){return{text:e.title,options:{bullet:!0}}})),{x:.4,y:1.2,fontSize:15,lineSpacing:25,valign:"top",w:12,h:5})},F=function(){return(F=Object(B.a)(R.a.mark((function e(){var t,n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P({masterName:void 0}),e.prev=1,e.next=4,Cn({url:g,waitFor:5e3});case 4:n=e.sent,a=n.data,t.addImage({data:"image/png;base64,".concat(a),x:0,y:0,w:13.33,h:7.5}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("radar preview screenshot failed");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)},L=function(){return F.apply(this,arguments)},N=function(){var e=P({masterName:void 0});e.addText(d,{x:.16,y:2.57,w:13,h:1.63,autoShrink:!0,align:"center",bold:!0,fontSize:50}),e.addText([{text:"".concat(Object(E.requestTranslation)("pptxReportTitle")," "),options:{bold:!0,breakLine:!1}},{text:i,options:{breakLine:!1}},{text:" ".concat(Object(E.requestTranslation)("pptxReportBy")," "),options:{bold:!0,breakLine:!1}},{text:r,options:{breakLine:!1}}],{x:.16,y:4.24,w:13,h:2,fontSize:20,align:"center",color:"44546a"}),e.addImage({x:4.7,y:6.5,w:3.92,h:.59,data:"image/wmf;base64,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DAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAogwAALEDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAogyxA1gAAAA0AAAAAAAAAAAAAAD//////////wYAAACiDHIEIwy2BJULtgQIC7YEiQpyBIkKsQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAiQogAhYLIAIWC6YDWAAAADQAAAAAAAAAAAAAAP//////////BgAAABYLEwROCzkElQs5BN0LOQQVDBMEFQymA1kAAAAoAAAAAAAAAAAAAAD//////////wMAAAAVDCACogwgAqIMsQM9AAAACAAAADwAAAAIAAAAPgAAABgAAAAZAQAAOQAAAFEBAAB+AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAEMOAACcAgAAWQAAAEAAAAAAAAAAAAAAAP//////////CQAAAEMOnAJDDqkEtg2pBLYNnAI3DZwCNw0gAsMOIALDDpwCQw6cAj0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAGABAAA5AAAAigEAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAcREAALEDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAcRGxA1gAAAA0AAAAAAAAAAAAAAD//////////wYAAABxEXIE8hC2BGQQtgTXD7YEWA9yBFgPsQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAWA8gAuUPIALlD6YDWAAAADQAAAAAAAAAAAAAAP//////////BgAAAOUPEwQdEDkEZBA5BKwQOQTkEBME5BCmA1kAAAAoAAAAAAAAAAAAAAD//////////wMAAADkECACcREgAnERsQM9AAAACAAAADwAAAAIAAAAPgAAABgAAACZAQAAOQAAANEBAAB+AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAAETAAA8AwAAWQAAACAAAAAAAAAAAAAAAP//////////AQAAAAETPANYAAAANAAAAAAAAAAAAAAA//////////8GAAAATRM8A2gTFQNoE+wCaBPCAk0TmwIBE5sCWQAAACgAAAAAAAAAAAAAAP//////////AwAAAMYSmwLGEjwDARM8Az0AAAAIAAAAGwAAABAAAADJEgAAuAMAAFkAAAA0AAAAAAAAAAAAAAD//////////wYAAADJErgDxhK4A8YSqQQ5EqkEORIgAg0TIAJYAAAANAAAAAAAAAAAAAAA//////////8GAAAAthMgAvcTiQL3E+wC9xM4A9ATiANxE6kDWQAAACgAAAAAAAAAAAAAAP//////////AwAAAE4UqQSTE6kEyRK4Az0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAOYBAAA5AAAAHgIAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAZxUAAJwCAABZAAAAUAAAAAAAAAAAAAAA//////////8NAAAAZxWcAmcVGQMoFhkDKBaTA2cVkwNnFSwEOBYsBDgWqQTZFKkE2RQgAjgWIAI4FpwCZxWcAj0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAACwCAAA5AAAAUQIAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAkhgAAIQCAABZAAAAJAAAAAAAAAAAAAAA//////////8CAAAAkhiEAjkY2QJYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAIBi+AvoXkAK1F5AChheQAm4XpgJuF8QCbhfjAokX8wKsFwYDWQAAACAAAAAAAAAAAAAAAP//////////AQAAABcYPQNYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAYhhkA5QYpwOUGPcDlBheBEIYtgS5F7YEIRe2BM4WSAS+FicEWQAAACAAAAAAAAAAAAAAAP//////////AQAAABgX0ANYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAKhfxA2kXOQS4FzkE7Bc5BAkYGwQJGPcDCRjRA+gXuAOrF5gDWQAAACAAAAAAAAAAAAAAAP//////////AQAAAGAXcQNYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAERdHA+EWEwPhFscC4RZdAj8XEwK1FxMCIxgTAmQYUgKSGIQCPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAXwIAADcAAACQAgAAfgAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAADcGgAAPAMAAFkAAAAkAAAAAAAAAAAAAAD//////////wIAAADcGjwDFxs8A1gAAAA0AAAAAAAAAAAAAAD//////////wYAAABjGzwDfhsVA34b7AJ+G8ICYxubAhcbmwJZAAAAJAAAAAAAAAAAAAAA//////////8CAAAA3BqbAtwaPAM9AAAACAAAABsAAAAQAAAAIxsAACACAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAIxsgAlgAAAA0AAAAAAAAAAAAAAD//////////wYAAADMGyACDRyJAg0c7AINHE4DzBu4AyMbuANZAAAAMAAAAAAAAAAAAAAA//////////8FAAAA3Bq4A9waqQRPGqkETxogAiMbIAI9AAAACAAAADwAAAAIAAAAPgAAABgAAAC+AgAAOQAAAOwCAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAALgdAAAsBAAAWQAAADgAAAAAAAAAAAAAAP//////////BwAAALgdLAS4HakEhRypBIUcIAITHSACEx0sBLgdLAQ9AAAACAAAADwAAAAIAAAAPgAAABgAAAD5AgAAOQAAABkDAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAFsfAAAUAwAAWQAAACwAAAAAAAAAAAAAAP//////////BAAAAFsfFAMcH9sDmB/bA1sfFAM9AAAACAAAABsAAAAQAAAA+B4AAFAEAABZAAAAQAAAAAAAAAAAAAAA//////////8JAAAA+B5QBNweqQRSHqkEHh8gApYfIAJjIKkE2B+pBLwfUAT4HlAEPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAKQMAADkAAABgAwAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAACsIQAAnAIAAFkAAABAAAAAAAAAAAAAAAD//////////wkAAACsIZwCrCGpBB8hqQQfIZwCnyCcAp8gIAIrIiACKyKcAqwhnAI9AAAACAAAADwAAAAIAAAAPgAAABgAAABmAwAAOQAAAI8DAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAFIjAACcAgAAWQAAAEgAAAAAAAAAAAAAAP//////////CwAAAFIjnAJSIxgDEyQYAxMkkgNSI5IDUiOpBMUiqQTFIiACIyQgAiMknAJSI5wCPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAnwMAADkAAADEAwAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAAAsJQAAZAMAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAAAsJWQDWAAAAEwAAAAAAAAAAAAAAP//////////DAAAACwl5ANqJTgE2CU4BEYmOASEJuQDhCZkA4Qm5AJGJpAC2CWQAmolkAIsJeQCLCVkAz0AAAAIAAAAGwAAABAAAAASJwAAZAMAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAAASJ2QDWAAAAEwAAAAAAAAAAAAAAP//////////DAAAABInKASLJrYE2CW2BCYltgSfJCgEnyRkA58koQImJRMC2CUTAosmEwISJ6ECEidkAz0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAANEDAAA3AAAAEgQAAH4AAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAVygAADwDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAVyg8A1gAAAA0AAAAAAAAAAAAAAD//////////wYAAACjKDwDvigVA74o7AK+KMICoyibAlcomwJZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAHCibAhwoPANXKDwDPQAAAAgAAAAbAAAAEAAAAB8oAAC4AwAAWQAAADQAAAAAAAAAAAAAAP//////////BgAAAB8ouAMcKLgDHCipBI8nqQSPJyACYyggAlgAAAA0AAAAAAAAAAAAAAD//////////wYAAAAMKSACTSmJAk0p7AJNKTgDJimIA8coqQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAApCmpBOkoqQQfKLgDPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAHwQAADkAAABXBAAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAAACLAAAqQQAAFkAAABUAAAAAAAAAAAAAAD//////////w4AAAACLKkEAizfAoUr9wMUK/cDmCrfApgqqQQKKqkECiogAs4qIAJMK0ED1SsgAo8sIAKPLKkEAiypBD0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAGEEAAA5AAAAowQAAHwAAAAlAAAADAAAAAAAAIAoAAAADAAAAAEAAAAnAAAAGAAAAAEAAAAAAAAAAGmYAAAAAAAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAqgYAAFQDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAqgZUA1gAAABMAAAAAAAAAAAAAAD//////////wwAAACqBiwFKwWqBlIDqgZ5AaoG+/8sBfv/VAP7/30BeQEAAFIDAAArBQAAqgZ9AaoGVAM9AAAACAAAADwAAAAIAAAAPgAAABgAAAAAAAAAAAAAALIAAACyAAAAJQAAAAwAAAAAAACAKAAAAAwAAAABAAAAJwAAABgAAAABAAAAAAAAAP///wAAAAAAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAKsEAAAkBAAAWQAAACAAAAAAAAAAAAAAAP//////////AQAAAKsEJARYAAAATAAAAAAAAAAAAAAA//////////8MAAAAuwQYBNQEJgTfBDcE6QRFBO4EYATWBHAExwR5BLMEeQSmBG4EjwRaBJgEMgSrBCQEPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAegAAAG0AAACEAAAAdwAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAADCAwAAgAQAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAADCA4AEWAAAAGQAAAAAAAAAAAAAAP//////////EgAAAHoDfgRtA8wDbgMmA28DdQKHAysCtgMRAtgD/gFLBAUCUQQGAu4EEAIrBXkCKwXbAisFnQO7BK0DWwTpAw4EGgQKBIAEwgOABD0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAFsAAAA1AAAAigAAAHgAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAALQMAAEsCAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAALQNLAlgAAACgAAAAAAAAAAAAAAD//////////yEAAAAsAxUCBgMMAtoCCAKyAgQCOQICAgACCgKyARcCpwGbAqUBLAOiAc4DrwF8BPYBgAT2AYAE9wGABPcBgAQPAoEEIAJ2BC4CZgRDAk4EUQIrBGgCDgSSAtoDrwLNA9sCpwMfA20D/QImA/4C8AL/AsgCDAOuAhIDogIlA3sCLQNiAi0DSwI9AAAACAAAADwAAAAIAAAAPgAAABgAAAAsAAAANgAAAFUAAAB4AAAAJQAAAAwAAAAAAACAOwAAAAgAAAAbAAAAEAAAAAAAAAAAAAAAWQAAACwAAAAAAAAAAAAAAP//////////BAAAAAAAAAAAALQGiSy0BoksAAA8AAAACAAAAEMAAAAMAAAABQAAACgAAAAMAAAAAQAAAA4AAAAUAAAAAAAAABAAAAAUAAAA"})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.addSlide(Object.assign({masterName:"FP_SLIDE",fontFace:"Arial",fontSize:12},e))},I=function(e,t){t.addText(e,{x:.4,y:.68,fontSize:25,color:"44546a",bold:!0,valign:"top",w:12,h:.5})},M=function(e,t){t.addText(e,{x:.4,y:.4,fontSize:18,valign:"top",w:12,h:.4})},a=new On.a,r=Object(m.d)(),A=new Date,i=A.toLocaleDateString(),e.next=20,Object(Q.getPhenomenaTypes)(n);case 20:return o=e.sent,s=o.reduce((function(e,t){var n=t.id,a=t.title;return Object(c.a)(Object(c.a)({},e),{},Object(ft.a)({},n,a))}),{}),e.next=24,Object(Q.getRadar)(t);case 24:return l=e.sent,d=l.radarName,p=l.results_url,g=l.url,h=l.phenomena,f=l.axisXTitle,b=l.axisYTitle,v=l.comment_count,w=l.ratingsOn,y=l.votingOn,O=l.discussionOn,j=l.commentsOn,e.next=38,bn.a.getRadar(t);case 38:return x=e.sent,C=x.data.sectors,e.next=42,Object(wn.getRadarPhenomena)(t,n);case 42:return k=e.sent,S=k.phenomena,D=S.map((function(e){return Object(c.a)(Object(c.a)({},h[e.id]),e)})).sort((function(e,t){return e.time-t.time})),a.defineLayout({name:"FP",width:13.33,height:7.5}),a.layout="FP",a.defineSlideMaster({title:"FP_SLIDE",objects:[{image:{x:.37,y:7.02,w:2.17,h:.32,data:"image/wmf;base64,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DAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAogwAALEDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAogyxA1gAAAA0AAAAAAAAAAAAAAD//////////wYAAACiDHIEIwy2BJULtgQIC7YEiQpyBIkKsQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAiQogAhYLIAIWC6YDWAAAADQAAAAAAAAAAAAAAP//////////BgAAABYLEwROCzkElQs5BN0LOQQVDBMEFQymA1kAAAAoAAAAAAAAAAAAAAD//////////wMAAAAVDCACogwgAqIMsQM9AAAACAAAADwAAAAIAAAAPgAAABgAAAAZAQAAOQAAAFEBAAB+AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAEMOAACcAgAAWQAAAEAAAAAAAAAAAAAAAP//////////CQAAAEMOnAJDDqkEtg2pBLYNnAI3DZwCNw0gAsMOIALDDpwCQw6cAj0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAGABAAA5AAAAigEAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAcREAALEDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAcRGxA1gAAAA0AAAAAAAAAAAAAAD//////////wYAAABxEXIE8hC2BGQQtgTXD7YEWA9yBFgPsQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAWA8gAuUPIALlD6YDWAAAADQAAAAAAAAAAAAAAP//////////BgAAAOUPEwQdEDkEZBA5BKwQOQTkEBME5BCmA1kAAAAoAAAAAAAAAAAAAAD//////////wMAAADkECACcREgAnERsQM9AAAACAAAADwAAAAIAAAAPgAAABgAAACZAQAAOQAAANEBAAB+AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAAETAAA8AwAAWQAAACAAAAAAAAAAAAAAAP//////////AQAAAAETPANYAAAANAAAAAAAAAAAAAAA//////////8GAAAATRM8A2gTFQNoE+wCaBPCAk0TmwIBE5sCWQAAACgAAAAAAAAAAAAAAP//////////AwAAAMYSmwLGEjwDARM8Az0AAAAIAAAAGwAAABAAAADJEgAAuAMAAFkAAAA0AAAAAAAAAAAAAAD//////////wYAAADJErgDxhK4A8YSqQQ5EqkEORIgAg0TIAJYAAAANAAAAAAAAAAAAAAA//////////8GAAAAthMgAvcTiQL3E+wC9xM4A9ATiANxE6kDWQAAACgAAAAAAAAAAAAAAP//////////AwAAAE4UqQSTE6kEyRK4Az0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAOYBAAA5AAAAHgIAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAZxUAAJwCAABZAAAAUAAAAAAAAAAAAAAA//////////8NAAAAZxWcAmcVGQMoFhkDKBaTA2cVkwNnFSwEOBYsBDgWqQTZFKkE2RQgAjgWIAI4FpwCZxWcAj0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAACwCAAA5AAAAUQIAAHwAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAkhgAAIQCAABZAAAAJAAAAAAAAAAAAAAA//////////8CAAAAkhiEAjkY2QJYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAIBi+AvoXkAK1F5AChheQAm4XpgJuF8QCbhfjAokX8wKsFwYDWQAAACAAAAAAAAAAAAAAAP//////////AQAAABcYPQNYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAYhhkA5QYpwOUGPcDlBheBEIYtgS5F7YEIRe2BM4WSAS+FicEWQAAACAAAAAAAAAAAAAAAP//////////AQAAABgX0ANYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAKhfxA2kXOQS4FzkE7Bc5BAkYGwQJGPcDCRjRA+gXuAOrF5gDWQAAACAAAAAAAAAAAAAAAP//////////AQAAAGAXcQNYAAAAQAAAAAAAAAAAAAAA//////////8JAAAAERdHA+EWEwPhFscC4RZdAj8XEwK1FxMCIxgTAmQYUgKSGIQCPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAXwIAADcAAACQAgAAfgAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAADcGgAAPAMAAFkAAAAkAAAAAAAAAAAAAAD//////////wIAAADcGjwDFxs8A1gAAAA0AAAAAAAAAAAAAAD//////////wYAAABjGzwDfhsVA34b7AJ+G8ICYxubAhcbmwJZAAAAJAAAAAAAAAAAAAAA//////////8CAAAA3BqbAtwaPAM9AAAACAAAABsAAAAQAAAAIxsAACACAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAIxsgAlgAAAA0AAAAAAAAAAAAAAD//////////wYAAADMGyACDRyJAg0c7AINHE4DzBu4AyMbuANZAAAAMAAAAAAAAAAAAAAA//////////8FAAAA3Bq4A9waqQRPGqkETxogAiMbIAI9AAAACAAAADwAAAAIAAAAPgAAABgAAAC+AgAAOQAAAOwCAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAALgdAAAsBAAAWQAAADgAAAAAAAAAAAAAAP//////////BwAAALgdLAS4HakEhRypBIUcIAITHSACEx0sBLgdLAQ9AAAACAAAADwAAAAIAAAAPgAAABgAAAD5AgAAOQAAABkDAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAFsfAAAUAwAAWQAAACwAAAAAAAAAAAAAAP//////////BAAAAFsfFAMcH9sDmB/bA1sfFAM9AAAACAAAABsAAAAQAAAA+B4AAFAEAABZAAAAQAAAAAAAAAAAAAAA//////////8JAAAA+B5QBNweqQRSHqkEHh8gApYfIAJjIKkE2B+pBLwfUAT4HlAEPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAKQMAADkAAABgAwAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAACsIQAAnAIAAFkAAABAAAAAAAAAAAAAAAD//////////wkAAACsIZwCrCGpBB8hqQQfIZwCnyCcAp8gIAIrIiACKyKcAqwhnAI9AAAACAAAADwAAAAIAAAAPgAAABgAAABmAwAAOQAAAI8DAAB8AAAAJQAAAAwAAAAAAACAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAFIjAACcAgAAWQAAAEgAAAAAAAAAAAAAAP//////////CwAAAFIjnAJSIxgDEyQYAxMkkgNSI5IDUiOpBMUiqQTFIiACIyQgAiMknAJSI5wCPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAnwMAADkAAADEAwAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAAAsJQAAZAMAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAAAsJWQDWAAAAEwAAAAAAAAAAAAAAP//////////DAAAACwl5ANqJTgE2CU4BEYmOASEJuQDhCZkA4Qm5AJGJpAC2CWQAmolkAIsJeQCLCVkAz0AAAAIAAAAGwAAABAAAAASJwAAZAMAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAAASJ2QDWAAAAEwAAAAAAAAAAAAAAP//////////DAAAABInKASLJrYE2CW2BCYltgSfJCgEnyRkA58koQImJRMC2CUTAosmEwISJ6ECEidkAz0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAANEDAAA3AAAAEgQAAH4AAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAVygAADwDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAVyg8A1gAAAA0AAAAAAAAAAAAAAD//////////wYAAACjKDwDvigVA74o7AK+KMICoyibAlcomwJZAAAAKAAAAAAAAAAAAAAA//////////8DAAAAHCibAhwoPANXKDwDPQAAAAgAAAAbAAAAEAAAAB8oAAC4AwAAWQAAADQAAAAAAAAAAAAAAP//////////BgAAAB8ouAMcKLgDHCipBI8nqQSPJyACYyggAlgAAAA0AAAAAAAAAAAAAAD//////////wYAAAAMKSACTSmJAk0p7AJNKTgDJimIA8coqQNZAAAAKAAAAAAAAAAAAAAA//////////8DAAAApCmpBOkoqQQfKLgDPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAHwQAADkAAABXBAAAfAAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAAACLAAAqQQAAFkAAABUAAAAAAAAAAAAAAD//////////w4AAAACLKkEAizfAoUr9wMUK/cDmCrfApgqqQQKKqkECiogAs4qIAJMK0ED1SsgAo8sIAKPLKkEAiypBD0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAGEEAAA5AAAAowQAAHwAAAAlAAAADAAAAAAAAIAoAAAADAAAAAEAAAAnAAAAGAAAAAEAAAAAAAAAAGmYAAAAAAAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAAqgYAAFQDAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAAqgZUA1gAAABMAAAAAAAAAAAAAAD//////////wwAAACqBiwFKwWqBlIDqgZ5AaoG+/8sBfv/VAP7/30BeQEAAFIDAAArBQAAqgZ9AaoGVAM9AAAACAAAADwAAAAIAAAAPgAAABgAAAAAAAAAAAAAALIAAACyAAAAJQAAAAwAAAAAAACAKAAAAAwAAAABAAAAJwAAABgAAAABAAAAAAAAAP///wAAAAAAJQAAAAwAAAABAAAAEwAAAAwAAAACAAAAOwAAAAgAAAAbAAAAEAAAAKsEAAAkBAAAWQAAACAAAAAAAAAAAAAAAP//////////AQAAAKsEJARYAAAATAAAAAAAAAAAAAAA//////////8MAAAAuwQYBNQEJgTfBDcE6QRFBO4EYATWBHAExwR5BLMEeQSmBG4EjwRaBJgEMgSrBCQEPQAAAAgAAAA8AAAACAAAAD4AAAAYAAAAegAAAG0AAACEAAAAdwAAACUAAAAMAAAAAAAAgCUAAAAMAAAAAQAAABMAAAAMAAAAAgAAADsAAAAIAAAAGwAAABAAAADCAwAAgAQAAFkAAAAgAAAAAAAAAAAAAAD//////////wEAAADCA4AEWAAAAGQAAAAAAAAAAAAAAP//////////EgAAAHoDfgRtA8wDbgMmA28DdQKHAysCtgMRAtgD/gFLBAUCUQQGAu4EEAIrBXkCKwXbAisFnQO7BK0DWwTpAw4EGgQKBIAEwgOABD0AAAAIAAAAPAAAAAgAAAA+AAAAGAAAAFsAAAA1AAAAigAAAHgAAAAlAAAADAAAAAAAAIAlAAAADAAAAAEAAAATAAAADAAAAAIAAAA7AAAACAAAABsAAAAQAAAALQMAAEsCAABZAAAAIAAAAAAAAAAAAAAA//////////8BAAAALQNLAlgAAACgAAAAAAAAAAAAAAD//////////yEAAAAsAxUCBgMMAtoCCAKyAgQCOQICAgACCgKyARcCpwGbAqUBLAOiAc4DrwF8BPYBgAT2AYAE9wGABPcBgAQPAoEEIAJ2BC4CZgRDAk4EUQIrBGgCDgSSAtoDrwLNA9sCpwMfA20D/QImA/4C8AL/AsgCDAOuAhIDogIlA3sCLQNiAi0DSwI9AAAACAAAADwAAAAIAAAAPgAAABgAAAAsAAAANgAAAFUAAAB4AAAAJQAAAAwAAAAAAACAOwAAAAgAAAAbAAAAEAAAAAAAAAAAAAAAWQAAACwAAAAAAAAAAAAAAP//////////BAAAAAAAAAAAALQGiSy0BoksAAA8AAAACAAAAEMAAAAMAAAABQAAACgAAAAMAAAAAQAAAA4AAAAUAAAAAAAAABAAAAAUAAAA"}},{text:{text:"".concat(i,"  ").concat(Object(E.requestTranslation)("pptxReportBy")," ").concat(r),options:{x:4,y:7.04,w:9,h:.3,fontSize:12,align:"right"}}}]}),N(),e.next=51,L();case 51:if(q(),C.forEach((function(e){Y(e);var t=D.filter((function(t){return t.sectorId===e.id}));do{U(e.id,e.title,t.splice(0,3))}while(t.length>0)})),y){W=Object(T.a)(D).sort((function(e,t){var n=e.vote_sum,a=void 0===n?-1e6:n,r=e.time,A=t.vote_sum,i=void 0===A?-1e6:A,o=t.time;return a===i?r-o:i-a})),H=Math.ceil(W.length%15),z=1;do{G(W.splice(0,15),H,z++,H)}while(W.length>0)}if(!w){e.next=61;break}return e.next=57,V();case 57:_=["x","y"].map((function(e){return Object(T.a)(D).sort((function(t,n){var a=t.rating_avg,r=n.rating_avg,A=Object(u.get)(a,e,-1e7);return Object(u.get)(r,e,-1e7)-A}))})),X=_[0]||[],$=_[1]||[];do{K({title:f,axis:"x",phenomena:X.length>0?X.splice(0,14):[]},{title:b,axis:"y",phenomena:$.length>0?$.splice(0,14):[]})}while(X.length>0||$.length>0);case 61:return(O||j)&&Z(),e.abrupt("return",a.writeFile(d.replace(/(\W+)/gi,"-")));case 63:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e){return xn.a.fromString(e,{wordwrap:!1,ignoreImage:!0,singleNewLineParagraphs:!1}).replace("\r","").replace(/\n\n+/g,"\n\n")}var Dn=function(e){return{type:w.Mb,payload:e}};var Mn,In,Pn,Rn,Bn,Nn,Ln,Fn,Qn,qn,Yn,Un,Gn,Vn,Jn,Kn,Zn,Wn,Hn,zn,_n=function(){return function(){var e=Object(B.a)(R.a.mark((function e(t,n){var a,r,A,i,o,s,l,u,p;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().radarSettings.id,r=F(w.U,w.V,Object(E.requestTranslation)("fetchingRadarError")),A=r.loading,i=r.success,o=r.error,t(A()),e.prev=3,e.next=6,Q.default.getRadar(a);case 6:return s=e.sent,(l=new Image).onload=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),["".concat("").concat(null===s||void 0===s?void 0:s.radarImage)].forEach((function(e){var t=document.createElement("link");t.setAttribute("rel","preload"),t.setAttribute("href",e),t.setAttribute("as","image"),document.head.appendChild(t)})),l.src=null===s||void 0===s?void 0:s.radarImage,e.next=13,Object(wn.getRadarPhenomena)(a,s.group.id);case 13:u=e.sent,Object.values(u.phenomena).forEach((function(e){e.halo=d.a.get(s.phenomena[e.id],"halo",!1),e.speech_bubble=d.a.get(s.phenomena[e.id],"speech_bubble",!1)})),p=Object(c.a)(Object(c.a)({},s),u),t(yn(s.group.id)).then((function(){return t(i(p))})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),t(o(e.t0));case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t,n){return e.apply(this,arguments)}}()},Xn=function(){return function(){var e=Object(B.a)(R.a.mark((function e(t,n){var a,r,A,i,o,c,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().radarSettings.id,r=n().radarSettings.group.id,A=F(w.sb,w.tb,Object(E.requestTranslation)("refetchingPhenomenaError")),i=A.loading,o=A.success,c=A.error,t(i()),e.prev=4,e.next=7,Object(wn.getRadarPhenomena)(a,r);case 7:s=e.sent,t(o(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t(c(e.t0));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}()},$n=function(e,t){return function(n,a){var r=e.time,A=e.version,i=e.id,o=a().radarSettings.id;if(!r)return t&&t(),n({type:w.M,payload:e});var c=F(w.L,w.M,Object(E.requestTranslation)("deletingPhenomenaError")),s=c.loading,l=c.success,u=c.error;n(s());var d={version:A,phenomenon_uuid:i};return En.deletePhenomenon(o,d).then((function(){n(l(e)),t&&t()})).catch((function(e){return n(u(e))}))}},ea=function(e){return{type:w.Eb,payload:e}},ta=function(e,t,n){switch(e.response.data.error_code){case"outdated-version":n(t(new Error("Outdated version"),Object(E.requestTranslation)("outDatedVersionError")));break;case"resource-not-found":n(t(new Error("Not found"),Object(E.requestTranslation)("phenomenaNotFound")));break;case"already-exists":n(t(new Error("Already exists"),Object(E.requestTranslation)("phenomenaExists")));break;case"invalid-input":n(t(new Error("Invalid input"),Object(E.requestTranslation)("phenomenaInvalid")));break;default:n(t(e))}},na=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var r=Object(B.a)(R.a.mark((function r(A){var i,o,s,l,u,d,p,m,g,h,f,b,v,y;return R.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.group,o=e._upload,s=(o=void 0===o?{}:o).imageFile,l=o.imageUrl,u=Object(fn.a)(e,["group","_upload"]),d=e.id?F(w.Hb,w.Ib,Object(E.requestTranslation)("updatingPhenomenaError")):F(w.D,w.G,Object(E.requestTranslation)("creatingPhenomenaError")),p=d.loading,m=d.success,g=d.error,A(p()),h=Object(c.a)(Object(c.a)({},u),{},{archived:a,group:i}),r.next=8,Z(s||l,i);case 8:if(r.t0=r.sent,r.t0){r.next=11;break}r.t0="";case 11:return h.content.media.image=r.t0,r.prev=12,r.next=15,Object(wn.storePhenomenonWithNewsFeeds)(h,t);case 15:f=r.sent,b=f.storedPhenomenon,v=f.status,y=f.failedNewsFeedTitles,v===wn.NEWSFEED_ERROR_PARTIAL?A(g(new Error("News feed error"),Object(E.requestTranslation)("someNewsFeedCreationError",y))):v===wn.NEWSFEED_ERROR?A(g(new Error("News feed error"),Object(E.requestTranslation)(e.id?"newsFeedUpdateError":"newsFeedCreationError"))):(A(m(b)),n(b)),r.next=25;break;case 22:r.prev=22,r.t1=r.catch(12),A(g(r.t1));case 25:case"end":return r.stop()}}),r,null,[[12,22]])})));return function(e){return r.apply(this,arguments)}}()},aa=function(e,t){return function(n,a){n(ea(Object(c.a)(Object(c.a)({},e),t)));var r=a().radarSettings.id,A=e.id,i=d.a.find(a().phenomena,{id:A}),o=F(w.Fb,w.Gb,Object(E.requestTranslation)("updatingPhenomenaError")),s=o.loading,l=o.success,u=o.error,p={sectorId:i.sectorId,time:i.time,xOffset:i.xOffset,id:A,version:i.version};return n(s()),En.updatePhenomenon(r,p).then((function(e){n(function(e){return{type:w.Jb,payload:e}}(e.phenomenon)),n(l())})).catch((function(e){return ta(e,u,n),n(Xn())}))}},ra=function(e){return function(t,n){var a=F(w.B,w.C,Object(E.requestTranslation)("cloningRadarError")),r=a.loading,A=a.success,i=a.error,o=n().radarSettings.id;t(r()),Q.default.cloneRadar(o).then((function(n){t(A(n)),e("".concat("","/radar?node=").concat(n.id))})).catch((function(e){e&&e.response&&400===e.response.status?t(L(w.B,e,"",Object(E.requestTranslation)("licenseError"))):t(i(e))}))}},Aa=function(){return function(e,t){var n=F(w.P,w.Q,Object(E.requestTranslation)("deletingRadarError")),a=n.loading,r=n.success,A=n.error;return e(a()),Q.default.deleteRadar(t().radarSettings.id).then((function(){e(r()),document.location.href="/"})).catch((function(t){return e(A(t))}))}},ia=function(e,t){return function(n,a){var r=e.id;n({type:w.G,payload:e}),t(d.a.find(a().phenomena,{id:r}))}},oa=function(e,t){return function(n,a){var r=F(w.Z,w.ab,Object(E.requestTranslation)("generatingPPTXError")),A=r.loading,i=r.success,o=r.error;return n(A()),function(e,t){return Tn.apply(this,arguments)}(e,t).then((function(){return n(i())})).catch((function(e){return n(o(e))}))}},ca=Object(o.b)((function(e){var t=e.radarSettings,n=t.id,a=t.group,r=t.radarLanguage;return{radarId:n,radarLanguage:r,addPhenomenaVisible:t.addPhenomenaVisible,radar:{id:n,groupId:a.id,language:r}}}),(function(e){return Object(s.b)({changeAddPhenomenaVisibility:Ce,storePhenomenon:na,addPublicPhenomenaToRadar:ia},e)}))(hn),sa=function(e){return function(t){return t({type:w.Ab,payload:e})}},la=Object(o.b)((function(e){return e.confirmDialog}),(function(e){return Object(c.a)({},Object(s.b)({toggleConfirmationDialog:sa},e))}))(it.ConfirmDialog),ua=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){var e;Object(Xe.a)(this,n);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(e=t.call.apply(t,[this].concat(r))).state={title:"",body:"",image:!1,imageFile:!1,imageUrl:!1,errorsShown:!1},e.handleTitleChange=function(t){var n=t.target;return e.setState({title:n.value})},e.handleBodyChange=function(t){return e.setState({body:t})},e.handleImageSelect=function(t,n){var a=n||t.target.files[0],r=new FileReader;r.onload=function(){var t=new Image;t.src=URL.createObjectURL(a),t.onload=function(){e.setState({image:r.result,imageFile:a})}},r.readAsDataURL(a)},e.handleCreate=function(){var t=e.props,n=t.createSignal,a=t.changeSignalCreateVisibility;e.setState({errorsShown:!1}),n(e.state,a)},e}return Object($e.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.errors[0]&&this.setState({errorsShown:!0})}},{key:"render",value:function(){var e=this.props.changeSignalCreateVisibility,t=this.state,n=t.title,a=t.body,A=t.image,i=t.imageUrl,o=t.errorsShown;return r.a.createElement(it.ModalContainer,{className:"d-flex flex-column"},r.a.createElement("h2",{className:"m-0"},Object(E.requestTranslation)("addNewSignal")),r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",null,Object(E.requestTranslation)("title")),r.a.createElement(it.Input,{type:"text",value:n,onChange:this.handleTitleChange}),o&&!n.length&&r.a.createElement("div",{className:"description text-danger mt-2"},Object(E.requestTranslation)("fieldMissing"))),r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",null,Object(E.requestTranslation)("mainContent")),r.a.createElement(Tt.a,{className:"fp-wysiwyg",style:{height:"250px",paddingBottom:"42px"},modules:yt,formats:Lt,value:a,onChange:this.handleBodyChange}),o&&!a.length&&r.a.createElement("div",{className:"description text-danger mt-2"},Object(E.requestTranslation)("fieldMissing"))),r.a.createElement("div",{className:"mt-3 mb-5"},r.a.createElement("h3",null,Object(E.requestTranslation)("image")),!A&&Object(E.requestTranslation)("noImageSelected"),(A||i)&&r.a.createElement(da,{src:A||i}),r.a.createElement(it.SelectImageInputContainer,null,r.a.createElement(it.SelectImageInput,{type:"file",accept:"image/*",onChange:this.handleImageSelect,placeholder:Object(E.requestTranslation)("select")}),r.a.createElement(it.SelectImageButton,{className:"btn btn-sm btn-outline-secondary"},Object(E.requestTranslation)("select")))),r.a.createElement(it.ButtonsContainer,{className:"mt-5"},r.a.createElement("button",{className:"btn btn-plain",onClick:e},Object(E.requestTranslation)("cancel")),r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleCreate},Object(E.requestTranslation)("save"))))}}]),n}(a.PureComponent),da=bt.default.img(Mn||(Mn=Object(ht.a)(["\n    max-width: 400px;\n    height: auto;\n    object-fit: cover;\n"]))),pa=n(185),ma=n(142),ga=function(){return function(e){return e({type:w.ob})}},ha=function(){return function(e){return e({type:w.nb})}},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return function(){var a=Object(B.a)(R.a.mark((function a(r,A){var i,o,c,s,l,u;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=A().radarSettings,o=i.uuid,c=i.group,s=F(w.X,0===t?w.Y:w.T,Object(E.requestTranslation)("fetchingSignalsError")),l=s.loading,u=s.success,r(l()),a.t0=r,a.t1=u,a.next=7,Object(pa.getSignals)(e,[c.id],t,n,o);case 7:a.t2=a.sent,a.t3=(0,a.t1)(a.t2),(0,a.t0)(a.t3);case 10:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},ba=function(e,t,n){return function(){var a=Object(B.a)(R.a.mark((function a(r,A){var i,o,c,s;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=F(w.e,w.f,Object(E.requestTranslation)("archiveSignalError")),o=i.loading,c=i.success,s=i.error,r(o()),a.prev=2,a.t0=r,a.t1=c,a.next=7,Object(ma.b)({group:e,type:ma.a,id:t});case 7:a.t2=a.sent,a.t3=(0,a.t1)(a.t2),(0,a.t0)(a.t3),n(),a.next=16;break;case 13:a.prev=13,a.t4=a.catch(2),r(s(a.t4));case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e,t){return a.apply(this,arguments)}}()},va=function(e,t){return function(){var n=Object(B.a)(R.a.mark((function n(a,r){var A,i,o,c,s,l,u,d,p,m,g,h,f,b;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(A=e.title,i=e.body,o=e.imageFile,c=F(w.J,w.K,Object(E.requestTranslation)("creatingSignalsError")),s=c.loading,l=c.success,u=c.error,d=r().radarSettings,p=d.uuid,m=d.radarLanguage,g=d.group.id,h=!A,f=!m,!(!i||f||h)){n.next=8;break}return n.abrupt("return",a(u(new Error("Invalid data"),Object(E.requestTranslation)("missingRequiredSignalData"))));case 8:if(a(s()),b={language:m,type:ma.a,group:Number(g),content:{title:A,body:i,radar:p,media:{image:""}}},n.prev=10,!o){n.next=17;break}return n.t0=K,n.next=15,V(o,g);case 15:n.t1=n.sent,b.content.media.image=(0,n.t0)(n.t1);case 17:return n.t2=a,n.t3=l,n.next=21,Object(ma.d)(b);case 21:n.t4=n.sent,n.t5=(0,n.t3)(n.t4),(0,n.t2)(n.t5),t(),n.next=30;break;case 27:n.prev=27,n.t6=n.catch(10),a(u(n.t6));case 30:case"end":return n.stop()}}),n,null,[[10,27]])})));return function(e,t){return n.apply(this,arguments)}}()},Ea=Object(s.d)(Object(o.b)((function(e){return{loading:e.loading,errors:e.errors}}),(function(e){return Object(c.a)({},Object(s.b)({createSignal:va,changeSignalCreateVisibility:ha},e))})))(ua),wa=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){var e;Object(Xe.a)(this,n);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(e=t.call.apply(t,[this].concat(r))).state={page:1,searchInput:""},e.debounceTimeout=!1,e.handleArchiveSignal=function(t){var n=e.props,a=n.groupId,r=n.archiveSignal,A=n.fetchRadarSignals;r(a,t,(function(){A()}))},e.handleScroll=function(t){var n=e.props,a=n.loading,r=n.signalData.totalRadarSignals,A=e.state.page,i=r/10;t.target.scrollHeight-t.target.scrollTop===t.target.clientHeight&&!a.length&&A<i+1&&e.setState({page:A+1})},e.handleSearchChange=function(t){var n=t.target,a=e.props.fetchRadarSignals;e.setState({searchInput:n.value,page:1}),clearTimeout(e.debounceTimeout),e.debounceTimeout=setTimeout((function(){return a(n.value,0,10)}),250)},e}return Object($e.a)(n,[{key:"componentWillUpdate",value:function(e,t){var n=this.props,a=n.fetchRadarSignals,r=n.signalData,A=r.totalRadarSignals,i=r.signalListVisible,o=n.loading,c=this.state,s=c.page,l=c.searchInput,u=t.page,d=A/10,p=e.signalData.signalListVisible;i!==p&&this.setState({page:1,searchInput:""},(function(){p&&a()})),!o.length&&u!==s&&u>s&&u<=d+1&&a(l,u-1,10)}},{key:"renderSignal",value:function(e,t){var n=this,a=this.props.canArchiveSignals,A=e.id,i=e.content,o=(i=void 0===i?{}:i).title,c=i.body,s=i.media,l=(s=void 0===s?{}:s).image,u=e.created_at,d=e.created_by_name,p=u?u.slice(0,10):(new Date).toJSON().slice(0,10);return r.a.createElement(Oa,{key:t,className:"d-flex flex-column pt-4 pb-4 justify-content-center",style:{backgroundColor:t%2===0?"white":"#E7E7E8"}},r.a.createElement("h3",null,o),r.a.createElement("div",{className:"d-flex mb-2"},l&&l.length?r.a.createElement("img",{alt:"",src:l,className:"mr-4 mt-2 mb-3",style:{objectFit:"contain",height:"105px"}}):null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:c}})),p.replace(/-/g,".").split(".").reverse().join("."),d?r.a.createElement("div",null,Object(E.requestTranslation)("createdBy"),": \xa0",d):"",a&&r.a.createElement(it.ButtonsContainer,{style:{justifyContent:"flex-start"}},r.a.createElement("button",{className:"btn btn-md btn-plain-gray pl-0",onClick:function(){return window.confirm(Object(E.requestTranslation)("deleteSignalConfirmation"))&&n.handleArchiveSignal(A)}},Object(E.requestTranslation)("delete"))))}},{key:"renderSignals",value:function(){var e=this.props.signalData.signals;return e.length?r.a.createElement(ya,{small:!0,className:"d-flex h-100 flex-column mt-5"},d.a.map(e,this.renderSignal.bind(this))):r.a.createElement(it.SidePadding,null,r.a.createElement("b",null,Object(E.requestTranslation)("noSignalsCreated")))}},{key:"renderCreateModal",value:function(){var e=this.props.signalData.signalCreateVisibility;return r.a.createElement(it.Modal,{isOpen:e,contentLabel:"Create Signal",style:it.modalStyles,ariaHideApp:!1},r.a.createElement(Ea,null))}},{key:"render",value:function(){var e=this.props,t=e.changeSignalListVisibility,n=e.changeSignalCreateVisibility,a=e.signalData.signalListVisible,A=this.state.searchInput;return a?r.a.createElement(it.ListBackground,{onScroll:this.handleScroll},r.a.createElement(it.ListContainer,{className:"justify-content-between",style:{padding:"30px 0",height:"auto"}},r.a.createElement(it.ListClose,{onClick:t},r.a.createElement(it.CloseIcon,{className:"material-icons"},"close")),r.a.createElement(it.SidePadding,{className:"d-flex justify-content-between algin-items-center"},r.a.createElement("h2",{className:"m-0"},Object(E.requestTranslation)("listOfSignals")),r.a.createElement("div",{className:"d-flex"},r.a.createElement(it.SearchInput,{type:"search",small:!0,className:"mr-4",placeholder:Object(E.requestTranslation)("searchByKeywords"),value:A,onChange:this.handleSearchChange}),r.a.createElement("button",{className:"btn btn-outline-secondary flex-shrink-0",onClick:n},Object(E.requestTranslation)("createNew")))),this.renderSignals(),r.a.createElement(it.SidePadding,null,r.a.createElement(it.ButtonsContainer,null,r.a.createElement("button",{className:"btn btn-primary",onClick:t},Object(E.requestTranslation)("close"))))),this.renderCreateModal()):null}}]),n}(a.PureComponent),ya=bt.default.div(In||(In=Object(ht.a)(["\n    flex: 1;\n    width: 91%;\n    min-height: 20px;\n    box-shadow: 0 1px 3px rgba(0,0,0,0.10), 0 1px 2px rgba(0,0,0,0.10);\n    margin: 0 auto;\n    flex-grow: 1;\n    flex-shrink: 1;\n    flex-basis: 0%;\n    overflow-y: auto;\n    overflow-x: hidden;\n"]))),Oa=bt.default.div(Pn||(Pn=Object(ht.a)(["\n    border-bottom: 1px solid #d5dbdf;\n    padding: 0 25px;\n"]))),ja=Object(o.b)((function(e){var t=e.loading,n=e.errors,a=e.signals,r=e.radarSettings,A=r.canEditRadar,i=r.group;return{loading:t,errors:n,signalData:a,groupId:null!==i&&"object"===typeof i?i.id:i,canArchiveSignals:A}}),(function(e){return Object(c.a)({},Object(s.b)({changeSignalListVisibility:ga,changeSignalCreateVisibility:ha,fetchRadarSignals:fa,archiveSignal:ba},e))}))(wa),xa=(n(1255),n(623)),Ca=n.n(xa),ka=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){return Object(Xe.a)(this,n),t.apply(this,arguments)}return Object($e.a)(n,[{key:"render",value:function(){var e=this.props,t=e.requestClose,n=e.requestOpenPublicLink,a=e.checkPublicLinkExsited,A=e.publicLink,i=(e.changeRadarSharing,e.changeRadarSharingExpiry,e.enableUrlLogin,e.urlLoginLink,e.urlLoginExpire,e.updateRadar,e.group),o=e.id,c=e.isPublicShareUrlEnabled;return r.a.createElement("div",null,r.a.createElement("button",{onClick:t,className:"btn-close-modal"},r.a.createElement("i",{className:"material-icons"},"close")),r.a.createElement("div",{className:"modal-form-sections"},r.a.createElement("div",{className:"modal-form-section modal-form-header"},r.a.createElement("h2",{className:"confirmation-modal-title"},Object(E.requestTranslation)("shareRadar")),r.a.createElement("p",{className:"mt-4"},c?Object(E.requestTranslation)("shareRadarFromUsrMngmt"):Object(E.requestTranslation)("shareRadarWithoutPublicLink")),a&&A&&c&&r.a.createElement("div",{className:"mt-4",style:{display:"flex"}},r.a.createElement(Ca.a,{style:{transform:"rotate(310deg)",borderRadius:"20px"}}),r.a.createElement("p",{style:{paddingLeft:"8px"}},Object(E.requestTranslation)("checkPublicLinkAlreadyExisted")))),r.a.createElement("div",{className:"modal-form-section justify-content-end d-flex"},r.a.createElement("button",{onClick:t,className:"btn btn-lg btn-plain-gray"},Object(E.requestTranslation)("cancel")),c&&r.a.createElement("div",{style:{marginRight:"20px"}},r.a.createElement("a",{onClick:function(){n()},className:"btn btn-lg btn-primary"},a&&A?Object(E.requestTranslation)("openPublicLink"):Object(E.requestTranslation)("createPublicLink"))),r.a.createElement("a",{href:"".concat("","/radarusers?gid=").concat(i.id,"&invite=").concat(o),className:"btn btn-lg btn-primary"},Object(E.requestTranslation)("goToManagement")))))}}]),n}(a.Component),Ta=Object(o.b)((function(e){var t=e.loading,n=e.errors,a=e.radarSettings;return{loading:t,errors:n,enableUrlLogin:a.enableUrlLogin,urlLoginExpire:a.urlLoginExpire,urlLoginLink:a.urlLoginLink,group:a.group,id:a.id}}),(function(e){return Object(s.b)({changeRadarSharing:se,changeRadarSharingExpiry:le,updateRadar:we},e)}))(ka),Sa=n(624),Da=n(273),Ma=n.n(Da),Ia=n(625),Pa=n.n(Ia),Ra=function(e){var t=e.isModalOpen,n=e.onRequestClose,A=e.publicURL,i=e.openConfirmationModal,o=e.openDeleteConfirmationModal,c=Object(a.useState)(""),s=Object(N.a)(c,2),l=s[0],u=s[1],d=Object(a.useState)(!1),p=Object(N.a)(d,2),m=p[0],g=p[1],h=function(){n(),g(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.Modal,{onRequestClose:h,isOpen:t,style:it.modalStyles,ariaHideApp:!1,className:Ma.a.ReactModal__Content},r.a.createElement("div",{className:"modal-form-sections"},r.a.createElement("div",{className:"modal-form-section modal-form-header"},r.a.createElement("h2",{className:Ma.a.Modal__Title},Object(E.requestTranslation)("publicLink")),r.a.createElement("p",{className:"mt-4"},Object(E.requestTranslation)("publicLinkNote"))),r.a.createElement("div",{className:"modal-form-section",style:{marginTop:"33px",paddingTop:0}},r.a.createElement("div",{className:"font-weight-bold"},Object(E.requestTranslation)("publicLinkURL")),r.a.createElement("div",{className:"d-flex mt-2 align-items-center"},r.a.createElement("input",{className:"form-control w-75",value:A,readOnly:!0,onFocus:function(e){return e.target.select()},type:"text",ref:function(e){u(e)}}),r.a.createElement(Sa.CopyToClipboard,{text:A,onCopy:function(){l.focus(),g(!0)}},r.a.createElement("button",{className:"btn btn-outline-secondary ml-3 mr-3",style:{height:"35px",flexShrink:0}},Object(E.requestTranslation)("copyToClipboard")))),m&&r.a.createElement("h5",{style:{display:"flex",justifyContent:"flex-end",marginRight:"64px",color:"#006998"}},Object(E.requestTranslation)("publicLinkCopied")),r.a.createElement("div",{className:"d-flex mt-3 align-items-center"},r.a.createElement("button",{className:Ma.a.RegenerateBtn,onClick:i,style:{color:"#006998"}},r.a.createElement(Pa.a,null),Object(E.requestTranslation)("regeneratePublicLink"))),r.a.createElement("div",{className:"d-flex mt-4 align-items-center"},Object(E.requestTranslation)("regeneratePublicLinkNote"))),r.a.createElement("div",{className:"modal-form-section modal-form-actions d-flex justify-content-between"},r.a.createElement("button",{className:"btn btn-lg btn-plain-gray pl-0",onClick:o},Object(E.requestTranslation)("deletePublicLinkBtn")),r.a.createElement("div",{className:Ma.a.SavePublicLink__Container},r.a.createElement("button",{className:"btn btn-lg btn-plain-gray",onClick:h},Object(E.requestTranslation)("cancel")),r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:h},Object(E.requestTranslation)("save")))))))},Ba=function(e){var t=e.regeneratePublicLink,n=e.confirmationModal,a=e.confirmationModalClose;return r.a.createElement(it.Modal,{isOpen:n,contentLabel:"radar-modal",ariaHideApp:!1,style:it.paddingModalStyles},r.a.createElement("div",{className:"confirmation-modal-content pt-4 pb-4"},r.a.createElement("h3",{className:"confirmation-modal-title"},Object(E.requestTranslation)("sharePublicLinkConfirmation")),r.a.createElement("p",{style:{textAlign:"center"}},Object(E.requestTranslation)("sharePublicLinkConfirmationNote")),r.a.createElement("div",{className:"confirmation-modal-actions"},r.a.createElement("button",{onClick:a,className:"btn btn-lg btn-plain-gray"},Object(E.requestTranslation)("cancel").toUpperCase()),r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:t},Object(E.requestTranslation)("regeneratePublicLink").toUpperCase()))))},Na=function(e){var t=e.deletePublicLink,n=e.deleteConfirmationModal,a=e.deleteConfirmationModalClose;return r.a.createElement(it.Modal,{isOpen:n,contentLabel:"radar-modal",ariaHideApp:!1,style:it.paddingModalStyles},r.a.createElement("div",{className:"confirmation-modal-content pt-4 pb-4"},r.a.createElement("h3",{className:"confirmation-modal-title"},Object(E.requestTranslation)("deletePublicLinkConfirmation")),r.a.createElement("p",{style:{textAlign:"center",marginLeft:"110px",marginRight:"117px"}},Object(E.requestTranslation)("deletePublicLinkConfirmationNote")),r.a.createElement("div",{className:"confirmation-modal-actions"},r.a.createElement("button",{onClick:a,className:"btn btn-lg btn-plain-gray"},Object(E.requestTranslation)("cancel").toUpperCase()),r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:t},Object(E.requestTranslation)("deletePublicLink").toUpperCase()))))},La=function(e){var t=e.SharedLinkModalAfterDelete,n=e.SharedLinkModalAfterDeleteClose,a=e.RadarTitle;return r.a.createElement(it.Modal,{isOpen:t,contentLabel:"radar-modal",ariaHideApp:!1,style:it.paddingModalStyles},r.a.createElement("div",{className:"confirmation-modal-content pt-4 pb-4"},r.a.createElement("h3",{className:"confirmation-modal-title"},Object(E.requestTranslation)("sharedLinkDeletedNote")),r.a.createElement("p",{style:{textAlign:"center",marginLeft:"110px",marginRight:"117px"}},a),r.a.createElement("div",{className:"confirmation-modal-actions"},r.a.createElement("button",{onClick:n,className:"btn btn-lg btn-primary"},Object(E.requestTranslation)("ok").toUpperCase()))))},Fa=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){var e;Object(Xe.a)(this,n);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(e=t.call.apply(t,[this].concat(r))).state={deletingModalOpen:!1,sharingModalOpen:!1,clonedModalOpen:!1,generatingModalOpen:!1,publicLinkModal:!1,confirmationModal:!1,deleteConfirmationModal:!1,publicSharedLink:null,publicSharedUserInfo:[],radarShareId:null,publicSharedLinkExsited:!1,SharedLinkModalAfterDelete:!1,radarTitle:"",isPublicShareUrlEnabled:!1},e.toggleOpenEditMenu=function(){var t=e.props;(0,t.toggleEditMenuVisiblity)(!t.editMenuOpen)},e.handleCloseClick=function(){var t=e.props,n=t.editSectorsPageOpen,a=t.sectorPageHandler,r=t.editTimeRangesPageOpen,A=t.timerangePageHandler;n&&a(),r&&A()},e.clonedRadarCallback=function(t){return e.setState({clonedModalOpen:t})},e.closeRadar=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=e.props.getReturnUrl;return t&&(document.href=n()),n()},e.closePublicLink=function(){e.setState({publicLinkModal:!1,sharingModalOpen:!0})},e.openPublicLinkModal=Object(B.a)(R.a.mark((function t(){var n,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({sharingModalOpen:!1}),e.setState({publicLinkModal:!0}),n=new URLSearchParams(document.location.search),a=Number(n.get("node")),null!==e.state.publicSharedLink){t.next=9;break}return t.next=7,Q.default.createOrReplaceRadarPublicShare({radarId:a}).then((function(t){console.log("data",t),e.setState({publicSharedLink:null===t||void 0===t?void 0:t.url,publicSharedLinkExsited:!0})}));case 7:t.next=11;break;case 9:return t.next=11,Q.default.getRadarPublicShare(a).then((function(t){e.setState({publicSharedLink:t.url,publicSharedLinkExsited:!0})}));case 11:case"end":return t.stop()}}),t)}))),e.onRegeneratePublicLink=Object(B.a)(R.a.mark((function t(){var n,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams(document.location.search),a=Number(n.get("node")),t.next=4,Q.default.regenerateRadarPublicShare(a).then((function(t){e.setState({publicSharedLink:t.url,confirmationModal:!1})}));case 4:case"end":return t.stop()}}),t)}))),e.openConfirmationModal=function(){e.setState({confirmationModal:!0,publicLinkModal:!1})},e.closeConfirmationModal=function(){e.setState({confirmationModal:!1,publicLinkModal:!0})},e.openDeleteConfirmationModal=function(){e.setState({deleteConfirmationModal:!0,publicLinkModal:!1})},e.closeDeleteConfirmationModal=function(){e.setState({deleteConfirmationModal:!1,publicLinkModal:!0})},e.onDeletePublicLink=Object(B.a)(R.a.mark((function t(){var n,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams(document.location.search),a=Number(n.get("node")),t.next=4,Q.default.removeRadarPublicShare(a).then((function(t){e.setState({publicSharedLink:null,deleteConfirmationModal:!1,publicSharedLinkExsited:!1,SharedLinkModalAfterDelete:!0})}));case 4:case"end":return t.stop()}}),t)}))),e.onCloseSharedLinkModalAfterDelete=function(){e.setState({SharedLinkModalAfterDelete:!1})},e.onShareRadarClick=Object(B.a)(R.a.mark((function t(){var n,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URLSearchParams(document.location.search),a=Number(n.get("node")),t.next=4,Q.default.getRadarPublicShare(a).then((function(t){e.setState({publicSharedLink:t.url})}));case 4:null!==e.state.publicSharedLink&&e.setState({publicSharedLinkExsited:!0}),e.setState({sharingModalOpen:!0});case 6:case"end":return t.stop()}}),t)}))),e}return Object($e.a)(n,[{key:"componentDidMount",value:function(){var e=Object(B.a)(R.a.mark((function e(){var t,n,a,r=this;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(document.location.search),n=Number(t.get("share")),a=Number(t.get("node")),"1"!==n&&1!==n){e.next=7;break}return e.next=6,Q.default.getRadarPublicShare(a).then((function(e){r.setState({publicSharedLink:e.url,publicSharedLinkExsited:!0})}));case 6:this.setState({publicLinkModal:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,r=a.radarSettings.radarName,A=a.groupId;this.setState({groupId:A,radarTitle:r}),this.props.radarSettings.groups.map((function(e){var t;String(null===e||void 0===e?void 0:e.id)===String(null===(t=n.props.radarSettings)||void 0===t?void 0:t.group.id)&&1===Number(null===e||void 0===e?void 0:e.publicShareUrlEnabled)&&n.setState({isPublicShareUrlEnabled:!0})}))}},{key:"render",value:function(){var e=this,t=new URLSearchParams(window.location.search).get("ret_id");t&&(t=t.replace(/[^a-f0-9-]/,""));var n=this.state,a=n.deletingModalOpen,A=n.clonedModalOpen,i=n.sharingModalOpen,o=n.generatingModalOpen,c=n.publicLinkModal,s=n.confirmationModal,l=n.deleteConfirmationModal,u=(n.radarShareId,this.props),d=u.changeAddRadarFormVisibility,p=u.sectorPageHandler,m=u.timerangePageHandler,g=u.deleteRadar,h=u.changeAddPhenomenaVisibility,f=u.editSectorsPageOpen,b=u.id,v=u.groupId,w=u.addRadarFormOpen,y=u.editPhenomenaVisible,O=u.editMenuOpen,j=u.toggleEditMenuVisiblity,x=u.canEditRadar,C=u.canDeleteRadar,k=u.cloneRadar,T=u.changeSignalListVisibility,S=u.signalListVisible,D=u.signalToolEnabled,M=u.isVisitor,I=u.canShareRadar,P=u.collaborationToolsAllowed,R=u.generatePowerpoint,B=!f&&!w&&!y&&!S&&!M;return r.a.createElement(it.PopupContainer,{onClose:j},B&&r.a.createElement(qa,{id:"radar-nav-topright"},r.a.createElement("div",{className:"nav-item"},r.a.createElement("a",{onClick:function(){return e.closeRadar()},href:this.closeRadar(!1),className:"btn-icon-lg"},r.a.createElement("span",{className:"af-custom-close"}))),x&&r.a.createElement("div",null,r.a.createElement(Ja,{className:"nav-item",onClick:this.toggleOpenEditMenu},r.a.createElement("button",{className:"btn-round btn-lg",onClick:this.toggleOpenEditMenu},r.a.createElement("span",{className:"af-custom-edit"}),O&&r.a.createElement(Ua,{className:"fp-dropdown-menu"},r.a.createElement(Ya,{className:"fp-dropdown-menu-arrow"}),r.a.createElement("div",null,r.a.createElement(Va,{className:"fp-dropdown-header",style:{lineHeight:"1.2rem"}},Object(E.requestTranslation)("layoutHeader")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:p},Object(E.requestTranslation)("editSectors")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:m},Object(E.requestTranslation)("editTimeranges")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:h},Object(E.requestTranslation)("addPhenomena"))),r.a.createElement("div",null,r.a.createElement(Va,{className:"fp-dropdown-header"},Object(E.requestTranslation)("settingsHeader")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:function(){return d(2)}},Object(E.requestTranslation)("editBasicSettings")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:function(){return d(1)}},Object(E.requestTranslation)("editTitle")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:function(){return d(4)}},Object(E.requestTranslation)("editConclusions"))),P&&r.a.createElement("div",null,r.a.createElement(Va,{className:"fp-dropdown-header"},Object(E.requestTranslation)("activateUsersHeader")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:function(){return d(3)}},Object(E.requestTranslation)("activateUsers")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:function(){return window.location.replace("".concat("","/send-message?map_id=").concat(b))}},Object(E.requestTranslation)("sendMessages"))),r.a.createElement("div",null,r.a.createElement(Va,{className:"fp-dropdown-header"},Object(E.requestTranslation)("managmentHeader")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:function(){return e.setState({generatingModalOpen:!0})}},Object(E.requestTranslation)("pptxGenerateReport")),I&&r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:this.onShareRadarClick},Object(E.requestTranslation)("shareRadar")),r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:function(){return k(e.clonedRadarCallback)}},Object(E.requestTranslation)("cloneRadar")),C&&r.a.createElement(Ga,{className:"fp-dropdown-item",onClick:function(){return e.setState({deletingModalOpen:!0})}},Object(E.requestTranslation)("deleteRadar"))))))),r.a.createElement("div",{className:"nav-item"},r.a.createElement("a",{href:"".concat("","/node/").concat(b,"/results")+(t?"?ret_id="+t:""),onClick:function(){return window.location.replace("".concat("","/node/").concat(b,"/results")+(t?"?ret_id="+t:""))},className:"btn-round btn-lg"},r.a.createElement("span",{className:"af-custom-results"}))),D&&r.a.createElement("div",{className:"nav-item"},r.a.createElement("div",{className:"btn-round btn-lg",onClick:function(){return T()}},r.a.createElement("span",{className:"af-custom-signal-tool"})))),f&&r.a.createElement(Qa,{onClick:this.handleCloseClick,className:"btn btn-lg btn-primary"},Object(E.requestTranslation)("close")),r.a.createElement(it.Modal,{isOpen:o,contentLabel:"generate powerpoint",style:it.paddingModalStyles,className:"paddedModal",ariaHideApp:!1},r.a.createElement("div",{className:"confirmation-modal-content"},r.a.createElement("h3",null,Object(E.requestTranslation)("download")),r.a.createElement("p",null,Object(E.requestTranslation)("downloadPPTXDescription")),r.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},r.a.createElement("button",{className:"btn btn-lg btn-plain-gray",onClick:function(){return e.setState({generatingModalOpen:!1})}},Object(E.requestTranslation)("cancel")),r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:function(){e.setState({generatingModalOpen:!1}),R(b,v)}},Object(E.requestTranslation)("download"))))),r.a.createElement(it.Modal,{isOpen:a,contentLabel:"delete sanity check",style:it.paddingModalStyles,className:"paddedModal",ariaHideApp:!1},r.a.createElement("div",{className:"confirmation-modal-content"},r.a.createElement("h3",{className:"confirmation-modal-title"},Object(E.requestTranslation)("deleteDoubleCheck")),r.a.createElement("div",{className:"confirmation-modal-actions"},r.a.createElement("button",{className:"btn btn-lg btn-plain-gray",onClick:function(){return e.setState({deletingModalOpen:!1})}},Object(E.requestTranslation)("cancel")),r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:function(){e.setState({deletingModalOpen:!1}),g()}},Object(E.requestTranslation)("delete"))))),I&&r.a.createElement(it.Modal,{isOpen:!!i,contentLabel:"share radar",style:it.modalStyles,ariaHideApp:!1},r.a.createElement(Ta,{requestClose:function(){return e.setState({sharingModalOpen:!1})},requestOpenPublicLink:this.openPublicLinkModal,checkPublicLinkExsited:this.state.publicSharedLinkExsited,publicLink:this.state.publicSharedLink,isPublicShareUrlEnabled:this.state.isPublicShareUrlEnabled})),r.a.createElement(it.Modal,{isOpen:!!A,contentLabel:"cloned radar",style:it.paddingModalStyles,className:"paddedModal",ariaHideApp:!1},r.a.createElement("div",{className:"confirmation-modal-content"},r.a.createElement("h3",{className:"confirmation-modal-title"},Object(E.requestTranslation)("clonedRadarSuccess")),r.a.createElement("p",{className:"text-center"},Object(E.requestTranslation)("clonedRadarSuccessDescription")),r.a.createElement("div",{className:"confirmation-modal-actions"},r.a.createElement("a",{className:"btn btn-lg btn-primary",href:A},Object(E.requestTranslation)("clonedGoToCreated")),r.a.createElement("button",{className:"btn btn-lg btn-plain-gray",onClick:function(){return e.setState({clonedModalOpen:!1})}},Object(E.requestTranslation)("clonedContinueWithCurrent"))))),r.a.createElement(Ra,{isModalOpen:c,onRequestClose:this.closePublicLink,publicURL:this.state.publicSharedLink||"Loading...",openConfirmationModal:this.openConfirmationModal,openDeleteConfirmationModal:this.openDeleteConfirmationModal}),r.a.createElement(Ba,{confirmationModal:s,confirmationModalClose:this.closeConfirmationModal,regeneratePublicLink:function(){e.onRegeneratePublicLink()}}),r.a.createElement(Na,{deleteConfirmationModal:l,deleteConfirmationModalClose:this.closeDeleteConfirmationModal,deletePublicLink:function(){return e.onDeletePublicLink()}}),r.a.createElement(La,{SharedLinkModalAfterDelete:this.state.SharedLinkModalAfterDelete,SharedLinkModalAfterDeleteClose:this.onCloseSharedLinkModalAfterDelete,RadarTitle:this.state.radarTitle}))}}]),n}(a.PureComponent),Qa=bt.default.div(Rn||(Rn=Object(ht.a)(["\n    position: absolute;\n    right: 30px;\n    bottom: 30px;\n    color: white;\n"]))),qa=bt.default.div(Bn||(Bn=Object(ht.a)(["\n    position: absolute;\n    top: 25px;\n    right: 25px;\n"]))),Ya=bt.default.span(Nn||(Nn=Object(ht.a)(["\n    background-color: white;\n    position: absolute;\n    transform: rotate(45deg);\n    right: -18px;\n    top: 63px;\n    width: 40px;\n    height: 40px;\n"]))),Ua=bt.default.div(Ln||(Ln=Object(ht.a)(["\n    width: 280px;\n    display: flex;\n    position: absolute;\n    background-color: white;\n    flex-direction: column;\n    box-sizing: border-box;\n    left: -320px;\n    top: -60px;\n"]))),Ga=bt.default.div(Fn||(Fn=Object(ht.a)(["\n    background: transparent;\n    font-size: 16px;\n    padding: 15px 25px;\n    color: black;\n    font-weight: 500;\n    box-sizing: border-box;\n    transition: all 0.4s ease;\n    &:hover {\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.1);\n        transition: all 0.4s ease;\n    }\n"]))),Va=bt.default.div(Qn||(Qn=Object(ht.a)(["\n    width: 100%;\n    background: rgb(231, 231, 232);\n    display: flex;\n    padding: 15px 25px;\n    align-items: center;\n    color: black;\n    font-weight: 700;\n    font-size: 18px;\n    box-sizing: border-box;\n"]))),Ja=bt.default.div(qn||(qn=Object(ht.a)(["\n    position: relative;\n    min-width: 20px;\n    min-height: 20px;\n    border-radius: 50%;\n    background-color: #006998;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    transition: all 0.4s ease;\n    &:hover {\n        cursor: pointer;\n        background-color: #1A9AFC;\n        transition: all 0.4s ease;\n    }\n"]))),Ka=Fa,Za=Object(o.b)((function(e,t){var n=e.radarSettings,a=n.signalToolEnabled,r=n.addRadarFormOpen,A=n.editMenuOpen,i=n.editPhenomenaVisible,o=n.addPhenomenaVisible,c=n.editSectorsPageOpen,s=n.id,l=n.group,u=n.groups,d=n.canDeleteRadar,p=n.canEditRadar,m=n.isVisitor,g=n.canShareRadar,h=n.editTimeRangesPageOpen,f=n.radarName,b=e.signals.signalListVisible;console.log("state",e);var v=!(!l||!u)&&gt(e)(l.id);return{signalToolEnabled:a,addRadarFormOpen:r,editPhenomenaVisible:i,signalListVisible:b,addPhenomenaVisible:o,editSectorsPageOpen:c,id:s,groupId:l.id,collaborationToolsAllowed:v,canDeleteRadar:d,isVisitor:m,canShareRadar:g,canEditRadar:p,getReturnUrl:function(){return t.returnUri||"/"},editMenuOpen:A,editTimeRangesPageOpen:h,radarName:f}}),(function(e){return Object(s.b)({changeSignalListVisibility:ga,deleteRadar:Aa,sectorPageHandler:Oe,changeAddRadarFormVisibility:z,timerangePageHandler:je,changeAddPhenomenaVisibility:Ce,cloneRadar:ra,toggleEditMenuVisiblity:W,generatePowerpoint:oa},e)}))(Ka),Wa=Object(o.b)((function(e){return{errors:e.errors}}),(function(e){return Object(s.b)({onClose:xe},e)}))(it.ErrorModal),Ha=n(345),za=n(626),_a=n.n(za),Xa=n(204),$a=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){var e;Object(Xe.a)(this,n);for(var a=arguments.length,r=new Array(a),A=0;A<a;A++)r[A]=arguments[A];return(e=t.call.apply(t,[this].concat(r))).state={titleInput:e.props.sector?e.props.sector.title:"",descriptionInput:e.props.sector&&e.props.sector.notes||""},e.handleTitleChange=function(t){var n=t.target;return e.setState({titleInput:n.value})},e.handleDescriptionChange=function(t){return e.setState({descriptionInput:t})},e}return Object($e.a)(n,[{key:"render",value:function(){var e=this.state,t=e.titleInput,n=e.descriptionInput,a=this.props,A=a.onClose,i=a.updateSector,o=a.sector;return r.a.createElement(er,null,r.a.createElement(tr,null,Object(E.requestTranslation)("editSectorTitle")),r.a.createElement(nr,null,Object(E.requestTranslation)("sectorTitle")),r.a.createElement(ar,{type:"text",value:t||"",onChange:this.handleTitleChange}),r.a.createElement(nr,null,Object(E.requestTranslation)("sectorDescription")),r.a.createElement(Tt.a,{className:"fp-wysiwyg",style:{height:"250px",paddingBottom:"42px"},value:n,onChange:this.handleDescriptionChange,modules:yt,formats:Lt}),r.a.createElement(rr,null,r.a.createElement("button",{className:"btn btn-lg btn-plain-gray",onClick:A},Object(E.requestTranslation)("cancel")),r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:function(){return i(o,t,n,A)}},Object(E.requestTranslation)("save"))))}}]),n}(a.PureComponent),er=bt.default.div(Yn||(Yn=Object(ht.a)(["\n    padding: 30px 50px;\n    z-index: 1000;\n"]))),tr=bt.default.h2(Un||(Un=Object(ht.a)(["\n    color: black;\n    margin: 0;\n"]))),nr=bt.default.h3(Gn||(Gn=Object(ht.a)(["\n    color: black;\n    margin-top: 30px;\n    margin-bottom: 10px;\n"]))),ar=bt.default.input(Vn||(Vn=Object(ht.a)(["\n    width: 300px;\n    background: transparent;\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    margin-right: 15px;\n    font-size: 16px;\n    padding-left: 20px;\n    height: 45px;\n    border-radius: 1px;\n    box-sizing: border-box;\n"]))),rr=bt.default.div(Jn||(Jn=Object(ht.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 30px;\n"]))),Ar=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){return Object(Xe.a)(this,n),t.apply(this,arguments)}return Object($e.a)(n,[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.timeranges,A=e.addSector,i=e.onClose,o=e.sector,c=e.deleteSector,s=e.handleEditSectorForm;return r.a.createElement(it.PopupContainer,{onClose:i},r.a.createElement(ir,{className:"fp-dropdown-menu",style:{left:t,top:n}},!!a[0].sectors.length&&r.a.createElement(or,{className:"fp-dropdown-item",onClick:s},Object(E.requestTranslation)("editName")),r.a.createElement(or,{className:"fp-dropdown-item",onClick:function(){A(0,o)}},Object(E.requestTranslation)("addSectorBefore")),r.a.createElement(or,{className:"fp-dropdown-item",onClick:function(){return A(1,o)}},Object(E.requestTranslation)("addSectorAfter")),a[0].sectors.length>1&&r.a.createElement(or,{className:"fp-dropdown-item",onClick:function(){return c(o)}},Object(E.requestTranslation)("deleteSector"))))}}]),n}(a.PureComponent),ir=bt.default.div(Kn||(Kn=Object(ht.a)(["\n    background: white;\n    position: absolute;\n    opacity: 1;\n    width: 230px;\n    display: flex;\n    flex-direction: column;\n    transform: translateX(-50%);\n"]))),or=bt.default.div(Zn||(Zn=Object(ht.a)(["\n    padding: 15px 20px;\n    font-size: 16px;\n    font-weight: 500;\n    color: black;\n    box-sizing: border-box;\n    z-index: 10;\n    &:hover {\n        cursor: pointer;\n        background-color: rgba(0, 0, 0, 0.1);\n        transition: all 0.4s ease;\n    }\n"]))),cr=Ar,sr=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(e){var a;Object(Xe.a)(this,n),(a=t.call(this,e)).zoomed=function(){!a.state.phenomenaDragged&&a.isZoomable()&&a.setState({zoomTransform:p.b.transform})},a.handleResultsRedirect=function(){var e=a.props.radarSettings,t=e.id;e.editSectorsPageOpen,e.addRadarFormOpen,e.editPhenomenaVisible,e.signalListVisible,e.isVisitor;window.location.href="".concat("","/node/").concat(t,"/results")},a.isZoomable=function(){return!a.isEditorPageOpen()},a.hideSectorMenuEdit=function(){return a.setState({editMenuPosition:null})},a.showSectorEditMenu=function(e,t){var n=e.pageX,r=e.pageY;return a.setState({editMenuPosition:{x:n,y:r,sector:t}})},a.handleEditPhenomenonFormClose=function(){return a.props.changeEditPhenomenaVisibility()},a.renderRadar=function(){var e=a.props,t=e.containerWidth,n=e.containerHeight,A=a.state,i=A.zoomTransform,o=i.x,c=i.y,s=i.k,l=A.phenomenaDragged,u=At()({"zoomed-out":s<.25,"zoomed-out-far":s<.15});return a.shouldRadarRender()&&r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",ref:a.svgRef,height:n,width:t,className:u,style:{zIndex:l?1:0}},r.a.createElement("g",{className:"zoom-control",transform:"translate(".concat(o,", ").concat(c,") scale(").concat(s,")")},r.a.createElement("g",{ref:a.radarRef,transform:"translate(".concat(t/2,", ").concat(n/2,")")},a.renderTimelines(),a.renderSectors(),a.renderTimelineTooltip(),a.renderLogo(),a.renderPhenomena(),a.renderDragMarker())))},a.renderMenuLink=function(e,t,n){var A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.scaled(25),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.scaled(14);return r.a.createElement("g",{key:e+t,onClick:n,className:"tooltip-edit"},r.a.createElement("circle",{r:A/2,cx:e,cy:t,fill:"#126995",stroke:"none"}),r.a.createElement(it.SVGIcon,{x:e,y:t,fontSize:i,icon:"edit"}))},a.renderEditabilityTooltip=function(e,t,n){var r=(e.startAngle+e.endAngle)/2||0,A=Math.min(.15*n,100),i=g(r,n-A),o=Object(N.a)(i,2),c=o[0],s=o[1];return a.renderMenuLink(c,s,(function(t){return a.showSectorEditMenu(t,e)}))},a.renderSectorEditor=function(){var e=a.props,t=e.containerWidth,n=e.containerHeight,A=e.timeRanges,i=e.radius,o=e.updateSector,c=e.radarSettings.editSectorsPageOpen;if(!e.canEditRadar)return null;var s=d.a.last(A),l=s.sectors,u=s.outerRadius,p=a.state,m=p.editSector,g=p.zoomExtent,h="translate(".concat(t/2,", ").concat(n/2,") scale(").concat(g,")");return c&&r.a.createElement("div",null,r.a.createElement(it.Modal,{isOpen:!!m,onRequestClose:function(){a.setState({editSector:null})},contentLabel:"Sector settings",style:it.modalStyles,ariaHideApp:!1},r.a.createElement($a,{sector:m,onClose:function(){a.setState({editSector:null})},updateSector:o})),r.a.createElement("svg",{height:n,width:t,fill:"black"},r.a.createElement("g",{transform:h},r.a.createElement("circle",{stroke:"#D9D9D9",fill:"rgb(15, 19, 24)",r:u}),a.renderSectors(),l.map((function(e,t){return a.renderEditabilityTooltip(e,t,u)})),!l.length&&a.renderEditabilityTooltip({},1,i))))},a.scaled=function(e){var t=a.state,n=t.zoomExtent,r=t.zoomTransform.k;return a.isZoomable()?e/(Math.max(r,.25)/1.4):e/(n/1.4)},a.onPhenomenaDrag=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=a.props,A=r.setDraggedPhenomenon,i=r.canEditRadar;e&&e.stopPropagation(),(n||h(e)&&e||"ontouchstart"in document.documentElement||"ontouchstart"in window)&&(a.setState({updatingPhenomena:t}),a.longpressTimeout=setTimeout((function(){i&&(a.setState({phenomenaDragged:!0}),A(t))}),650),document.addEventListener("mouseup",a.onPhenomenaDragEnd),document.addEventListener("touchend",a.onPhenomenaDragEnd),document.addEventListener("touchcancel",a.onPhenomenaDragEnd),document.addEventListener("pointerup",a.onPhenomenaDragEnd),document.addEventListener("click",a.onPhenomenaDragEnd))},a.handleMouseAction=function(){var e=a.props,t=e.timeRanges,n=e.radius;if(!a.isEditorPageOpen()){var r=p.g(a.radar),A=Object(N.a)(r,2),i=A[0],o=A[1],c=Math.atan2(o,i),s=c<Math.PI/2?c+2.5*Math.PI:c+.5*Math.PI,l=Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),u=l>n,m=d.a.find(t,(function(e){var t=e.radius,n=e.outerRadius;return l>=t&&l<n})),g=m&&d.a.find(m.sectors,(function(e){var t=e.startAngle,n=e.endAngle;return s>=t&&s<n})),h=u?d.a.last(t):d.a.first(t),f=u?h.outerRadius:h.radius,b=u?h.endYear+1e-5:h.startYear+1e-5,v=d.a.find(h.sectors,(function(e){var t=e.startAngle,n=e.endAngle;return s>=t&&s<n})),E=m&&m.scale.invert(l),w=g?p.j().range([0,1]).domain([g.startAngle,g.endAngle]).interpolate(p.e)(s):.5;a.setState({mouseCoords:{x:i,y:o,isOutside:u,xOffset:w,angle:s,radius:l,timeRange:m,sector:g,time:E,outerSector:v,boundaryTime:b,boundaryRadius:f}})}},a.onPhenomenaDragEnd=function(e){var t=a.props,n=t.updatePhenomenon,r=t.setDraggedPhenomenon,A=t.draggedPhenomenon;if(a.longpressTimeout&&clearTimeout(a.longpressTimeout),A){var i=a.state.mouseCoords,o=i.time,c=i.angle,s=i.sector,l=i.xOffset;!s?a.setState({deleteRadarPhenomenonOpen:A}):n(A,{sectorId:s.id,xOffset:l,time:o,angle:c}),a.setState({phenomenaDragged:!1}),r(!1),e&&(e.preventDefault(),e.stopPropagation())}e&&("ontouchstart"in document.documentElement||"ontouchstart"in window)&&(e.preventDefault(),e.stopPropagation()),document.removeEventListener("mouseup",a.onPhenomenaDragEnd),document.removeEventListener("pointerup",a.onPhenomenaDragEnd),document.removeEventListener("touchcancel",a.onPhenomenaDragEnd),document.removeEventListener("touchend",a.onPhenomenaDragEnd),document.removeEventListener("click",a.onPhenomenaDragEnd)},a.svgRef=function(e){return a.svg=e},a.radarRef=function(e){return a.radar=e},a.getPhenomenaDisplayProps=function(){var e=a.props,t=e.radius,n=e.phenomenaTypesById;return{labelWidth:.25*t,labelHeight:a.scaled(30),phenomenaSize:a.scaled(21),iconSize:a.scaled(21),fontSize:a.scaled(8),phenomenaTypesById:n}},a.handleWebsocketUpdate=function(e){var t=a.props,n=t.radarSettings.radar_version,r=t.refetchRadarData;e.radar_version!==n&&r().then((function(){return Object(Ha.b)(Object(E.requestTranslation)("radarUpdated"))}))};var A=e.containerWidth,i=e.containerHeight,o=e.svgDimensions,c=Math.min(A,i),s=c/o*.8;return a.zoom=p.l().scaleExtent([c/o*.5,s+4]).on("zoom",a.zoomed),a.state={isIconImgLoading:!0,zoomExtent:s,sectorDescriptionModal:null,deleteRadarPhenomenonOpen:!1,editSector:null,editMenuPosition:null,zoomTransform:{x:0,y:0,k:s},mouseCoords:{x:0,y:0,angle:0,radius:0,timeRange:null,sector:null,time:null},phenomenaDragged:!1},a}return Object($e.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchRadar,n=e.getUserGroups,a=e.radarSettings.existingRadarPage;n().then((function(){a&&t()})),this.attachEvents()}},{key:"componentDidUpdate",value:function(e){this.shouldRadarRender()&&!this.shouldRadarRender(e)&&this.attachEvents()}},{key:"attachEvents",value:function(){var e=this,t=this.state.zoomTransform.k,n=p.k(this.svg);n.on("touchstart",this.handleMouseAction).on("touchmove",this.handleMouseAction).on("mousemove",this.handleMouseAction).on("touchend",this.onPhenomenaDragEnd).on("click",(function(){return e.props.toggleEditMenuVisiblity(!1)})).call(this.zoom),this.zoom.scaleBy(n,t)}},{key:"renderTimelines",value:function(){var e=this.props,t=e.timeRanges,n=e.radius;return r.a.createElement("g",{className:"time-ranges"},r.a.createElement("circle",{r:t[t.length-1].outerRadius+80,fill:"#F5F5F5"}),t.slice().reverse().map((function(e,t){var n=e.outerRadius,a=0===t;return r.a.createElement("g",{key:t},r.a.createElement("circle",{r:n,fill:Ct(t),strokeWidth:a?2:0,stroke:"#979797",strokeDasharray:4}))})),!t.length&&r.a.createElement("circle",{r:n,fill:Ct(4)}))}},{key:"renderPhenomena",value:function(){var e=this.props,t=e.radius,n=e.timeRanges,a=e.draggedPhenomenon;return r.a.createElement(pt,{radius:t,timeRanges:n,scaled:this.scaled,zoomTransform:this.state.zoomTransform,onPhenomenaDrag:this.onPhenomenaDrag,draggedPhenomenon:a,getPhenomenaDisplayProps:this.getPhenomenaDisplayProps})}},{key:"renderSectors",value:function(){var e=this,t=this.props,n=t.timeRanges,a=t.radius,A=this.state.mouseCoords.sector,i=A?A.key:0,o=this.scaled(8.5),c=d.a.last(n).sectors;return r.a.createElement("g",{className:"sectors"},n.map((function(e){return e.sectors.map((function(e){var t=e.key,n=e.arc;return r.a.createElement("path",{stroke:"transparent",fill:i===t?"#dededf":"transparent",key:t,className:"sector",d:n})}))})),c.map((function(t){var n=t.id,A=t.key,i=t.title,c=t.startAngle,s=t.endAngle,l=t.notes,u=.25*a,d=g((c+s)/2||0,a+5*o+80),m=Object(N.a)(d,2),h=m[0],f=m[1];return r.a.createElement("g",{key:"sector-meta-".concat(n)},r.a.createElement("path",{key:A,stroke:"#909090",fill:"#909090",className:"sector",strokeWidth:"1",strokeDasharray:4,d:p.h()([[c,0],[c,a]])}),r.a.createElement(at.a,{x:h,y:f,verticalAnchor:"middle",className:"sector-label noselect",width:u,textAnchor:"middle",style:{fontSize:"".concat(o,"px")},onClick:function(){return e.setState({sectorDescriptionModal:{notes:l,title:i}})}},i))})))}},{key:"renderLogo",value:function(){var e=this.props,t=e.timeRanges,n=e.radius,a=e.radarSettings.radarImage,A=e.radarLogoLinkDisabled,i=d.a.first(t)?d.a.first(t).radius:.15*n,o="translate(".concat(-i,", ").concat(-i,")");return r.a.createElement("g",null,a?r.a.createElement("foreignObject",{className:"radar-logo",onClick:!A&&this.handleResultsRedirect,width:2*i,height:2*i,transform:o,style:A?{cursor:"default"}:null},r.a.createElement("img",{alt:"logo",src:a,style:{width:2*i,height:2*i,borderRadius:"50%",objectFit:"cover"}})):r.a.createElement("circle",{className:"radar-logo",onClick:!A&&this.handleResultsRedirect,r:i,fill:"#126995",style:A?{cursor:"default"}:null}))}},{key:"getTimerangeLabelPath",value:function(e){return"\n            M 0, 0\n            m -".concat(e,", 0\n            a ").concat(e,",").concat(e," 0 1,0 ").concat(2*e,",0\n        ")}},{key:"renderTimelineTooltip",value:function(){var e=this,t=this.props,n=t.timelines,a=t.timeRanges,A=t.radarSettings.timelineLabelFormat,i=this.scaled,o=i(9),c=i(4),s=i(16.5);return r.a.createElement("g",{className:"timeline"},a.map((function(t,i){var l=i===a.length-1,u=t.radius,d=t.description,m=t.startYear,g=t.endYear,h=t.outerRadius,f=t.label,b=t.radius,v=p.h()([[Math.PI,b+s],[Math.PI,h]]);return r.a.createElement("g",{key:"tooltips-".concat(i)},r.a.createElement("path",{d:v,stroke:"#8d8e92",strokeWidth:c}),!t.isPlaceholder&&r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:e.getTimerangeLabelPath(u+s),id:"timerange-label-".concat(i),fill:"transparent",style:{pointerEvents:"none"}}),r.a.createElement("text",{dy:-s/4,className:"hoverable timeline-label-text noselect",style:{fontSize:"".concat(o,"px")},onClick:function(){return e.setState({sectorDescriptionModal:{notes:d,title:A?f:m}})}},r.a.createElement("textPath",{xlinkHref:"#timerange-label-".concat(i),textAnchor:"middle",startOffset:"50%"},A?f:m))),l&&r.a.createElement("g",null,r.a.createElement("path",{id:"timerange-label-last",d:e.getTimerangeLabelPath(h+s),fill:"transparent",style:{pointerEvents:"none"}}),r.a.createElement("text",{dy:-s/4,className:"hoverable timeline-label-text noselect",style:{fontSize:"".concat(o,"px")},onClick:function(){e.setState({sectorDescriptionModal:{notes:n[n.length-1].description,title:A?n[n.length-1].label:g}})}},r.a.createElement("textPath",{xlinkHref:"#timerange-label-last",textAnchor:"middle",startOffset:"50%"},A?n[n.length-1].label:g)))))})))}},{key:"shouldRadarRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.timeRanges;return 0!==t.length&&!this.isEditorPageOpen(e)}},{key:"isEditorPageOpen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.radarSettings.editSectorsPageOpen;return t}},{key:"renderDragMarker",value:function(){var e=this.props.draggedPhenomenon;if(e){this.phenomenaDisplayProps||(this.phenomenaDisplayProps=this.getPhenomenaDisplayProps());var t=this.state.mouseCoords,n=t.sector,a=t.x,A=t.y;return r.a.createElement(ot,Object.assign({cx:a,cy:A,phenomenon:e,deleting:!n,dragged:!0},this.phenomenaDisplayProps,{scaled:this.scaled}))}return this.phenomenaDisplayProps&&(this.phenomenaDisplayProps=null),null}},{key:"renderEditPhenomenonForm",value:function(){var e=this,t=this.props,n=t.radarSettings,a=n.editPhenomenaVisible,A=n.id,i=n.group,o=n.radarLanguage,c=t.storePhenomenon;return r.a.createElement(it.Modal,{isOpen:!!a,contentLabel:"Edit phenomena",style:it.modalStyles,onRequestClose:this.handleEditPhenomenonFormClose,ariaHideApp:!1},a&&r.a.createElement(Xa.PhenomenonLoader,{id:a.id,group:a.group||a.groups[0]},(function(t){var n=t.loading,a=t.error,s=t.phenomenon;return n?r.a.createElement("div",{className:"py-5 text-center"},"Loading..."):a?r.a.createElement("div",{className:"py-5 text-center text-danger"},a.message):r.a.createElement(mn.PhenomenonEditForm,{phenomenon:s,onSubmit:function(t,n){c(t,n,e.handleEditPhenomenonFormClose)},onCancel:e.handleEditPhenomenonFormClose,onDelete:function(){},radar:{id:A,groupId:i.id,language:o}})})))}},{key:"renderSockJsClient",value:function(){var e=this,t=this.props.radarSettings,n=t.account,a=t.id;return n&&a&&r.a.createElement(_a.a,{url:"/radar-api/ws/v1",topics:["/topic/radar/".concat(a)],onMessage:function(t){return setTimeout(function(){this.handleWebsocketUpdate(t)}.bind(e),500)},headers:{Authorization:"Bearer ".concat(Object(m.b)())}})}},{key:"renderBottomLeftNav",value:function(){var e=this.props,t=e.radarSettings.editSectorsPageOpen,n=e.radarLogoLinkDisabled;return!t&&r.a.createElement(dA,{hideInfoButton:n})}},{key:"renderTitle",value:function(){var e=this.props.radarSettings,t=e.radarName,n=e.groups,a=e.group,A=e.titleLogo,i=d.a.find(n,(function(e){var t=e.value;return Number(t)===Number(a.id)}));return i&&i.radarLogoEnabled&&A?r.a.createElement(dr,{src:A}):r.a.createElement(lr,{id:"radar-title-left"},t)}},{key:"renderEditSectorMenu",value:function(){var e=this,t=this.state.editMenuPosition,n=this.props,a=n.timeRanges,A=n.addSector,i=n.deleteSector;return t&&r.a.createElement(cr,{timeranges:a,handleEditSectorForm:function(){e.setState({editSector:t.sector}),e.hideSectorMenuEdit()},y:t.y,x:t.x,sector:t.sector,onClose:this.hideSectorMenuEdit,deleteSector:function(t){i(t),e.hideSectorMenuEdit()},addSector:function(t,n){A(t,n),e.hideSectorMenuEdit()}})}},{key:"renderCreateRadarModal",value:function(){var e=this.props,t=e.changeAddRadarFormVisibility,n=e.radarSettings,a=n.addRadarFormOpen,A=n.id;return r.a.createElement(it.Modal,{isOpen:a,contentLabel:"Radar settings",style:it.modalStyles,ariaHideApp:!1,onRequestClose:A?function(){return t()}:null},r.a.createElement(un,null))}},{key:"renderSectorDescriptionModal",value:function(){var e=this,t=this.state.sectorDescriptionModal;return r.a.createElement(it.Modal,{isOpen:!!t,contentLabel:"Sector description",onRequestClose:function(){return e.setState({sectorDescriptionModal:null})},style:it.modalStyles,ariaHideApp:!1},!!t&&r.a.createElement("div",null,r.a.createElement("div",{className:"modal-form-sections"},r.a.createElement("div",{className:"modal-form-section modal-form-header"},r.a.createElement("h2",null,t.title)),r.a.createElement("div",{className:"modal-form-section"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.notes}}))),r.a.createElement("div",{className:"modal-form-section modal-form-actions pt-0"},r.a.createElement("div",{onClick:function(){return e.setState({sectorDescriptionModal:null})},className:"btn btn-lg btn-primary"},Object(E.requestTranslation)("close")))))}},{key:"renderDeleteRadarPhenomenonModal",value:function(){var e=this,t=this.state.deleteRadarPhenomenonOpen,n=this.props.deleteRadarPhenomenon;return r.a.createElement(it.Modal,{isOpen:!!t,contentLabel:"Delete phenomena from radar",style:it.paddingModalStyles,className:"paddedModal",ariaHideApp:!1},r.a.createElement("div",{className:"confirmation-modal-content"},r.a.createElement("h3",{className:"confirmation-modal-title"},Object(E.requestTranslation)("deletePhenomenaDoubleCheck")),r.a.createElement("div",{className:"confirmation-modal-actions"},r.a.createElement("button",{className:"btn btn-lg btn-plain-gray",onClick:function(){t.time||e.onPhenomenaDrag(!1,t,!0),e.setState({deleteRadarPhenomenonOpen:!1})}},Object(E.requestTranslation)("cancel")),r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:function(){return n(t,(function(){return e.setState({deleteRadarPhenomenonOpen:!1})}))}},Object(E.requestTranslation)("delete")))))}},{key:"renderSandbox",value:function(){var e=this,t=this.props,n=t.setDraggedPhenomenon,a=t.radarSettings.addPhenomenaVisible,A=this.state.phenomenaDragged;return a?r.a.createElement(ca,{onPhenomenaDrag:function(){e.setState({phenomenaDragged:!0}),e.onPhenomenaDrag.apply(e,arguments),n(arguments.length<=1?void 0:arguments[1])},updateMouseCoords:this.handleMouseAction,placing:!!A}):null}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.returnUri;return r.a.createElement(ur,{style:{pointerEvents:t.length?"none":"all"}},r.a.createElement(it.Loading,{shown:t.length,color:"white"}),this.renderTitle(),this.renderBottomLeftNav(),r.a.createElement(Za,{returnUri:n,radarSettings:this.props.radarSettings}),this.renderEditSectorMenu(),this.renderRadar(),this.renderSectorEditor(),r.a.createElement(ja,null),this.renderSandbox(),r.a.createElement(aA,{radarWidth:this.svg&&this.svg.width.baseVal.value}),this.renderEditPhenomenonForm(),this.renderSockJsClient(),this.renderCreateRadarModal(),this.renderSectorDescriptionModal(),this.renderDeleteRadarPhenomenonModal(),r.a.createElement(la,null),r.a.createElement(Wa,null))}}]),n}(a.PureComponent),lr=bt.default.h1(Wn||(Wn=Object(ht.a)(["\n    color: white;\n    position: absolute;\n    top: 25px;\n    left: 25px;\n    margin: 0;\n    text-shadow: 1.5px 1.5px 0 rgba(0, 0, 0, .2);\n    max-width: 250px;\n"]))),ur=bt.default.div(Hn||(Hn=Object(ht.a)(["\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    background-color: black;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),dr=bt.default.img(zn||(zn=Object(ht.a)(["\n    height: 85px;\n    width: auto;\n    object-fit: contain;\n    position: absolute;\n    top: 25px;\n    left: 25px;\n"]))),pr=sr,mr=n(627),gr=n.n(mr),hr=function(e,t){return function(n,a){var r=F(w.a,w.b,Object(E.requestTranslation)("addingSectorError")),A=r.loading,i=r.success,o=r.error,c=a().radarSettings.id,s={title:"",notes:""};return t&&!d.a.isEmpty(t)&&0===e?(s.next={},s.next.id=t.id,s.next.version=t.version):t&&!d.a.isEmpty(t)&&1===e&&(s.previous={},s.previous.id=t.id,s.previous.version=t.version),n(A()),En.createSector(c,s).then((function(a){var r=a.sector,A=a.next,o=a.previous;return n(i({affectedSectors:[A,o].filter((function(e){return!d.a.isEmpty(e)})),sectorId:t.id,placement:e,sector:r}))})).catch((function(e){return n(o(e))}))}},fr=function(e,t,n,a){return function(r,A){var i=F(w.R,w.S,Object(E.requestTranslation)("editingSectorError")),o=i.loading,c=i.success,s=i.error;r(o());var l=A().radarSettings.id,u={id:e.id,version:e.version,title:t,notes:n};return En.updateSector(l,u).then((function(e){return a&&a(),r(c(e.sector))})).catch((function(e){return r(s(e))}))}},br=function(e){var t=e.id,n=e.version;return function(e,a){var r=F(w.N,w.O,Object(E.requestTranslation)("deletingSectorError")),A=r.loading,i=r.success,o=r.error;e(A());var c=a().radarSettings.id,s={id:t,version:n};return En.deleteSector(c,t,s).then((function(n){var a=n.next,r=n.previous,A=n.radar_version,o=[a,r].filter((function(e){return!d.a.isEmpty(e)}));e(i({deletedSectorId:t,affectedSectors:o,radarVersion:A}))})).catch((function(t){return e(o(t))}))}},vr=function(e){return e.phenomena},Er=function(e,t,n,a){return t.filter((function(t){var r=t.sectorId,A=t.time;return r===e.id&&A>=n&&A<a}))},wr=function(e,t,n,a){return e.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{phenomena:Er(e,t,n,a)})}))},yr=Object(mt.a)([function(e){return e.timelines},function(e){return e.sectors},vr],(function(e,t,n){var a=1===e.length&&1===e[0][1];return e.map((function(r,A){var i=r.year;if(e[A+1]){var o=e[A+1].year,c=e[A+1].title||"",s=e[A+1].id,l=e[A+1].version||1,u=e[A+1].position,d=e[A].description,p=e[A].label;return{id:s,title:c,startYear:i,endYear:o,isPlaceholder:a,sectors:wr(t,n,i,o),version:l,position:u,description:d,label:p}}return null})).filter((function(e){return!!e}))})),Or=Object(mt.a)([yr,function(e,t){return t.createTimeRanges}],(function(e,t){return t(e)})),jr=Object(mt.a)([vr,function(e){return e.radarSettings.draggedPhenomenonId}],(function(e,t){return d.a.find(e,(function(e){return e.id===t}))})),xr=Object(s.d)(gr()(),(function(e){return function(t){Object(et.a)(a,t);var n=Object(tt.a)(a);function a(){return Object(Xe.a)(this,a),n.apply(this,arguments)}return Object($e.a)(a,[{key:"render",value:function(){var t=Math.min(2300,2300),n=t/2-30,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15*e;return function(n){var a=t;return n.map((function(r,A){var i=r.startYear,o=r.endYear,s=r.sectors,l=r.position-(A?n[A-1].position:0),u=a,m=a+(e-t)*l;a=m;var h=p.j().range([u,m]).domain([i,o]),f=p.i().range([0,2*Math.PI]).domain(d.a.keys(s));return Object(c.a)(Object(c.a)({},r),{},{radius:u,outerRadius:m,scale:h,sectors:s.map((function(e,t){var n=Math.PI+f(t),a=Math.PI+f(t)+f.step(),r="sector-".concat(i,"-").concat(e.id);return Object(c.a)(Object(c.a)({},e),{},{key:r,startAngle:n,endAngle:a,scale:h,arc:p.a().innerRadius(u).outerRadius(m).startAngle(n).endAngle(a)(),constraints:{angle:[n,a],radius:[u,m]},phenomena:e.phenomena.map((function(e){var t=e.xOffset,r=e.time,A=n+(a-n)*t,i=h(r),o=g(A,i),s=Object(N.a)(o,2),l=s[0],u=s[1];return Object(c.a)(Object(c.a)({},e),{},{angle:A,radius:i,x:l,y:u})}))})}))})}))}}(n);return r.a.createElement(e,Object.assign({},this.props,{svgDimensions:t,radius:n,createTimeRanges:a}))}}]),a}(a.PureComponent)}),Object(o.b)((function(e,t){var n=e.radarSettings,a=e.loading,r=e.phenomenaTypesById,A=e.timelines;return{loading:a,radarSettings:n,phenomenaTypesById:r,timeRanges:Or(e,t),canEditRadar:n.canEditRadar,isVisitor:n.isVisitor,draggedPhenomenon:jr(e),timelines:A}}),(function(e){return Object(c.a)(Object(c.a)({},Object(s.b)({changeAddRadarFormVisibility:z,addSector:hr,deleteSector:br,updateSector:fr,fetchRadar:_n,changeEditPhenomenaVisibility:ke,deleteRadarPhenomenon:$n,storePhenomenon:na,getUserGroups:H,refetchRadarData:Xn,toggleEditMenuVisiblity:W,addPublicPhenomenaToRadar:ia},e)),{},{setDraggedPhenomenon:function(t){return e((n=t.id||t.phenomenon_uuid,function(e){return e({type:w.zb,payload:n})}));var n},updatePhenomenon:function(t,n){return t.time?e(aa(t,n)):e(function(e,t){return function(n,a){n(ea(Object(c.a)(Object(c.a)({},e),t)));var r=e.id,A=d.a.find(a().phenomena,{id:r}),i=F(w.E,w.F,Object(E.requestTranslation)("settingPhenomenaError")),o=i.loading,s=i.success,l=i.error,u=a().radarSettings.id,p=A.sectorId,m=A.time,g=A.xOffset;n(o());var h={radarId:u,id:r,sectorId:p,time:m,xOffset:g};En.createPhenomenon(Number(u),h).then((function(e){return n(s(e.phenomenon))})).catch((function(e){return ta(e,l,n),n(Xn())}))}}(t,n))}})})))(pr),Cr=n(344);function kr(e,t){return+(Math.round(e+"e+"+t)+"e-"+t)}var Tr,Sr,Dr,Mr,Ir,Pr,Rr,Br,Nr,Lr,Fr,Qr,qr,Yr,Ur,Gr=function(e,t){return function(n,a){var r=a().radarSettings.id,A=F(w.Ob,w.Pb,Object(E.requestTranslation)("updatingTimelinesError")),i=A.loading,o=A.success,s=A.error,l={id:e.id,version:e.version,position:e.position,label:e.label,description:e.description,year:e.year};return n(i()),En.updateRadarTimeRange(r,l).then((function(e){return t(),n(o(Object(c.a)({},e.time_range)))})).catch((function(e){return n(s(e))}))}},Vr=function(e,t){return function(n,a){var r=a().radarSettings.id,A=a().timelines,i=d.a.difference(e,t)[0],o=d.a.find(A,{position:kr(Number(i),2)}),s=Object(c.a)({},o);if(o){var l=F(w.Ob,w.Pb,Object(E.requestTranslation)("updatingTimelinesPositionError")),u=l.loading,p=l.success,m=l.error;return n(u()),En.updateRadarTimeRange(r,s).then((function(e){return n(p(Object(c.a)({},e.time_range)))})).catch((function(e){n({type:w.Nb,payload:Kr(A,t)}),n(m(e))}))}}},Jr=function(e){return function(t,n){var a=n().radarSettings.id,r=F(w.ub,w.vb,Object(E.requestTranslation)("removingTimelineError")),A=r.loading,i=r.success,o=r.error;t(A());var s=Object(c.a)({},e);return En.deleteRadarTimeRange(a,s).then((function(e){return t(i(e.time_range.id))})).catch((function(e){return t(o(e))}))}},Kr=function(e,t){return e.map((function(e,n){return Object(c.a)(Object(c.a)({},e),{},{position:kr(Number(t[n]),2)})}))},Zr=function(e){return function(t,n){var a=n().timelines,r=e.map((function(t,n){return 0===n?0:n===e.length-1?1:t}));t({type:w.Nb,payload:Kr(a,r)})}},Wr=function(e,t){return function(n,a){var r=a().timelines,A=a().radarSettings,i=A.id,o=A.timelineLabelFormat,s=Object(T.a)(r),l=o?d.a.sortedIndexBy(r,e,"position"):d.a.sortedIndexBy(r,e,"year");s.splice(l,0,e);var u=(Number(s[l+1].position)+Number(s[l-1].position))/2,p=F(w.c,w.d,Object(E.requestTranslation)("addingTimelineError")),m=p.loading,g=p.success,h=p.error,f=Object(c.a)(Object(c.a)({},s[l]),{},{position:kr(Number(u),2)});return n(m()),En.addRadarTimeRange(i,f).then((function(e){var a=Object(T.a)(r);a.splice(l,0,Object(c.a)({},e.time_range)),n(g(a)),t()})).catch((function(e){return n(h(e))}))}},Hr=function(){return function(e){return e({type:w.Db})}},zr=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(){var e;Object(Xe.a)(this,n);for(var a=arguments.length,A=new Array(a),i=0;i<a;i++)A[i]=arguments[i];return(e=t.call.apply(t,[this].concat(A))).state={timerangeEditModal:!1,updateTimerangeBlock:!1,oldPositions:e.props.timelines.map((function(e){return e.year}))},e.calculateModalDisplacement=function(){var t=e.props.radarWidth;if(!t)return"37px";var n=(window.innerWidth-t)/2;return n>374?n-337+"px":"37px"},e.cancelEvents=function(t){t.preventDefault(),t.stopPropagation(),e.blurHandles()},e.handleDescriptionChange=function(t){var n=e.state.timerangeEditModal;e.setState({timerangeEditModal:Object(c.a)(Object(c.a)({},n),{},{description:t})})},e.handleYearChange=function(t){var n=t.target,a=e.state.timerangeEditModal;e.setState({timerangeEditModal:Object(c.a)(Object(c.a)({},a),{},{year:Number(n.value)?Number(n.value):""})})},e.handleLabelChange=function(t){var n=t.target,a=e.state.timerangeEditModal;e.setState({timerangeEditModal:Object(c.a)(Object(c.a)({},a),{},{label:n.value})})},e.handleLabelPositionChange=function(t){var n=t.value,a=t.year,r=e.state.timerangeEditModal;e.setState({timerangeEditModal:Object(c.a)(Object(c.a)({},r),{},{position:n,year:a})})},e.generateLabelPositionOptions=function(){var t=e.props.timelines;return t.map((function(e,n){var a=e.label;if(n<t.length-1){var r=Number(t[n+1].position),A=kr((Number(t[n].position)+r)/2,2),i=Math.round((Number(t[n].year)+Number(t[n+1].year))/2);return{label:Object(E.requestTranslation)("afterLabel",a),value:A,year:i}}return null})).filter((function(e){return e}))},e.validateTimerangeInput=function(){var t=e.state.timerangeEditModal,n=t.year,a=t.id,r=e.props,A=r.timelines,i=r.timelineLabelFormat,o=Number(A[0].year),c=Number(A[A.length-1].year);if(!a){if(A.length>=10)return Object(E.requestTranslation)("timerangeAmountError");if(!i&&(!n||isNaN(n)||n<=o||n>=c))return Object(E.requestTranslation)("timerangeBoundaryError",{firstYear:o,lastYear:c});if(d.a.find(A,["year",Number(n)]))return i?Object(E.requestTranslation)("consecutiveYearError"):Object(E.requestTranslation)("timerangeExistsError");var s=Object(T.a)(A),l=e.state.timerangeEditModal;if(!l||i&&!l.position)return!0;var u=i?d.a.sortedIndexBy(A,l,"position"):d.a.sortedIndexBy(A,l,"year");s.splice(u,0,l);var p=s[u+1],m=s[u-1];if(Number(p.position)-Number(m.position)<.2)return Object(E.requestTranslation)("timerangeSpaceError",{previousYear:i?"'".concat(m.label,"'"):m.year,nextYear:i?"'".concat(p.label,"'"):p.year})}if(a){if(!n||isNaN(n))return Object(E.requestTranslation)("timerangeError",{firstYear:o,lastYear:c});var g=d.a.findIndex(A,{id:a}),h=A[g-1],f=A[g+1];if(f&&n>=f.year)return Object(E.requestTranslation)("timerangeSmallerYearError",f.year);if(h&&n<=h.year)return Object(E.requestTranslation)("timerangeLargerYearError",h.year)}return!1},e.resetTimerangeEditModal=function(){return e.setState({timerangeEditModal:!1})},e.renderTimeRangeModal=function(){var t=e.state.timerangeEditModal,n=e.props,a=n.addTimeline,A=n.updateTimerange,i=n.timelineLabelFormat,o=t.id,c=e.validateTimerangeInput(),s=e.generateLabelPositionOptions();return t&&r.a.createElement(it.Modal,{isOpen:!0,onRequestClose:function(){return e.setState({timerangeEditModal:!1})},contentLabel:"Timerange editor",ariaHideApp:!1,style:it.paddingModalStyles},r.a.createElement(it.ModalContainer,null,r.a.createElement("h2",null,o?Object(E.requestTranslation)("editTimerange"):Object(E.requestTranslation)("addTimerange")),i?r.a.createElement("div",{className:"mb-4 d-flex w-100 align-items-center justify-content-between"},r.a.createElement("div",{style:{width:"35%"}},r.a.createElement("h3",null,Object(E.requestTranslation)("label")),r.a.createElement(tA,{maxLength:35,value:t.label,onChange:e.handleLabelChange,placeholder:Object(E.requestTranslation)("typeLabel")})),!o&&r.a.createElement("div",{style:{width:"35%"}},r.a.createElement("h3",null,Object(E.requestTranslation)("labelPosition")),r.a.createElement(vt.default,{searchable:!1,clearable:!1,name:"position",className:"fp-radar-select w-100 h-100",value:t.position,onChange:e.handleLabelPositionChange,options:s.length?s:[]}))):r.a.createElement("div",null,r.a.createElement("h3",null,Object(E.requestTranslation)("year")),r.a.createElement($r,{className:"mb-4"},r.a.createElement(eA,{onChange:e.handleYearChange,value:t.year,maxLength:4}))),r.a.createElement("p",null,c),r.a.createElement("h3",null,Object(E.requestTranslation)("description")),r.a.createElement(Tt.a,{className:"fp-wysiwyg",style:{height:"250px",paddingBottom:"42px"},modules:yt,onChange:e.handleDescriptionChange,formats:Lt,value:t.description||""}),r.a.createElement("div",{className:"confirmation-modal-actions d-flex justify-content-end mt-4"},r.a.createElement("button",{className:"btn btn-lg btn-plain-gray",onClick:e.resetTimerangeEditModal},Object(E.requestTranslation)("cancel")),r.a.createElement("button",{className:"btn btn-lg btn-primary",disabled:!!c,onClick:function(){return o?A(t,e.resetTimerangeEditModal):a(t,e.resetTimerangeEditModal)}},o?Object(E.requestTranslation)("edit"):Object(E.requestTranslation)("add")))))},e.renderHandles=function(t){var n=e.props,a=n.timelines,A=n.toggleConfirmationDialog,i=n.removeTimeline,o=n.timelineLabelFormat,c=t.index,s=t.dragging,l=0===c||c===a.length-1,u=a[c],p=u.year,m=u.label;return r.a.createElement(Cr.Handle,Object.assign({key:p},t,{dragging:s.toString(),disabled:l,style:{zIndex:a.length-c}}),l?r.a.createElement(Xr,null):r.a.createElement(Xr,{border:!0},r.a.createElement(it.MaterialIcon,{color:"#0A6996"},"unfold_more")),r.a.createElement("div",{className:"pl-2 trunctuate"},o?m:p),r.a.createElement("div",{className:"ml-auto dropdown show dropdown-toggle h-100",href:"#",role:"button","data-toggle":"dropdown",id:"dropdownMenuLink",onMouseDown:e.cancelEvents,onClick:e.cancelEvents,onMouseUp:e.cancelEvents},r.a.createElement("button",{className:"btn btn-link h-100 w-100 d-flex align-items-center justify-content-center pl-2 pr-2",onMouseDown:e.cancelEvents,onClick:e.cancelEvents,onMouseUp:e.cancelEvents},r.a.createElement(it.MaterialIcon,{color:"#0A6996",onMouseDown:e.cancelEvents,onClick:e.cancelEvents,onMouseUp:e.cancelEvents},"more_horiz")),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},r.a.createElement("div",{className:"dropdown-item",onMouseDown:function(t){e.cancelEvents(t),e.setState({timerangeEditModal:a[c]})}},Object(E.requestTranslation)("edit")),!l&&r.a.createElement("div",{className:"dropdown-item",onMouseDown:function(t){e.cancelEvents(t),A({title:Object(E.requestTranslation)("timelineDeleteTitle",o?m:p),text:Object(E.requestTranslation)("timelineDeleteSubtitle"),callback:function(){return i(a[c])}})}},d.a.upperFirst(d.a.toLower(Object(E.requestTranslation)("delete")))))))},e.savePreviousPosition=function(t){return e.setState({oldPositions:t})},e.blurHandles=function(){for(var e=document.getElementsByClassName("rc-slider-handle"),t=0;t<e.length-1;t++)e[t].blur()},e}return Object($e.a)(n,[{key:"isMobileDevice",value:function(){return"undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},{key:"render",value:function(){var e=this,t=this.props,n=t.editTimeRangesPageOpen,a=t.toggleConfirmationDialog,A=t.timerangePageHandler,i=t.timelines,o=t.updateTimelinePositions,c=t.updateTimerangePosition,s=t.timelineLabelFormat,l=t.updateRadar,u=t.toggleLabelMode,d=this.state,p=d.oldPositions,m=d.updateTimerangeBlock;return n&&i.length?r.a.createElement(pn.a,{handle:".handle"},r.a.createElement(_r,{left:this.calculateModalDisplacement,className:"d-flex flex-column",style:{height:this.isMobileDevice()?"40vh":"75vh"}},r.a.createElement(nA,null),r.a.createElement("button",{className:"btn-close-modal",onClick:A},r.a.createElement("i",{className:"material-icons"},"close")),r.a.createElement(it.BorderTitleContainer,{className:"flex-shrink-0 handle",style:{cursor:"move"}},r.a.createElement("h3",{className:"radar-widget-title mb-0"},Object(E.requestTranslation)("timelineEditor"))),r.a.createElement(it.BorderTitleContainer,{className:"pt-5 h-100 d-flex flex-column",style:{paddingBottom:"50px"}},r.a.createElement(Cr.Range,{key:i.length,min:0,max:1,value:i.map((function(e){return e.position})),handle:this.renderHandles,onBeforeChange:this.savePreviousPosition,onChange:o,onAfterChange:function(t){e.setState({updateTimerangeBlock:!m},(function(){c(t,p),e.blurHandles()}))},vertical:!0,allowCross:!1,pushable:.1,step:.01,reverse:!0}),r.a.createElement("button",{className:"btn btn-outline-secondary w-100 flex-shrink-0 position-relative",style:{top:"25px"},onClick:function(){return e.setState({timerangeEditModal:xt})}},Object(E.requestTranslation)("addTimelineButton"))),r.a.createElement(it.BorderTitleContainer,{className:"flex-shrink-0"},r.a.createElement(it.Checkbox,{label:Object(E.requestTranslation)("toggleTimelineMode"),className:"mb-0",checked:!!s,onChange:function(){return a({text:Object(E.requestTranslation)("timelineModeSubtitle"),title:Object(E.requestTranslation)("timelineModeTitle"),callback:function(){u(),l(!1)}})}})),r.a.createElement(it.BorderTitleContainer,{className:"d-flex flex-shrink-0"},r.a.createElement("button",{className:"btn btn-primary ml-auto",onClick:A},Object(E.requestTranslation)("done"))),this.renderTimeRangeModal())):null}}]),n}(a.PureComponent),_r=bt.default.div(Tr||(Tr=Object(ht.a)(["\n    z-index: ",";\n    background-color: #F2F4F4;\n    position: absolute;\n    top: 100px;\n    left: ",";\n    width: 300px;\n    max-height: 900px;\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n"])),it.Z_INDEX_MODAL,(function(e){return e.left})),Xr=bt.default.div(Sr||(Sr=Object(ht.a)(["\n    width: 35px;\n    height: 100%;\n    border-right: ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"])),(function(e){return e.border?"1px solid #E9ECEC":null})),$r=bt.default.div(Dr||(Dr=Object(ht.a)(["\n    width: 125px;\n    height: 38px;\n    position: relative;\n    border: 1px solid #ccc;\n"]))),eA=bt.default.input(Mr||(Mr=Object(ht.a)(["\n    width: 100%;\n    height: 100%;\n    border: none;\n    display: flex;\n    align-items: center;\n    font-size: 18px;\n    letter-spacing: 15px;\n    font-weight: bold;\n    padding-left: 15px;\n    margin-right: -21px;\n"]))),tA=bt.default.input(Ir||(Ir=Object(ht.a)(["\n    border: 1px solid #ccc;\n    height: 38px;\n    padding: 0 15px;\n    font-weight: medium;\n    font-size: 14px;\n    width: 100%;\n"]))),nA=Object(bt.createGlobalStyle)(Pr||(Pr=Object(ht.a)(["\n    .trunctuate {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n    .rc-slider.rc-slider-vertical {\n        pointer-events: none;\n        width: 100%;\n        .rc-slider-handle {\n            pointer-events: auto;\n            width: 100%;\n            height: 35px;\n            border-radius: 5px;\n            border: 1px solid #E9ECEC;\n            display: flex;\n            align-items: center;\n            /*\n                https://github.com/react-component/slider/blob/master/src/Handle.jsx\n                line 90 needs to be fixed, they forgot to check if slider is vertical\n                when doing translateY. Submit a merge request\n            */\n            transform: translateY(-50%) !important;\n        }\n        .rc-slider-handle:focus {\n            outline: none;\n            box-shadow: none;\n        }\n        .rc-slider-track {\n            background-color: #C8C8C9;\n            left: 15px;\n        }\n        .rc-slider-rail, .rc-slider-step {\n            left: 15px;\n        }\n    }\n    .dropdown-toggle::after {\n        display: none;\n    }\n"]))),aA=Object(o.b)((function(e){var t=e.radarSettings,n=t.editTimeRangesPageOpen,a=t.timelineLabelFormat;return{editTimeRangesPageOpen:n,timelines:e.timelines,timelineLabelFormat:a}}),(function(e){return Object(s.b)({timerangePageHandler:je,toggleConfirmationDialog:sa,updateTimelinePositions:Zr,removeTimeline:Jr,addTimeline:Wr,updateTimerange:Gr,updateTimerangePosition:Vr,updateRadar:we,toggleLabelMode:Hr},e)}))(zr),rA=bt.default.div(Rr||(Rr=Object(ht.a)(["\n    padding: 0 12px;\n    display: flex;\n    align-items: center;\n    margin-top: 8px;\n"]))),AA=bt.default.div(Br||(Br=Object(ht.a)(["\n  width: 270px;\n  position: absolute;\n  background-color: #F2F4F4;\n  left: 37px;\n  bottom: 85px;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n"]))),iA=bt.default.button(Nr||(Nr=Object(ht.a)(["\n  position: absolute;\n  bottom: 65px;\n  left: 15px;\n  /*background-color: rgb(242,244,244) !important;*/\n\n  &.inactive {\n    background-color: transparent !important;\n    border: 2px solid white;\n\n    i {\n      color: white;\n    }\n  }\n"]))),oA=bt.default.div(Lr||(Lr=Object(ht.a)(["\n  padding: 15px 17px;\n  border-bottom: 1px solid #e9e9ea;\n  max-height: 260px;\n  overflow: auto;\n  ::-webkit-scrollbar {\n    width: 8px;\n    margin-right: 2px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: rgb(194, 208, 215);\n    border-radius: 20px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: white;\n    border-radius: 20px;\n  }\n"]))),cA=bt.default.div(Fr||(Fr=Object(ht.a)(["\n  display: flex;\n  box-sizing: border-box;\n  min-height: 25px;\n  align-items: center;\n  position: relative;\n"]))),sA=bt.default.div(Qr||(Qr=Object(ht.a)(["\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  position: absolute;\n  z-index: 10;\n  left: 27px;\n"]))),lA=bt.default.a(qr||(qr=Object(ht.a)(["\n  background-color: transparent;\n  border: 2px solid white;\n  &:hover {\n    background-color: transparent;\n  }\n"]))),uA=bt.default.div(Yr||(Yr=Object(ht.a)(["\n  width: 13px;\n  height: 13px;\n  background-color: white;\n  font-size: 9px;\n  position: absolute;\n  color: black;\n  top: 0px;\n  left: 0px;\n  border-radius: 50%;\n"]))),dA=Object(o.b)((function(e){var t=e.phenomenaTypes,n=e.filters,a=n.filtersVisible,r=n.activeFilter,A=n.activeTagFilter,i=e.radarSettings;return{phenomenaTypes:t,filtersVisible:a,activeFilter:r,activeTagFilter:A,group:i.group,language:i.radarLanguage}}),(function(e){return Object(s.b)({toggleFilter:he,setActiveFilter:fe,resetFilters:ve,setActiveTagFilter:be},e)}))((function(e){var t=e.filtersVisible,n=e.phenomenaTypes,a=e.toggleFilter,A=e.resetFilters,i=e.activeFilter,o=e.activeTagFilter,c=e.group,s=e.hideInfoButton,l=void 0!==s&&s,u=Object(Xa.useTags)(c&&c.id).tags,p=Object(N.a)(u,2),m=p[0],g=p[1],h=[].concat(Object(T.a)(i),Object(T.a)(o)).length;return r.a.createElement("div",{style:{zIndex:2}},!l&&r.a.createElement("div",{className:"radar-nav",id:"radar-nav-bottomleft",style:{zIndex:1}},r.a.createElement(lA,{className:"btn-round btn-lg d-flex align-items-center justify-content-center",target:"_blank",rel:"noopener noreferrer",href:Object(E.requestTranslation)("infoUrl")},r.a.createElement("span",{className:"af-custom-info"}),r.a.createElement("span",{className:"sr-only"},"Info"))),r.a.createElement(iA,{className:"btn-round btn-lg d-flex align-items-center justify-content-center ".concat(h?"":"inactive"),onClick:a},r.a.createElement("i",{className:"material-icons",style:{transform:"rotate(-90deg)",fontWeight:"bold"}},"tune"),!!h&&r.a.createElement(uA,{className:"d-flex justify-content-center align-items-center"},h)),t&&r.a.createElement(AA,{className:"pb-4"},r.a.createElement("button",{className:"btn-close-modal",onClick:a},r.a.createElement("i",{className:"material-icons"},"close")),r.a.createElement(oA,null,r.a.createElement("h3",{className:"radar-widget-title mb-0"},Object(E.requestTranslation)("filterPhenomena"))),r.a.createElement(oA,{style:{padding:"15px 10px"}},r.a.createElement("h5",{className:"mb-2 mt-1 ml-2"},Object(E.requestTranslation)("filterByTag")),function(t){var n=e.language,a=e.activeTagFilter,A=e.setActiveTagFilter;return r.a.createElement("div",null,!(!d.a.isArray(t)||!t.length)&&r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-row flex-wrap"},t.map((function(e,t){return r.a.createElement(rA,{key:t,style:{padding:"0 5px"}},r.a.createElement(it.Tag,{label:e.label[n]||e.label,active:d.a.find(a,(function(t){return t===e.uri})),onClick:function(){return A(e.uri)}}))})))))}([].concat(Object(T.a)(g),Object(T.a)(m)))),r.a.createElement(oA,null,r.a.createElement("h5",{className:"mb-3 mt-1"},Object(E.requestTranslation)("filterByType")),n&&n.length?d.a.map(n,(function(t){var n=t.groupType,a=t.id,A=t.alias,i=t.title,o=t.style,c=e.activeFilter,s=e.setActiveFilter;return r.a.createElement(cA,{key:a},r.a.createElement(sA,null,r.a.createElement(it.PhenomenonType,{type:A,size:15,fill:o?o.color:null})),r.a.createElement(it.Checkbox,{label:n?i:Object(E.requestTranslation)(A),value:a,checked:d.a.find(c,(function(e){return e.id===a})),onChange:function(){return s(t)},className:"phenomena-checkbox"}))})):function(){return r.a.createElement("div",null,Object(E.requestTranslation)("loading"))}),r.a.createElement(oA,{style:{borderBottom:"none"}},r.a.createElement("button",{className:"btn btn-outline-secondary w-100",onClick:A},Object(E.requestTranslation)("resetFilters")))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pA=Object(bt.createGlobalStyle)(Ur||(Ur=Object(ht.a)([" \n   html, body {\n      overflow: hidden !important;\n      font-family: 'L10' !important;\n  }\n  \n  .radar-widget-title {\n    font-size: 18px;\n  }\n  \n  .fp-wysiwyg .ql-editor p, \n  .fp-wysiwyg .ql-editor h1,\n  .fp-wysiwyg .ql-editor h2,\n  .fp-wysiwyg .ql-editor h3,\n  .fp-wysiwyg .ql-editor h4,\n  .fp-wysiwyg .ql-editor h5,\n  .fp-wysiwyg .ql-editor h6,\n  .fp-wysiwyg .ql-editor iframe,\n  .fp-wysiwyg .ql-editor img {\n    margin-bottom: 20px;\n  }\n"])));Object(E.initTranslations)({pptxTimestamp:{en:"Timestamp",fi:"Ajankohta"},pptxCommentsTitle:{en:"Comments",fi:"Kommentit"},pptxCommentsText:{en:function(e){return"There are ".concat(0===e?"no":e," comment").concat(1!==e?"s":""," on this radar. To review them").concat(0===e?" later":"",", please log in to the platform and click this link: ")},fi:function(e){return 0===e?"Kartalle ei ole viel\xe4 k\xe4ytt\xe4jien kommentteja. P\xe4\xe4set katsomaan niit\xe4 my\xf6hemmin kirjautumalla palveluun ja klikkaamalla t\xe4t\xe4 linkki\xe4: ":"Kartalla on yhteens\xe4 ".concat(e," k\xe4ytt\xe4jien kommentti").concat(e>1?"a":"",". P\xe4\xe4set katsomaan niit\xe4 kirjautumalla palveluun ja klikkaamalla t\xe4t\xe4 linkki\xe4: ")}},download:{en:"Download",fi:"Lataa"},downloadPPTXDescription:{en:"Download radar summary in PowerPoint format.",fi:"Lataa yhteenveto PowerPoint-muodossa."},pptxGenerateReport:{en:"Download summary (ppt)",fi:"Lataa yhteenveto (ppt)"},generatingPPTXError:{en:"generating PowerPoint",fi:"raporttia luodaan"},pptxNotVoted:{en:"Not voted",fi:"Ei \xe4\xe4ni\xe4"},pptxReportBy:{en:"by",fi:"-"},pptxSectorListTitle:{en:"List of Sectors",fi:"Sektorit"},pptxRatedContent:{en:"Rated Content",fi:"Arvioitu sis\xe4lt\xf6"},pptxReportTitle:{en:"Content Summary",fi:"Yhteenveto"},pptxSector:{en:"Sector",fi:"Sektori"},pptxSectorContent:{en:"Content in the Sector",fi:"Sektorin sis\xe4lt\xf6"},pptxTopVotedContent:{en:"Top-Voted Content",fi:"\xc4\xe4nestetyt ilmi\xf6t"},timelineModeTitle:{en:"Please confirm you want to switch the label format",fi:"Haluatko, ett\xe4 haluat muuttaa aikajanan formaattia"},timelineModeSubtitle:{en:"",fi:""},timelineDeleteTitle:{en:function(e){return"Delete ".concat(e,"?")},fi:function(e){return"Poista ".concat(e,"?")}},timelineDeleteSubtitle:{en:"You're about to remove this time range. The content on the radar will not be removed, it will be re-organised according to the remaining ranges. Do you want to continue??",fi:"Olet poistamassa aikakeh\xe4\xe4. Sen sis\xe4lt\xf6\xe4 ei poisteta, vaan se j\xe4rjestet\xe4\xe4n uudelleen j\xe4ljelle j\xe4\xe4vien kehien mukaisesti. Haluatko jatkaa?"},addTimelineButton:{en:"+ ADD NEW RANGE",fi:"+ LIS\xc4\xc4 UUSI KEH\xc4"},deleteSignalConfirmation:{en:"Are you sure?",fi:"Oletko varma?"},description:{en:"Description",fi:"Kuvaus"},year:{en:"Year",fi:"Vuosi"},add:{en:"Add",fi:"Lis\xe4\xe4"},timerangeBoundaryError:{en:function(e){var t=e.firstYear,n=e.lastYear;return"Please enter a valid input between ".concat(t," and ").concat(n)},fi:function(e){var t=e.firstYear,n=e.lastYear;return"Sy\xf6t\xe4 vuosi v\xe4lilt\xe4  ".concat(t," ja ").concat(n)}},timerangeSpaceError:{en:function(e){var t=e.previousYear,n=e.nextYear;return"There's not enough space between ".concat(t," and ").concat(n," on your timerange. Please adjust your time ranges")},fi:function(e){var t=e.previousYear,n=e.nextYear;return"Vuosien ".concat(t," ja ").concat(n," v\xe4lill\xe4 ei ole tilaa uudelle keh\xe4lle. Tee v\xe4liin tilaa (vuosilukuina) ja yrit\xe4 uudestaan")}},timerangeAmountError:{en:"You have reached the maxiumum amount of timeranges, please remove a timerange before trying to add a new one.",fi:"Kartalle ei mahdu useampia kehi\xe4. Voit poistaa yhden lis\xe4t\xe4ksesi uuden tai nimet\xe4 nykyiset keh\xe4t uudelleen."},timerangeError:{en:"Please enter a valid input",fi:"Sy\xf6t\xe4 vuosiluku"},timerangeSmallerYearError:{en:function(e){return"Please enter a year smaller than ".concat(e)},fi:function(e){return"Sy\xf6t\xe4 vuosiluku ennen vuotta ".concat(e)}},timerangeLargerYearError:{en:function(e){return"Please enter a year larger than ".concat(e)},fi:function(e){return"Sy\xf6t\xe4 vuosiluku ".concat(e," j\xe4lkeen")}},timerangeCurrentYearError:{en:function(e){return"Please enter a year after ".concat(e)},fi:function(e){return"Sy\xf6t\xe4 vuosiluku ".concat(e," j\xe4lkeen")}},timelineEditor:{en:"Timerange editor",fi:"Aikajakson muokkaus"},updatingTimelinesPositionError:{en:"updating your timerange's position",fi:"p\xe4ivitet\xe4\xe4n aikajakson sijaintia"},removingTimelineError:{en:"removing your timerange",fi:"poistetaan aikajakso"},addingTimelineError:{en:"adding your timerange",fi:"lis\xe4t\xe4\xe4n aikajakso"},timerangeExistsError:{en:"This timerange already exists!",fi:"T\xe4m\xe4 aikajakso on jo olemassa!"},label:{en:"Label",fi:"Keh\xe4n nimi"},typeLabel:{en:"Type label",fi:"Tyypin nimi"},labelPosition:{en:"Label position",fi:"Keh\xe4n nimen sijainti"},afterLabel:{en:function(e){return"Below ".concat(e)},fi:function(e){return"Alapuolelle ".concat(e)}},consecutiveYearError:{en:"The years behind these labels are consectuive, please switch back to year format and adjust for space before continuing",fi:"Vuosileimat kehien nimien taustalla ovat per\xe4kk\xe4iset. Palauta aikajana vuosi-formaattiin ja tee tilaa ennen kuin jatkat."},filterPhenomena:{en:"Filter content",fi:"Suodata sis\xe4lt\xf6"},goToHub:{en:"Open the hub",fi:"Avaa Hub"},moreInfoHub:{en:"For more info go to the hub",fi:"Lis\xe4\xe4 tietoa l\xf6yd\xe4t HUBista (englanniksi)"},toggleTimelineMode:{en:"Use text labels instead of years",fi:"K\xe4yt\xe4 teksti\xe4 vuosiluvun sijaan"},done:{en:"DONE",fi:"VALMIS"},confirm:{en:"CONFIRM",fi:"MUOKKAA"},cancel:{en:"CANCEL",fi:"PERUUTA"},filterByType:{en:"BY TYPE",fi:"TYYPIT"},filterByTag:{en:"BY TAG",fi:"TAGIT"},openPublicLink:{en:"SHOW THE SHARED LINK",fi:"N\xc4YT\xc4 JAETTAVA LINKKI"},createPublicLink:{en:"CREATE A SHARED LINK",fi:"LUO JAETTAVA LINKKI"},publicLink:{en:"Shared Link",fi:"Jaettava linkki"},publicLinkNote:{en:"Copy the link and share it in your network. Anyone with the link can access the radar and collaborate. For data privacy reasons, we recommend deleting the shared link when it\u2019s not used anymore.",fi:"Kopioi linkki, ja jaa se verkostossasi. Otathan huomioon, ett\xe4 linkki\xe4 klikkaamalla t\xe4lle kartalle p\xe4\xe4see kuka tahansa. Tietoturvasyist\xe4 suosittelemme jaettavan linkin poistamista, kun sit\xe4 ei en\xe4\xe4 tarvita."},regeneratePublicLink:{en:"REGENERATE LINK",fi:"LUO UUSI LINKKI"},deletePublicLink:{en:"DELETE THE SHARED LINK",fi:"POISTA JAETTAVA LINKKI"},publicLinkURL:{en:"Shared link: ",fi:"Jaettava linkki:"},regeneratePublicLinkNote:{en:"Note! Regenerating the link will deactivate the current link.",fi:"Huom. Uuden linkin luonti poistaa nykyisen linkin toiminnasta."},deletePublicLinkBtn:{en:"DELETE THE CURRENT SHARED LINK",fi:"POISTA NYKYINEN JAETTU LINKKI"},sharePublicLinkConfirmation:{en:"Are you sure you want to regenerate a shared link?",fi:"Haluatko varmasti luoda uuden jaettavan linkin?"},sharePublicLinkConfirmationNote:{en:"The current link will stop working when you create a new one.",fi:"Nykyinen linkki lakkaa toimimasta, kun luot uuden."},deletePublicLinkConfirmation:{en:"Are you sure you want to delete the shared link?",fi:"Haluatko varmasti poistaa jaettavan linkin?"},deletePublicLinkConfirmationNote:{en:"When you delete the shared link, the radar remains visible to the users who have been granted access to the radar in the user management.",fi:"Poistettuasi jaetun linkin t\xe4m\xe4 kartta n\xe4kyy vain henkil\xf6ille, joille on k\xe4ytt\xe4j\xe4hallinnassa annettu sille p\xe4\xe4sy."},copyToClipboard:{en:"Copy to clipboard",fi:"Kopioi leikep\xf6yd\xe4lle"},publicLinkCopied:{en:"Link copied.",fi:"Linkki kopioitu."},shareRadarFromUsrMngmt:{en:"You can invite users to this radar from the User management, or by creating a Shared link and share that in your network. If you choose to create a Shared link, please note, that anyone with the link can access the radar and collaborate on it.",fi:"Voit kutsua kollegasi kartalle k\xe4ytt\xe4j\xe4hallinnasta tai tehd\xe4 jaettavan linkin ja jakaa sen verkostossasi. Huomaathan, ett\xe4 jakamaasi linkki\xe4 klikkaamalla kuka tahansa voi p\xe4\xe4st\xe4 kartalle ja osallistua ty\xf6skentelyyn."},publicLinkExisted:{en:"A shared link already exists for this radar. Click below to view it.",fi:"T\xe4lle kartalle on tehty jaettava linkki. Voit katsoa sen alta."},checkPublicLinkAlreadyExisted:{en:"A shared link already exists for this radar. Click below to view it.",fi:"T\xe4lle kartalle on tehty jaettava linkki. Voit katsoa sen alta."},goToManagement:{en:"OPEN THE USER MANAGEMENT",fi:"AVAA K\xc4YTT\xc4J\xc4HALLINTA"},ok:{en:"OK",fi:"OK"},sharedLinkDeletedNote:{en:"The shared link is now deleted from this radar.",fi:"Jaettava linkki on nyt poistettu t\xe4lt\xe4 kartalta."}});n(1297),n(1298),n(1299),n(1300),n(1301),n(1302);var mA=document.getElementById("fp-radar-page");Object(m.e)(window.location.origin).then((function(){var e,t;i.a.render((e=mA.getAttribute("data-return-uri"),t="1"===mA.getAttribute("data-rlld"),r.a.createElement(o.a,{store:_e},r.a.createElement(it.GlobalStyles,null),r.a.createElement(pA,null),r.a.createElement(Ha.a,{toastClassName:"fp-toast",position:"top-left",progressClassName:"toast-progress"}),r.a.createElement(xr,{returnUri:e,radarLogoLinkDisabled:t}))),mA)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},133:function(e,t,n){"use strict";n.r(t),n.d(t,"getRadarPhenomena",(function(){return w})),n.d(t,"NEWSFEED_ERROR_PARTIAL",(function(){return y})),n.d(t,"NEWSFEED_ERROR",(function(){return O})),n.d(t,"NEWSFEED_SUCCESS",(function(){return j})),n.d(t,"archivePhenomenon",(function(){return x})),n.d(t,"storePhenomenon",(function(){return C})),n.d(t,"storeNewsFeeds",(function(){return k})),n.d(t,"storePhenomenonWithNewsFeeds",(function(){return T})),n.d(t,"getPhenomenonByUUIDAndGroup",(function(){return S})),n.d(t,"transformFromLegacy",(function(){return D})),n.d(t,"transformToLegacy",(function(){return M}));var a=n(61),r=n(4),A=n.n(r),i=n(7),o=n(3),c=n(222),s=n(142),l=n(62),u=n.n(l),d=n(49);function p(e,t){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(A.a.mark((function e(t,n){var a,r=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:null,e.abrupt("return",u()({method:t,url:"".concat("/news-feed-api","/").concat(n),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Object(d.b)())},withCredentials:!0,data:a||null}).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g={addNewsFeed:function(){var e=Object(i.a)(A.a.mark((function e(t,n,a){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(parseInt(t))){e.next=2;break}return e.abrupt("return",!1);case 2:return r=0===Number(t)?"feed":"".concat(t,"/feed"),e.abrupt("return",p("POST",r,{phenomenon_uuid:a,url:n}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),removeNewsFeed:function(){var e=Object(i.a)(A.a.mark((function e(t,n,a){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(parseInt(t))){e.next=2;break}return e.abrupt("return",!1);case 2:return r=0===Number(t)?"".concat(n,"/").concat(a):"".concat(t,"/").concat(n,"/").concat(a),e.abrupt("return",p("DELETE",r).then((function(e){return e})));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),getNewsFeeds:function(){var e=Object(i.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p("GET","".concat(t,"/news-feeds/").concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},h=n(185),f=n(1336),b=n(1334),v=n(1337),E=function(e,t){return e.filter((function(e){return Boolean(e.id)})).map((function(e){var n=Object(f.a)(t,(function(t){return e.id===t.id}));return n?Object(o.a)(Object(o.a)({},e),n):null})).filter(Boolean)},w=function(){var e=Object(i.a)(A.a.mark((function e(t,n){var a,r,i,s,l,u,d;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.getRadar(t);case 2:if(a=e.sent,r=a.data,!(i=Object(b.a)(r.phenomena,(function(e){return e.id})).filter(Boolean)).length){e.next=11;break}return e.next=8,Object(h.getPhenomena)({phenomena:i,groups:[0,Number(n)],size:i.length,include_archived:!0});case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0={};case 12:return s=e.t0,l=s.result,u=void 0===l?[]:l,d=E(r.phenomena,u),e.abrupt("return",Object(o.a)(Object(o.a)({},r),{},{phenomena:d}));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y="NEWSFEED_ERROR_PARTIAL",O="NEWSFEED_ERROR",j="NEWSFEED_SUCCESS",x=function(){var e=Object(i.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)({type:"phenomenon",id:t,group:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.d)(Object(o.a)({type:"phenomenon"},t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(A.a.mark((function e(t,n){var a,r,i,o,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.addedNewsFeeds,r=n.deletedNewsFeeds,e.t0=Promise.all(Object(b.a)(a,(function(e){return g.addNewsFeed(t.groups[0],e.title,t.id)}))),e.next=4,Promise.all(Object(b.a)(r,(function(e){return g.removeNewsFeed(t.groups[0],e.id,t.id)})));case 4:return e.t1=e.sent,i={add:e.t0,delete:e.t1},e.next=8,i.add;case 8:if(o=e.sent,!(c=Object(v.a)(Object(b.a)(o,(function(e,t){return e?null:a[t].title})),(function(e){return!!e}))).length){e.next=12;break}return e.abrupt("return",{status:y,failedNewsFeedTitles:c});case 12:return e.abrupt("return",{status:j});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(A.a.mark((function e(t,n){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return a=e.sent,e.prev=3,e.next=6,k(a,n);case 6:return r=e.sent,e.abrupt("return",Object(o.a)(Object(o.a)({},r),{},{storedPhenomenon:a}));case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:O,error:e.t0,storedPhenomenon:a});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(A.a.mark((function e(t,n){var a,r,i,c,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.c)({group:n,id:t,type:"phenomenon"});case 2:return a=e.sent,e.prev=3,r=a.content.related_phenomena,i=[],e.next=8,g.getNewsFeeds(n,t);case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0=[];case 11:if(c=e.t0,!(Array.isArray(r)&&r.length>0)){e.next=17;break}return e.next=15,Object(h.getPhenomena)({phenomena:r,groups:[0,Number(n)],size:r.length});case 15:l=e.sent,i=l.result||[];case 17:return e.abrupt("return",Object(o.a)(Object(o.a)({},a),{},{newsFeeds:c,relatedPhenomena:i}));case 20:return e.prev=20,e.t1=e.catch(3),e.abrupt("return",{error:e.t1});case 23:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t,n){return e.apply(this,arguments)}}();function D(e){var t=e.uuid,n=e.language,a=e.group,r=e.title,A=e.shortTitle,i=e.lead,o=e.video,c=e.image,s=e.imageFile,l=e.imageUrl,u=e.videoText,d=e.phenomenonType,p=e.body,m=e.relatedPhenomena,g=e.feedTag,h=e.timing,f=e.links;return{id:t,language:n,group:Number(a),content:{title:r,short_title:A,summary:i,body:p,type:d,media:{video:o||"",image:l||"",text:u||""},related_phenomena:m.map((function(e){return e.id})),feed_tags:Array.isArray(g)?g.map((function(e){return e.id})):[],time_range:h,links:Array.isArray(f)?f.map((function(e){return{url:e.value}})):[]},_upload:{image:c,imageFile:s,imageUrl:l}}}function M(e){var t=e.id,n=e.language,r=e.groups,A=e.content,i=(A=void 0===A?{}:A).title,c=void 0===i?"":i,s=A.short_title,l=void 0===s?"":s,u=A.summary,d=void 0===u?"":u,p=A.body,m=void 0===p?"":p,g=A.type,h=A.media,f=(h=void 0===h?{}:h).video,b=h.image,v=h.text,E=A.related_phenomena,w=void 0===E?[]:E,y=A.feed_tags,O=void 0===y?[]:y,j=A.time_range,x=void 0===j?{}:j,C=A.links,k=Object(a.a)(e,["id","language","groups","content"]);return Object(o.a)({uuid:t,language:n,group:Array.isArray(r)?r[0]:null,title:c,shortTitle:l,lead:d,phenomenonType:g,videoUrl:f,imageUrl:b,mediaText:v,body:m,relatedPhenomena:w,feedTag:O.map((function(e){return{id:e,title:"..."}})),timing:x,links:Array.isArray(C)?C.map((function(e){return{value:e.url}})):[]},k)}},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return b}));var a=n(3),r=n(4),A=n.n(r),i=n(61),o=n(7),c=n(62),s=n.n(c),l=n(49),u="signal";function d(e,t){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(A.a.mark((function e(t,n){var a,r=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:null,e.abrupt("return",s()({method:t,url:"".concat("/content-service-api","/").concat(n),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Object(l.b)())},withCredentials:!0,data:a||null}).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(A.a.mark((function e(t){var n,a,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.group,a=void 0===n?0:n,r=t.type,i=t.id,e.abrupt("return",d("GET","doc/".concat(a,"/").concat(r,"/").concat(i)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(A.a.mark((function e(t){var n,a,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.group,a=void 0===n?0:n,r=t.type,i=t.id,e.abrupt("return",d("DELETE","doc/".concat(a,"/").concat(r,"/").concat(i)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(A.a.mark((function e(t){var n,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.group,r=t.type,!(o=Object(i.a)(t,["group","type"])).id){e.next=5;break}return e.abrupt("return",d("PATCH","doc/".concat(n,"/").concat(r),Object(a.a)({groups:[Number(n)],type:r},o)));case 5:return e.abrupt("return",d("POST","doc/".concat(n,"/").concat(r),Object(a.a)({groups:[Number(n)],type:r},o)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},185:function(e,t,n){"use strict";n.r(t),n.d(t,"getPhenomena",(function(){return m})),n.d(t,"getSignals",(function(){return h})),n.d(t,"getRadars",(function(){return b}));var a=n(22),r=n(3),A=n(61),i=n(4),o=n.n(i),c=n(7),s=n(62),l=n.n(s),u=n(49);function d(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(o.a.mark((function e(t){var n,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.abrupt("return",l()({method:"post",url:"".concat("/search","/").concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Object(u.b)())},data:n}).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(o.a.mark((function e(t){var n,i,c,s,l,u,p,m,g,h,f,b,v,E,w,y,O,j,x,C,k,T,S;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.phenomena,i=void 0===n?[]:n,c=t.query,s=t.groups,l=void 0===s?[0]:s,u=t.page,p=void 0===u?0:u,m=t.size,g=void 0===m?10:m,h=t.language,f=void 0===h?null:h,b=t.enhanced,v=void 0===b?1:b,E=t.tags,w=void 0===E?[]:E,y=t.types,O=void 0===y?[]:y,j=t.time_min,x=void 0===j?null:j,C=t.time_max,k=void 0===C?null:C,T=t.include_archived,S=void 0!==T&&T,e.abrupt("return",d("phenomenon",{phenomena:i,query:c,groups:l,page:p,size:g,language:f,enhanced:v,include_archived:S,tags:w.length>0?{"fp:docs/props/has":w}:{},types:O,time_min:x,time_max:k}).then((function(e){var t=e.result,n=Object(A.a)(e,["result"]);return Object(r.a)({result:t.map((function(e){var t=e.groups,n=Object(A.a)(e,["groups"]);return Object(r.a)(Object(r.a)({groups:t,group:t.length>0&&t[0]},n),{},{tags:Object.keys(n).reduce((function(e,t){return/^tags_/.test(t)?[].concat(Object(a.a)(e),Object(a.a)(n[t])):e}),[])})}))},n)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(o.a.mark((function e(t,n){var a,r,A,i,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:0,r=c.length>3&&void 0!==c[3]?c[3]:10,A=c.length>4?c[4]:void 0,i=c.length>5&&void 0!==c[5]?c[5]:1,e.abrupt("return",d("signal",{query:t,page:a,size:r,groups:n,radar_uuid:A,enhanced:i}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(o.a.mark((function e(t,n){var a,r,A,i,c,s,l,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]&&u[2],r=u.length>3&&void 0!==u[3]?u[3]:["id","uuid","content.title","content.sectors.id","content.sectors.title","content.preview_image"],A=u.length>4&&void 0!==u[4]?u[4]:[0],i=u.length>5&&void 0!==u[5]?u[5]:0,c=u.length>6&&void 0!==u[6]?u[6]:3,s=!(u.length>7&&void 0!==u[7])||u[7],l=u.length>8&&void 0!==u[8]?u[8]:1,e.abrupt("return",d("radar",{query:t,empty:a,language:n,fields:r,page:i,size:c,groups:A,template:s,enhanced:l}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},222:function(e,t,n){"use strict";var a=n(4),r=n.n(a),A=n(3),i=n(61),o=n(7),c=n(62),s=n.n(c),l=n(49),u=n(1333),d=function(e){var t=e.x_offset,n=e.phenomenon_uuid,a=e.sector_id,r=Object(i.a)(e,["x_offset","phenomenon_uuid","sector_id"]);return Object(A.a)({id:Object(u.a)(n),xOffset:t,sectorId:a},r)},p=function(e){var t=e.id,n=e.sectorId,a=e.time,r=e.xOffset,A=e.radarId,i=e.version,o=e.timing;return{radar_id:Number(A),phenomenon_uuid:t,sector_id:n,time:parseFloat(a.toFixed(4)),x_offset:parseFloat(r.toFixed(4)),version:i,timing:o}};function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(r.a.mark((function e(t,n){var a,A=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=A.length>2&&void 0!==A[2]?A[2]:null,e.abrupt("return",s()({method:t,url:"".concat("/radar-api/v1/radar","/").concat(n),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Object(l.b)())},withCredentials:!0,data:a||null}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h={getRadar:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("GET","".concat(t)).then((function(e){var t=e.data,n=Object(i.a)(e,["data"]),a=t.phenomena,r=Object(i.a)(t,["phenomena"]);return Object(A.a)({data:Object(A.a)({phenomena:a.map(d)},r)},n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createPhenomenon:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("POST","".concat(t,"/phenomenon"),p(n)).then((function(e){var t=e.data,n=Object(i.a)(e,["data"]),a=t.phenomenon,r=Object(i.a)(t,["phenomenon"]);return Object(A.a)({data:Object(A.a)({phenomenon:d(a)},r)},n)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),updatePhenomenon:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("PATCH","".concat(t,"/phenomenon"),p(n)).then((function(e){var t=e.data,n=Object(i.a)(e,["data"]),a=t.phenomenon,r=Object(i.a)(t,["phenomenon"]);return Object(A.a)({data:Object(A.a)({phenomenon:d(a)},r)},n)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deletePhenomenon:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("DELETE","".concat(t,"/phenomenon"),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addRadarTimeRange:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("POST","".concat(t,"/time-range"),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),updateRadarTimeRange:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("PATCH","".concat(t,"/time-range"),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteRadarTimeRange:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("DELETE","".concat(t,"/time-range"),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),createSector:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("POST","".concat(t,"/sector"),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),updateSector:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("PATCH","".concat(t,"/sector"),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteSector:function(){var e=Object(o.a)(r.a.mark((function e(t,n,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m("DELETE","".concat(t,"/sector"),a));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()};t.a=h},273:function(e,t,n){e.exports={ReactModal__Content:"PublicLink_ReactModal__Content__3WOSB",Modal__Title:"PublicLink_Modal__Title__2Cqix",SavePublicLink__Container:"PublicLink_SavePublicLink__Container__hWhdN",RegenerateBtn:"PublicLink_RegenerateBtn__3vqov"}},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d}));var a=n(4),r=n.n(a),A=n(7),i=n(62),o=n.n(i);function c(){return sessionStorage.getItem("fp-session-token")}function s(){return sessionStorage.getItem("fp-csrf-token")}function l(){return sessionStorage.getItem("fp-username")}function u(){var e=sessionStorage.getItem("fp-user-roles");return!(!e||!e.length)&&JSON.parse(e)[0]}function d(){return p.apply(this,arguments)}function p(){return(p=Object(A.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o()({method:"get",url:"".concat("/api","/session/token"),withCredentials:!0}).then((function(e){var t=e.data["X-CSRF-Token"];return sessionStorage.setItem("fp-csrf-token",t),o()({method:"get",url:"".concat("/api","/fp-session-token"),withCredentials:!0}).then((function(e){var t=e.data.token,n=Number(e.data.user_id),a=e.data.accountDrupalRoles,r=e.data.user_name;return sessionStorage.setItem("fp-session-token",t),sessionStorage.setItem("fp-user-id",n),sessionStorage.setItem("fp-username",r),sessionStorage.setItem("fp-user-roles",JSON.stringify(a)),!0}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.a.interceptors.response.use(null,(function(e){return!e.response||401!==e.response.status&&403!==e.response.status||window.location.replace(""),Promise.reject(e)}))},52:function(e,t,n){"use strict";n.r(t),n.d(t,"getGroups",(function(){return N})),n.d(t,"getMemberships",(function(){return F})),n.d(t,"getRadar",(function(){return q})),n.d(t,"createRadar",(function(){return U})),n.d(t,"cloneRadar",(function(){return V})),n.d(t,"updateRadar",(function(){return K})),n.d(t,"deleteRadar",(function(){return W})),n.d(t,"createPhenomenon",(function(){return z})),n.d(t,"updatePhenomenon",(function(){return $})),n.d(t,"createRadarSectorPhenomenon",(function(){return te})),n.d(t,"updateRadarSectorPhenomenon",(function(){return ae})),n.d(t,"deleteRadarSectorPhenomenon",(function(){return Ae})),n.d(t,"getRadarTemplates",(function(){return oe})),n.d(t,"updateGroup",(function(){return se})),n.d(t,"getRadarsByGroupId",(function(){return ue})),n.d(t,"getMembershipByGroupId",(function(){return pe})),n.d(t,"deleteMemberships",(function(){return ge})),n.d(t,"updateMembershipRole",(function(){return fe})),n.d(t,"getGroupById",(function(){return ve})),n.d(t,"grantRadarUserAccess",(function(){return we})),n.d(t,"revokeRadarUserAccess",(function(){return Oe})),n.d(t,"inviteToRadar",(function(){return xe})),n.d(t,"createRadarShareLink",(function(){return ke})),n.d(t,"getPhenomenaTypes",(function(){return Se})),n.d(t,"getRssFeedTags",(function(){return Me})),n.d(t,"getHubspotAlertsTaxonomy",(function(){return Pe})),n.d(t,"getGroupSettings",(function(){return Be})),n.d(t,"getGroupsWithMemberShips",(function(){return Le})),n.d(t,"createSignal",(function(){return Qe})),n.d(t,"fetchShares",(function(){return Ye})),n.d(t,"regenerateShare",(function(){return Ge})),n.d(t,"deleteShare",(function(){return Je})),n.d(t,"getRadarPublicShare",(function(){return Ze})),n.d(t,"createOrReplaceRadarPublicShare",(function(){return He})),n.d(t,"removeRadarPublicShare",(function(){return _e})),n.d(t,"regenerateRadarPublicShare",(function(){return $e})),n.d(t,"getVotingResults",(function(){return nt}));var a=n(64),r=n(22),A=n(3),i=n(4),o=n.n(i),c=n(7),s=n(62),l=n.n(s),u=n(49),d=n(61),p=n(1333),m=n(1335),g=n(1337),h=function(e){var t=e.hide_users,n=e.title,a=e.map_intro,r=e.language,i=e.axis_x_title,o=e.axis_x_max,c=e.axis_x_min,s=e.axis_y_title,l=e.axis_y_max,u=e.axis_y_min,p=e.four_fields_top_left,m=e.four_fields_top_right,g=e.four_fields_bottom_left,h=e.four_fields_bottom_right,f=e.enable_issue_rating,b=e.allow_issue_rating,v=e.show_freewall,E=e.enable_issue_commenting,w=e.allow_comment_thumbing,y=e.logo_image,O=e.display_halo_when_rating,j=e.uuid,x=e.signal_tool_enabled,C=e.owner_id,k=e.enable_url_login,T=e.url_login_expire,S=e.url_login_link,D=e.radar_template,M=e.title_logo,I=e.timeline_label_format,P=Object(d.a)(e,["hide_users","title","map_intro","language","axis_x_title","axis_x_max","axis_x_min","axis_y_title","axis_y_max","axis_y_min","four_fields_top_left","four_fields_top_right","four_fields_bottom_left","four_fields_bottom_right","enable_issue_rating","allow_issue_rating","show_freewall","enable_issue_commenting","allow_comment_thumbing","logo_image","display_halo_when_rating","uuid","signal_tool_enabled","owner_id","enable_url_login","url_login_expire","url_login_link","radar_template","title_logo","timeline_label_format"]);return Object(A.a)({hideUsersFromTrial:t,radarName:n,mapIntro:a,radarLanguage:r,axisXTitle:i,axisXMax:o,axisXMin:c,axisYTitle:s,axisYMax:l,axisYMin:u,fourFieldsTopLeft:p,fourFieldsTopRight:m,fourFieldsBottomLeft:g,fourFieldsBottomRight:h,displayHaloWhenRating:O,commentsOn:"Yes"===E,likingOn:"Yes"===w,ratingsOn:"Yes"===f,votingOn:"Yes"===b,discussionOn:"Yes"===v,radarImage:y,uuid:j,signalToolEnabled:x,ownerId:C,enableUrlLogin:k,urlLoginExpire:T,urlLoginLink:S,isRadarTemplate:!!D,titleLogo:M,timelineLabelFormat:I},P)},f=function(e){var t=e.radarName,n=e.mapIntro,a=e.hideUsersFromTrial,r=e.phenomenaSet,A=e.ratingsOn,i=void 0!==A&&A,o=e.commentsOn,c=void 0!==o&&o,s=e.likingOn,l=void 0!==s&&s,u=e.discussionOn,d=void 0!==u&&u,p=e.votingOn,m=void 0!==p&&p,g=e.radarImage,h=void 0===g?null:g,f=e.radarTitleImage,b=void 0===f?null:f,v=e.axisXTitle,E=void 0===v?null:v,w=e.axisXMax,y=void 0===w?null:w,O=e.axisXMin,j=void 0===O?null:O,x=e.axisYTitle,C=void 0===x?null:x,k=e.axisYMax,T=void 0===k?null:k,S=e.axisYMin,D=void 0===S?null:S,M=e.fourFieldsTopLeft,I=void 0===M?null:M,P=e.fourFieldsTopRight,R=void 0===P?null:P,B=e.fourFieldsBottomLeft,N=void 0===B?null:B,L=e.fourFieldsBottomRight,F=void 0===L?null:L,Q=e.displayHaloWhenRating,q=void 0!==Q&&Q,Y=e.timelineLabelFormat;return{title:t,map_intro:n,hide_users:a?1:0,template_id:r,allow_issue_rating:m?"Yes":"No",enable_issue_rating:i?"Yes":"No",enable_issue_commenting:c?"Yes":"No",show_freewall:d?"Yes":"No",allow_comment_thumbing:l?"Yes":"No",axis_x_title:E,axis_x_max:y,axis_x_min:j,axis_y_title:C,axis_y_max:T,axis_y_min:D,four_fields_top_left:I,four_fields_top_right:R,four_fields_bottom_left:N,four_fields_bottom_right:F,display_halo_when_rating:q,logo_image:h,title_logo:b,timeline_label_format:void 0!==Y&&Y}},b=function(e){var t=e.group,n=e.enableUrlLogin,a=e.urlLoginExpire,r=e.isRadarTemplate,i=e.timelineLabelFormat;return Object(A.a)(Object(A.a)({},f(e)),{},{gid:!t||Array.isArray(t)&&0===t.length?{id:0}:t,enable_url_login:n,url_login_expire:a,radar_template:r,timeline_label_format:i})},v=function(e){var t=e.group,n=e.radarLanguage;return Object(A.a)(Object(A.a)({},f(e)),{},{gid:t,language:n||"en"})},E=function(e){var t=e.uuid;return{uuid:Object(p.a)(t)}},w=function(e){return e.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{id:e.uuid})}))},y=function(e){var t=e.relatedPhenomena,n=e.title,a=e.language,r=e.shortTitle,A=e.state,i=e.video,o=e.body,c=e.videoText,s=e.lead,l=e.imageUrl,u=e.feedTag,d=e.group,p=e.userId,m=e.archived,g=e.timing,h=e.links,f={short_name:r,group_id:d,user_id:Number(p),megatrend:1,language:a,title:n,issue_state:A.issue_state,video_url:i,body:o,media_text:c,related_phenomena:w(t),ingress_body:s,feed_tag:u,image_url:l,timing:g,links:h};return m&&(f.archived=1),0===Number(d)&&(f.visibility="PUBLIC"),f},O=function(e){return function(e){if(e.length){var t=Object(r.a)(e),n=e.slice(Math.max(e.length-6,0));n[1].order=1,n[3].order=4,n[0].order=6,n[4].order=5,n[5].order=3,n[2].order=2;var a=Object(m.a)(n,"order");return t.splice(t.length-6),[].concat(Object(r.a)(t),Object(r.a)(a))}return e}(Object(g.a)(e,(function(e){return e.id})))},j=function(e,t){return e.map((function(e){return Object(A.a)({id:"fp:doc-types/group/".concat(t,"/").concat(e.name),title:e.label||e.name,label:e.label||e.name,groupType:!0},e)}))},x=function(e){return Object(g.a)(e,(function(e){return e.id}))};function C(e){var t=e.count,n=Object(d.a)(e,["count"]);return{results:Object.values(n).filter((function(e){return e.url_alias})),count:Number(t)}}var k=function(e){var t,n,a=e.id,r=e.label,i=e.radarsUsed,o=e.radarsAllowed,c=e.accountDrupalRoles,s=e.accountPermissions,l=e.availableResources,u=Number(o),d=c&&(t=c[0],!!_.find(t,(function(e){return"fp editor"===e}))),p=s&&("manager"===(n=s.role)||"owner"===n||"editor"===n);return Object(A.a)(Object(A.a)({},e),{},{id:a,value:a,label:r,radarsAllowed:u,radarsUsed:i,hasAvailableRadars:i<u,availableResources:l,canEditPublic:d,canEdit:p})},T=n(427),S=n(1334),D="GET",M="POST",I="DELETE",P="PATCH";function R(e,t){return B.apply(this,arguments)}function B(){return(B=Object(c.a)(o.a.mark((function e(t,n){var a,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:null,e.abrupt("return",l()({method:t,url:"".concat("/api","/v1.0/").concat(n),headers:{"X-CSRF-Token":Object(u.a)(),"Content-Type":"application/json",Authorization:"Bearer ".concat(Object(u.b)())},withCredentials:!0,data:a||null}).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return L.apply(this,arguments)}function L(){return(L=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"group"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return Q.apply(this,arguments)}function Q(){return(Q=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"membership"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"radars/".concat(t)).then((function(e){return e[0]})).then(h));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return G.apply(this,arguments)}function G(){return(G=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(M,"radars",v(t)).then((function(e){return e[0]})).then(h));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return J.apply(this,arguments)}function J(){return(J=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(M,"radars",{parent_radar_id:t}).then((function(e){return e[0]})).then(h));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(P,"radars/".concat(t),b(n)).then((function(e){return e[0]})).then(h));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return H.apply(this,arguments)}function H(){return(H=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(I,"radars/".concat(t)).then((function(){return t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return X.apply(this,arguments)}function X(){return(X=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(M,"phenomena",[y(t)]).then((function(e){return e.phenomena[0]})).then(E).then((function(e){return Object(A.a)(Object(A.a)({},t),e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(P,"phenomena/".concat(t),[y(n)]).then(E).then((function(e){return Object(A.a)(Object(A.a)({},e),n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(M,"radar-sector-phenomena",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return re.apply(this,arguments)}function re(){return(re=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(P,"radar-sector-phenomena/".concat(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(I,"radar-sector-phenomena/".concat(t)).then((function(){return t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return ce.apply(this,arguments)}function ce(){return(ce=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"radartemplates?&sort=label"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t){return le.apply(this,arguments)}function le(){return(le=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(P,"group/".concat(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return de.apply(this,arguments)}function de(){return(de=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"radarsingroup?filter[gid]=".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t,n,a){return me.apply(this,arguments)}function me(){return(me=Object(c.a)(o.a.mark((function e(t,n,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"membership?filter[gid]=".concat(t,"&page[number]=").concat(n,"&page[size]=").concat(25).concat(a&&a.value?"&filter[role]=".concat(a.value.toLowerCase()):"").concat(r&&r.length?"&email_like=".concat(r):"","&sort=role_weight,email")));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return he.apply(this,arguments)}function he(){return(he=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(I,"membershipsdelete",t.map((function(e){return{mid:e}}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){return be.apply(this,arguments)}function be(){return(be=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R("PUT","membershiprole",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"group?filter[id]=".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(M,"radargrantuseraccess",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){return je.apply(this,arguments)}function je(){return(je=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(I,"radarrevokeuseraccess",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(M,"groupadduser/".concat(n),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","https://fp-dev.sangre.fi/fp-radar-visit/a363b635-bb6c-401b-a9e8-257f31c33a10");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return De.apply(this,arguments)}function De(){return(De=Object(c.a)(o.a.mark((function e(t){var n,a,A;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(D,"phenomenontypes?sort=weight");case 2:if(n=e.sent,e.t0=t,!e.t0){e.next=8;break}return e.next=7,ve(t);case 7:e.t0=e.sent;case 8:return a=e.t0,A=Object(T.a)(a,"0.settings.doc_types.phenomenon.types",[]),e.abrupt("return",[].concat(Object(r.a)(j(A,t)),Object(r.a)(O(n))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"rssfeedtags").then(x));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return Re.apply(this,arguments)}function Re(){return(Re=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C,e.next=3,R(D,"hubspotalerts?sort=weight");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"groupsettings?gid=".concat(Number(t))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(c.a)(o.a.mark((function e(){var t,n,r,A,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([N(),F()]);case 2:return t=e.sent,n=Object(a.a)(t,2),r=n[0],A=n[1],i=A?Object.values(A).map((function(e){return parseInt(e.gid,10)})):[],c=r?Object.values(r).filter((function(e){return-1!==i.indexOf(e.id)})):[],e.abrupt("return",Object(S.a)(c,k));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(M,"signals",[t]));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"radarshares?gid=".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(I,"radarshares/".concat(t,"/?regenerate=1")));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(I,"radarshares/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e){return We.apply(this,arguments)}function We(){return(We=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=tt,e.next=3,R(D,"public-radar-shares?radar_id=".concat(t));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(c.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.radarId,a=t.expired,r=void 0===a?null:a,e.t0=tt,e.next=4,R(M,"public-radar-shares?radar_id=".concat(n),{login_expire:r instanceof Date?Math.round(r.getTime()/1e3):0});case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(I,"public-radar-shares?radar_id=".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){return et.apply(this,arguments)}function et(){return(et=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=tt,e.next=3,R(I,"public-radar-shares?radar_id=".concat(t,"&regenerate=1"));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){if(e){var t=e.login_expire,n=e.radar_share_url;return{expired:!!t&&new Date(1e3*t),url:n}}return null}function nt(e){return at.apply(this,arguments)}function at(){return(at=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(D,"votes/?radar_id=".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default={cloneRadar:V,createPhenomenon:z,createRadar:U,createRadarSectorPhenomenon:te,createSignal:Qe,deleteMemberships:ge,deleteRadar:W,deleteRadarSectorPhenomenon:Ae,deleteShare:Je,fetchShares:Ye,getGroupById:ve,getGroupSettings:Be,getGroups:N,getGroupsWithMemberShips:Le,getMembershipByGroupId:pe,getMemberships:F,getPhenomenaTypes:Se,getRadar:q,getRadarTemplates:oe,getRadarsByGroupId:ue,getRssFeedTags:Me,getHubspotAlertsTaxonomy:Pe,getVotingResults:nt,grantRadarUserAccess:we,inviteToRadar:xe,regenerateShare:Ge,revokeRadarUserAccess:Oe,updateGroup:se,updateMembershipRole:fe,updatePhenomenon:$,updateRadar:K,updateRadarSectorPhenomenon:ae,getRadarPublicShare:Ze,removeRadarPublicShare:_e,createOrReplaceRadarPublicShare:He,regenerateRadarPublicShare:$e}},572:function(e,t){},688:function(e,t,n){e.exports=n(1304)},946:function(e,t){String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!==typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)})}},[[688,1,2]]]);
//# sourceMappingURL=main.9b3d272c.chunk.js.map